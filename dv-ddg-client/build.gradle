/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */


 /*
 * Do not modify!
 */



apply from: 'dv-ddg-client/ddgconfig.gradle'



def java_args_config = {

  main = 'DepDataGen.build.util.ddg.cmd_tool.cmd_tool.DdgPipeRunner'

  //provide the paths to your projects here as java-args
  if(remote){
      args '---r'
      args "${url}"
  }
  else{
      args '---l'
  }

  args '---a-p-u'
  args "${plugins_location}"

  ddg_use_cases.each { use_case ->
      args "${use_case}"
  }

  //class path for ddg
  classpath file('ddg-pipe.jar')
  classpath file('./gc-client.jar')
  classpath file('./ddg.jar')
  classpath fileTree('./dm.client.lib/')

  //mps-specific class path
  classpath file('jdi.jar')

  classpath fileTree("${mps_home}/lib") // $mps_home points to the MPS installation
  classpath fileTree("${mps_home}/plugins")
}


// ############################# new-graph-version ##################

task newVersion_defaultGraph(type: JavaExec){
  main = 'ddg.util.external_graphdb_management.NewVersion_GradleOnly'
  //class path for ddg
  classpath file('ddg-pipe.jar')
  classpath file('./gc-client.jar')
  classpath file('./ddg.jar')
  classpath fileTree('./dm.client.lib/')

  args "default_graph"
  if(remote){
      args "${url}"
  }
  else{
      args "http://localhost:4434"
  }
}

// ##################### iets3 #####################

task run_ddg_iets3_opensource(type: JavaExec) {

    configure java_args_config

    args '---vp'
    args 'iets3.opensource'

    args '---f'
    args "${projects_home}/iets3.opensource/code/languages/org.iets3.opensource"
}
