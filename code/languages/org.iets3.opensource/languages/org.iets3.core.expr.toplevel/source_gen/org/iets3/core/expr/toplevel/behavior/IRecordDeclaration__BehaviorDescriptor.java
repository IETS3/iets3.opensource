package org.iets3.core.expr.toplevel.behavior;

/*Generated by MPS */

import jetbrains.mps.core.aspects.behaviour.BaseBHDescriptor;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.core.aspects.behaviour.api.SMethod;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.core.aspects.behaviour.SMethodBuilder;
import jetbrains.mps.core.aspects.behaviour.SJavaCompoundTypeImpl;
import jetbrains.mps.core.aspects.behaviour.AccessPrivileges;
import jetbrains.mps.scope.Scope;
import java.util.Set;
import java.util.List;
import java.util.Arrays;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import com.mbeddr.core.base.behavior.IVisibleElementProvider__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.scope.ListScope;
import org.iets3.core.expr.base.behavior.ITypeable__BehaviorDescriptor;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.HashSet;
import java.util.Objects;
import jetbrains.mps.core.aspects.behaviour.api.SConstructor;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.core.aspects.behaviour.api.BHMethodNotFoundException;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;

public final class IRecordDeclaration__BehaviorDescriptor extends BaseBHDescriptor {
  private static final SAbstractConcept CONCEPT = MetaAdapterFactory.getInterfaceConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x85e1e1330497e6fL, "org.iets3.core.expr.toplevel.structure.IRecordDeclaration");

  public static final SMethod<Iterable<SNode>> nonEmptyMembers_id58eyHuUgYVm = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("nonEmptyMembers").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5912816019931655894L).languageId(0xa0548c072591085fL, 0x71934284d7d145eeL).build2();
  public static final SMethod<Iterable<SNode>> visibleMembers_id6NHlpK$oaBU = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("visibleMembers").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(7849023854690216442L).languageId(0xa0548c072591085fL, 0x71934284d7d145eeL).build2();
  public static final SMethod<Iterable<SNode>> namedNodesForComment_id5ElkanPUl6T = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("namedNodesForComment").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(6527211908668936633L).languageId(0xb66a309a6e1a7290L, 0xcfaa4966b7d54b69L).build2();
  public static final SMethod<Iterable<SNode>> visibleContentsOfType_id6clJcrJXo2_ = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("visibleContentsOfType").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(7139820346881179813L).languageId(0xaa41d1b2bffa7eb1L, 0xd4280a54f6df4383L).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));
  public static final SMethod<Scope> visibleContentsOfType_id79$zShlSHxZ = new SMethodBuilder<Scope>(new SJavaCompoundTypeImpl(Scope.class)).name("visibleContentsOfType").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8242871016534235263L).languageId(0xaa41d1b2bffa7eb1L, 0xd4280a54f6df4383L).build2(SMethodBuilder.createJavaParameter((Class<SAbstractConcept>) ((Class) Object.class), ""));
  public static final SMethod<Iterable<SNode>> getDependenciesRelevantForCycleDetection_id59HbAIOYveX = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("getDependenciesRelevantForCycleDetection").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5939454523704210365L).languageId(0xaa41d1b2bffa7eb1L, 0xd4280a54f6df4383L).build2();
  public static final SMethod<Set<SNode>> traceBackElementInCycle_id17fjvcLF7UR = new SMethodBuilder<Set<SNode>>(new SJavaCompoundTypeImpl((Class<Set<SNode>>) ((Class) Object.class))).name("traceBackElementInCycle").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(1283330125729660599L).languageId(0xaa41d1b2bffa7eb1L, 0xd4280a54f6df4383L).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));
  public static final SMethod<String> getErrorMessageForElementInCycle_id2G8yZXxNStd = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("getErrorMessageForElementInCycle").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3100882272418498381L).languageId(0xaa41d1b2bffa7eb1L, 0xd4280a54f6df4383L).build2();
  public static final SMethod<Boolean> canBeReferenced_id6JZACDWPqWY = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("canBeReferenced").modifiers(12, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(7782108600710049598L).languageId(0xa0548c072591085fL, 0x71934284d7d145eeL).build2();
  public static final SMethod<Boolean> hasItsOwnType_idMIkgqljGnG = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("hasItsOwnType").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(913756863119410668L).languageId(0xa0548c072591085fL, 0x71934284d7d145eeL).build2();
  public static final SMethod<SNode> createTypeNode_id42g3Tih0Tsk = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("createTypeNode").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(4652235545836230420L).languageId(0xa0548c072591085fL, 0x71934284d7d145eeL).build2();
  public static final SMethod<Iterable<SNode>> effectiveMembers_id1qrYg08iahZ = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("effectiveMembers").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(1629169468758860927L).languageId(0xa0548c072591085fL, 0x71934284d7d145eeL).build2();
  public static final SMethod<Boolean> equals_id3i_T7GdgtPy = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("equals").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3793689478284041570L).languageId(0xa0548c072591085fL, 0x71934284d7d145eeL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));

  private static final List<SMethod<?>> BH_METHODS = Arrays.<SMethod<?>>asList(nonEmptyMembers_id58eyHuUgYVm, visibleMembers_id6NHlpK$oaBU, namedNodesForComment_id5ElkanPUl6T, visibleContentsOfType_id6clJcrJXo2_, visibleContentsOfType_id79$zShlSHxZ, getDependenciesRelevantForCycleDetection_id59HbAIOYveX, traceBackElementInCycle_id17fjvcLF7UR, getErrorMessageForElementInCycle_id2G8yZXxNStd, canBeReferenced_id6JZACDWPqWY, hasItsOwnType_idMIkgqljGnG, createTypeNode_id42g3Tih0Tsk, effectiveMembers_id1qrYg08iahZ, equals_id3i_T7GdgtPy);

  private static void ___init___(@NotNull SNode __thisNode__) {
  }

  /*package*/ static Iterable<SNode> nonEmptyMembers_id58eyHuUgYVm(@NotNull SNode __thisNode__) {
    return Sequence.fromIterable(IRecordDeclaration__BehaviorDescriptor.effectiveMembers_id1qrYg08iahZ.invoke(__thisNode__)).where((it) -> !(SNodeOperations.isInstanceOf(it, CONCEPTS.IEmpty$6_)));
  }
  /*package*/ static Iterable<SNode> visibleMembers_id6NHlpK$oaBU(@NotNull SNode __thisNode__) {
    return ((Iterable<SNode>) IRecordDeclaration__BehaviorDescriptor.effectiveMembers_id1qrYg08iahZ.invoke(__thisNode__));
  }
  /*package*/ static Iterable<SNode> namedNodesForComment_id5ElkanPUl6T(@NotNull SNode __thisNode__) {
    return SLinkOperations.getChildren(__thisNode__, LINKS.members$mJj1);
  }
  /*package*/ static Iterable<SNode> visibleContentsOfType_id6clJcrJXo2_(@NotNull SNode __thisNode__, SNode targetConcept) {
    return ((Iterable<SNode>) IVisibleElementProvider__BehaviorDescriptor.visibleContentsOfTypeAsSequence_id3g6LnlWuSo8.invoke(__thisNode__, SNodeOperations.asSConcept(targetConcept)));
  }
  /*package*/ static Scope visibleContentsOfType_id79$zShlSHxZ(@NotNull SNode __thisNode__, SAbstractConcept targetConcept) {
    if (SConceptOperations.isExactly(SNodeOperations.asSConcept(targetConcept), CONCEPTS.IRecordMember$$B)) {
      return ListScope.forResolvableElements(IRecordDeclaration__BehaviorDescriptor.effectiveMembers_id1qrYg08iahZ.invoke(__thisNode__));
    }
    return ListScope.forResolvableElements(IVisibleElementProvider__BehaviorDescriptor.visibleContentsOfTypeAsSequence_id3g6LnlWuSo8.invoke(SNodeOperations.getNodeAncestor(__thisNode__, CONCEPTS.IVisibleElementProvider$$O, false, false), targetConcept));
  }
  /*package*/ static Iterable<SNode> getDependenciesRelevantForCycleDetection_id59HbAIOYveX(@NotNull SNode __thisNode__) {
    return Sequence.fromIterable(IRecordDeclaration__BehaviorDescriptor.effectiveMembers_id1qrYg08iahZ.invoke(__thisNode__)).where((it) -> SNodeOperations.isInstanceOf(ITypeable__BehaviorDescriptor.type_id4WLweXm3SW5.invoke(it), CONCEPTS.RecordType$z_)).select((it) -> SLinkOperations.getTarget(SNodeOperations.cast(ITypeable__BehaviorDescriptor.type_id4WLweXm3SW5.invoke(it), CONCEPTS.RecordType$z_), LINKS.record$jEA7));
  }
  /*package*/ static Set<SNode> traceBackElementInCycle_id17fjvcLF7UR(@NotNull SNode __thisNode__, SNode dependency) {
    Set<SNode> res = SetSequence.fromSet(new HashSet<SNode>());
    SetSequence.fromSet(res).addElement(dependency);
    return res;
  }
  /*package*/ static String getErrorMessageForElementInCycle_id2G8yZXxNStd(@NotNull SNode __thisNode__) {
    return "cyclic record structures have to use an opt<Record> in at least one member to break the containment cycle";
  }
  /*package*/ static boolean hasItsOwnType_idMIkgqljGnG(@NotNull SNode __thisNode__) {
    return false;
  }
  /*package*/ static SNode createTypeNode_id42g3Tih0Tsk(@NotNull SNode __thisNode__) {
    return createRecordType_gm3fbs_a0a01(__thisNode__);
  }
  /*package*/ static Iterable<SNode> effectiveMembers_id1qrYg08iahZ(@NotNull SNode __thisNode__) {
    SNode r = SNodeOperations.getNodeAncestor(__thisNode__, CONCEPTS.IDeclarationExtensionContext$$B, false, false);
    if (r != null) {
      return Sequence.fromIterable(IDeclarationExtensionContext__BehaviorDescriptor.effectiveMembers_idolugnm5RHX.invoke(r, __thisNode__)).ofType(SNode.class);
    }
    return SLinkOperations.getChildren(__thisNode__, LINKS.members$mJj1);
  }
  /*package*/ static boolean equals_id3i_T7GdgtPy(@NotNull SNode __thisNode__, SNode declaration) {
    return Objects.equals(__thisNode__, declaration);
  }

  /*package*/ IRecordDeclaration__BehaviorDescriptor() {
  }

  @Override
  protected void initNode(@NotNull SNode node, @NotNull SConstructor constructor, @Nullable Object[] parameters) {
    ___init___(node);
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SNode node, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      case 0:
        return (T) ((Iterable<SNode>) nonEmptyMembers_id58eyHuUgYVm(node));
      case 1:
        return (T) ((Iterable<SNode>) visibleMembers_id6NHlpK$oaBU(node));
      case 2:
        return (T) ((Iterable<SNode>) namedNodesForComment_id5ElkanPUl6T(node));
      case 3:
        return (T) ((Iterable<SNode>) visibleContentsOfType_id6clJcrJXo2_(node, (SNode) parameters[0]));
      case 4:
        return (T) ((Scope) visibleContentsOfType_id79$zShlSHxZ(node, (SAbstractConcept) parameters[0]));
      case 5:
        return (T) ((Iterable<SNode>) getDependenciesRelevantForCycleDetection_id59HbAIOYveX(node));
      case 6:
        return (T) ((Set<SNode>) traceBackElementInCycle_id17fjvcLF7UR(node, (SNode) parameters[0]));
      case 7:
        return (T) ((String) getErrorMessageForElementInCycle_id2G8yZXxNStd(node));
      case 9:
        return (T) ((Boolean) hasItsOwnType_idMIkgqljGnG(node));
      case 10:
        return (T) ((SNode) createTypeNode_id42g3Tih0Tsk(node));
      case 11:
        return (T) ((Iterable<SNode>) effectiveMembers_id1qrYg08iahZ(node));
      case 12:
        return (T) ((Boolean) equals_id3i_T7GdgtPy(node, (SNode) parameters[0]));
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SAbstractConcept concept, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @NotNull
  @Override
  public List<SMethod<?>> getDeclaredMethods() {
    return BH_METHODS;
  }

  @NotNull
  @Override
  public SAbstractConcept getConcept() {
    return CONCEPT;
  }
  private static SNode createRecordType_gm3fbs_a0a01(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.RecordType$z_);
    n0.setReferenceTarget(LINKS.record$jEA7, p0);
    return n0.getResult();
  }

  private static final class CONCEPTS {
    /*package*/ static final SInterfaceConcept IEmpty$6_ = MetaAdapterFactory.getInterfaceConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0xe900768cf47dcc3L, "com.mbeddr.core.base.structure.IEmpty");
    /*package*/ static final SInterfaceConcept IRecordMember$$B = MetaAdapterFactory.getInterfaceConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x85e1e1330376a27L, "org.iets3.core.expr.toplevel.structure.IRecordMember");
    /*package*/ static final SInterfaceConcept IVisibleElementProvider$$O = MetaAdapterFactory.getInterfaceConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0x6315bcc6eff580a3L, "com.mbeddr.core.base.structure.IVisibleElementProvider");
    /*package*/ static final SConcept RecordType$z_ = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x7a477bfec237e8c2L, "org.iets3.core.expr.toplevel.structure.RecordType");
    /*package*/ static final SInterfaceConcept IDeclarationExtensionContext$$B = MetaAdapterFactory.getInterfaceConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x6157905d6177b58L, "org.iets3.core.expr.toplevel.structure.IDeclarationExtensionContext");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink members$mJj1 = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x85e1e1330497e6fL, 0x85e1e13304988c5L, "members");
    /*package*/ static final SReferenceLink record$jEA7 = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x7a477bfec237e8c2L, 0x7a477bfec237e8c3L, "record");
  }
}
