package org.iets3.core.expr.simpleTypes.actions;

/*Generated by MPS */

import jetbrains.mps.openapi.actions.descriptor.NodeFactory;
import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.openapi.model.SModel;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import de.slisson.mps.richtext.behavior.Text__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SProperty;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class SimpleTypesFactories {
  public static class NodeFactory_1483061781798430795 implements NodeFactory {
    public void setup(SNode newNode, SNode sampleNode, SNode enclosingNode, int index, SModel model) {
      {
        final SNode expressionNode = sampleNode;
        if (SNodeOperations.isInstanceOf(expressionNode, CONCEPTS.Expression$D_)) {
          SNode numberLiteral = ListSequence.fromList(SNodeOperations.getNodeDescendants(expressionNode, CONCEPTS.NumberLiteral$wE, true, new SAbstractConcept[]{})).first();
          if ((numberLiteral != null)) {
            SPropertyOperations.assign(newNode, PROPS.value$iWTK, SPropertyOperations.getString(numberLiteral, PROPS.value$iWTK));
          }
        }
      }
    }
  }
  public static class NodeFactory_1483061781798452571 implements NodeFactory {
    public void setup(SNode newNode, SNode sampleNode, SNode enclosingNode, int index, SModel model) {
      {
        final SNode expressionNode = sampleNode;
        if (SNodeOperations.isInstanceOf(expressionNode, CONCEPTS.Expression$D_)) {
          SNode stringLiteral = ListSequence.fromList(SNodeOperations.getNodeDescendants(expressionNode, CONCEPTS.StringLiteral$By, true, new SAbstractConcept[]{})).first();
          if ((stringLiteral != null)) {
            SPropertyOperations.assign(newNode, PROPS.value$zwlK, SPropertyOperations.getString(stringLiteral, PROPS.value$zwlK));
          }
        }
      }
      {
        final SNode interpolatedString = sampleNode;
        if (SNodeOperations.isInstanceOf(interpolatedString, CONCEPTS.StringInterpolationExpr$zy)) {
          SPropertyOperations.assign(newNode, PROPS.value$zwlK, Text__BehaviorDescriptor.asTextString_id3Q5enzfMT4l.invoke(SLinkOperations.getTarget(interpolatedString, LINKS.text$btRI)));
        }
      }
      if (isEmptyString(SPropertyOperations.getString(newNode, PROPS.value$zwlK)) && (sampleNode != null)) {
        SPropertyOperations.assign(newNode, PROPS.value$zwlK, SNodeOperations.present(sampleNode));
      }
    }
    private static boolean isEmptyString(String str) {
      return str == null || str.isEmpty();
    }
  }
  public static class NodeFactory_1483061781799293722 implements NodeFactory {
    public void setup(SNode newNode, SNode sampleNode, SNode enclosingNode, int index, SModel model) {
      SLinkOperations.setNewChild(newNode, LINKS.text$btRI, null);
      ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(newNode, LINKS.text$btRI), LINKS.words$C8QZ)).clear();

      {
        final SNode oldNode = sampleNode;
        if (SNodeOperations.isInstanceOf(oldNode, CONCEPTS.StringInterpolationExpr$zy)) {
          SLinkOperations.setTarget(newNode, LINKS.text$btRI, SLinkOperations.getTarget(oldNode, LINKS.text$btRI));
        }
      }

      {
        final SNode stringLiteral = sampleNode;
        if (SNodeOperations.isInstanceOf(stringLiteral, CONCEPTS.StringLiteral$By)) {
          ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(newNode, LINKS.text$btRI), LINKS.words$C8QZ)).addElement(createWord_w60nf4_a0a0a5a0c(SPropertyOperations.getString(stringLiteral, PROPS.value$zwlK)));
        }
      }

      if (isEmptyString(Text__BehaviorDescriptor.asTextString_id3Q5enzfMT4l.invoke(SLinkOperations.getTarget(newNode, LINKS.text$btRI))) && (sampleNode != null)) {
        ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(newNode, LINKS.text$btRI), LINKS.words$C8QZ)).addElement(createWord_w60nf4_a0a0a7a0c(SNodeOperations.present(sampleNode)));
      }

    }
    private static SNode createWord_w60nf4_a0a0a5a0c(String p0) {
      SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.Word$5r);
      n0.setProperty(PROPS.escapedValue$2Lqz, p0);
      return n0.getResult();
    }
    private static SNode createWord_w60nf4_a0a0a7a0c(String p0) {
      SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.Word$5r);
      n0.setProperty(PROPS.escapedValue$2Lqz, p0);
      return n0.getResult();
    }
    private static boolean isEmptyString(String str) {
      return str == null || str.isEmpty();
    }
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept Expression$D_ = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x670d5e92f854a047L, "org.iets3.core.expr.base.structure.Expression");
    /*package*/ static final SConcept NumberLiteral$wE = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral");
    /*package*/ static final SConcept StringLiteral$By = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d3edc8L, "org.iets3.core.expr.simpleTypes.structure.StringLiteral");
    /*package*/ static final SConcept StringInterpolationExpr$zy = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x73194702f119244aL, "org.iets3.core.expr.simpleTypes.structure.StringInterpolationExpr");
    /*package*/ static final SConcept Word$5r = MetaAdapterFactory.getConcept(0x92d2ea165a424fdfL, 0xa676c7604efe3504L, 0x237c8da86a9f2e0cL, "de.slisson.mps.richtext.structure.Word");
  }

  private static final class PROPS {
    /*package*/ static final SProperty value$iWTK = MetaAdapterFactory.getProperty(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, 0x46ff3b3d86d0e6ddL, "value");
    /*package*/ static final SProperty value$zwlK = MetaAdapterFactory.getProperty(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d3edc8L, 0x46ff3b3d86d3edcbL, "value");
    /*package*/ static final SProperty escapedValue$2Lqz = MetaAdapterFactory.getProperty(0x92d2ea165a424fdfL, 0xa676c7604efe3504L, 0x237c8da86a9f2e0cL, 0x237c8da86a9f2e0eL, "escapedValue");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink text$btRI = MetaAdapterFactory.getContainmentLink(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x73194702f119244aL, 0x73194702f119244bL, "text");
    /*package*/ static final SContainmentLink words$C8QZ = MetaAdapterFactory.getContainmentLink(0x92d2ea165a424fdfL, 0xa676c7604efe3504L, 0x237c8da86a9e4e61L, 0x237c8da86a9e7aeeL, "words");
  }
}
