package org.iets3.core.expr.simpleTypes.plugin;

/*Generated by MPS */

import jetbrains.mps.smodel.structure.Extension;
import org.iets3.core.expr.base.plugin.MutatorFactory;
import java.util.List;
import org.iets3.core.expr.base.plugin.Mutator;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import org.iets3.core.expr.base.plugin.AbstractNonReversibleMutator;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import org.iets3.core.expr.simpleTypes.behavior.NumberLiteral__BehaviorDescriptor;
import java.math.BigInteger;
import java.math.BigDecimal;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.iets3.core.expr.base.runtime.runtime.PTF;
import jetbrains.mps.typechecking.TypecheckingFacade;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SProperty;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class BaseMutatorContribution_extension extends Extension.Default<MutatorFactory> {
  public BaseMutatorContribution_extension() {
    super("org.iets3.core.expr.base.mutatorContributions");
  }



  public MutatorFactory get() {
    return new MutatorFactory() {
      public List<Mutator> mutators() {
        List<Mutator> res = ListSequence.fromList(new ArrayList<Mutator>());
        ListSequence.fromList(res).addElement(new AbstractNonReversibleMutator(CONCEPTS.NumberLiteral$wE) {
          public SNode mutate(SNode source) {
            SNode nl = SNodeOperations.cast(source, CONCEPTS.NumberLiteral$wE);
            String vv = SPropertyOperations.getString(nl, PROPS.value$iWTK);
            if ((boolean) NumberLiteral__BehaviorDescriptor.canBeInt_iduGVYUijgRw.invoke(nl)) {
              vv = new BigInteger(vv).add(new BigInteger("1")).toString();
            } else {
              vv = new BigDecimal(vv).add(new BigDecimal("1")).toString();
            }
            return (SNode) NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), vv);
          }
        });
        ListSequence.fromList(res).addElement(new AbstractNonReversibleMutator(CONCEPTS.FalseLiteral$ik) {
          public SNode mutate(SNode source) {
            return createFalseLiteral_hm6u1c_a0a0a0a0a2a0a0a0a5();
          }
        });
        ListSequence.fromList(res).addElement(new AbstractNonReversibleMutator(CONCEPTS.FalseLiteral$ik) {
          public SNode mutate(SNode source) {
            return createTrueLiteral_hm6u1c_a0a0a0a0a3a0a0a0a5();
          }
        });
        ListSequence.fromList(res).addElement(new AbstractNonReversibleMutator(CONCEPTS.Expression$D_) {
          public SNode mutate(SNode source) {
            SNode se = SNodeOperations.cast(SNodeOperations.copyNode(source), CONCEPTS.Expression$D_);
            return createParensExpression_hm6u1c_a1a0a0a0a4a0a0a0a5(SNodeOperations.copyNode(se), NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "1"));
          }
          @Override
          public boolean appliesTo(SNode n) {
            return super.appliesTo(n) && PTF.isIntegerType(SNodeOperations.cast(TypecheckingFacade.getFromContext().getTypeOf(n), CONCEPTS.Type$WK));
          }
        });

        return res;
      }
    };
  }
  private static SNode createFalseLiteral_hm6u1c_a0a0a0a0a2a0a0a0a5() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.FalseLiteral$ik);
    return n0.getResult();
  }
  private static SNode createTrueLiteral_hm6u1c_a0a0a0a0a3a0a0a0a5() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.TrueLiteral$_K);
    return n0.getResult();
  }
  private static SNode createParensExpression_hm6u1c_a1a0a0a0a4a0a0a0a5(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ParensExpression$Tv);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.expr$CW3E).init(CONCEPTS.PlusExpression$mx);
      {
        SNodeBuilder n2 = n1.forChild(LINKS.left$zxUa).init(CONCEPTS.ParensExpression$Tv);
        n2.forChild(LINKS.expr$CW3E).initNode(p0, CONCEPTS.Expression$D_, true);
      }
      n1.forChild(LINKS.right$zBjx).initNode(p1, CONCEPTS.Expression$D_, true);
    }
    return n0.getResult();
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept NumberLiteral$wE = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral");
    /*package*/ static final SConcept FalseLiteral$ik = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x670d5e92f854cb76L, "org.iets3.core.expr.simpleTypes.structure.FalseLiteral");
    /*package*/ static final SConcept Expression$D_ = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x670d5e92f854a047L, "org.iets3.core.expr.base.structure.Expression");
    /*package*/ static final SConcept Type$WK = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x670d5e92f854a614L, "org.iets3.core.expr.base.structure.Type");
    /*package*/ static final SConcept TrueLiteral$_K = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x670d5e92f854cb59L, "org.iets3.core.expr.simpleTypes.structure.TrueLiteral");
    /*package*/ static final SConcept ParensExpression$Tv = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x46ff3b3d86d2f11fL, "org.iets3.core.expr.base.structure.ParensExpression");
    /*package*/ static final SConcept PlusExpression$mx = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x46ff3b3d86c9a4f2L, "org.iets3.core.expr.base.structure.PlusExpression");
  }

  private static final class PROPS {
    /*package*/ static final SProperty value$iWTK = MetaAdapterFactory.getProperty(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, 0x46ff3b3d86d0e6ddL, "value");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink expr$CW3E = MetaAdapterFactory.getContainmentLink(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x3b256bb6ae8048d8L, 0x3b256bb6ae8048d9L, "expr");
    /*package*/ static final SContainmentLink left$zxUa = MetaAdapterFactory.getContainmentLink(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x46ff3b3d86c99c15L, 0x46ff3b3d86c99c16L, "left");
    /*package*/ static final SContainmentLink right$zBjx = MetaAdapterFactory.getContainmentLink(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x46ff3b3d86c99c15L, 0x46ff3b3d86c99c18L, "right");
  }
}
