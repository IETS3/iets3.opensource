package org.iets3.variability.artifacts.base.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.apache.commons.lang3.builder.ToStringBuilder;
import org.apache.commons.lang3.builder.ToStringStyle;

/**
 * A pivot node specifies "instantiation" from variability point of view.
 */
public class Pivot {
  private SNode pivotNode;
  private SNode targetNode;
  private SNode fmInclude;
  private SNode targetIVAA;


  public Pivot(SNode pivotNode, SNode targetNode, SNode fmInclude, SNode targetIVAA) {
    this.pivotNode = pivotNode;
    assert targetNode != null;
    this.targetNode = targetNode;
    this.fmInclude = fmInclude;
    this.targetIVAA = targetIVAA;
  }

  public SNode getPivotNode() {
    return pivotNode;
  }

  public SNode getTargetNode() {
    return targetNode;
  }

  public SNode getFMInclude() {
    return fmInclude;
  }

  public SNode getTargetIVAA() {
    return targetIVAA;
  }

  /**
   * Convert pivot to a segment of an artifact path (with default segment name).
   * 
   * @return a new segment corresponding to this pivot
   */
  public Segment asSegment() {
    return asSegment(SNodeOperations.present(pivotNode));
  }

  /**
   * Convert pivot to a segment of an artifact path (with a specific segment name).
   * 
   * @param segmentName specific name for the segment
   * @return a new segment corresponding to this pivot
   */
  public Segment asSegment(String segmentName) {
    return new Segment(pivotNode, segmentName, fmInclude, targetIVAA);
  }

  @Override
  public String toString() {
    ToStringBuilder builder = new ToStringBuilder(this);
    builder.setDefaultStyle(ToStringStyle.SHORT_PREFIX_STYLE);
    return builder.append("PivotNode", this.pivotNode).append("TargetNode", this.targetNode).append("FMInclude", this.fmInclude).append("targetIVAA", SNodeOperations.present(this.targetIVAA)).toString();
  }

}
