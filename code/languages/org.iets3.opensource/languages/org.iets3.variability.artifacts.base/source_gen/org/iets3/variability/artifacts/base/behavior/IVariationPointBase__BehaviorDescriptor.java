package org.iets3.variability.artifacts.base.behavior;

/*Generated by MPS */

import jetbrains.mps.core.aspects.behaviour.BaseBHDescriptor;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.core.aspects.behaviour.api.SMethod;
import jetbrains.mps.core.aspects.behaviour.SMethodBuilder;
import jetbrains.mps.core.aspects.behaviour.SJavaCompoundTypeImpl;
import jetbrains.mps.core.aspects.behaviour.AccessPrivileges;
import org.jetbrains.mps.openapi.model.SNode;
import java.util.List;
import java.util.Arrays;
import org.jetbrains.annotations.NotNull;
import java.util.Objects;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.iets3.variability.artifacts.base.plugin.ArtifactInstancePreviewer;
import org.iets3.variability.artifacts.base.plugin.ArtifactHelper;
import java.util.Optional;
import jetbrains.mps.core.aspects.behaviour.api.SConstructor;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.core.aspects.behaviour.api.BHMethodNotFoundException;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;

public final class IVariationPointBase__BehaviorDescriptor extends BaseBHDescriptor {
  private static final SAbstractConcept CONCEPT = MetaAdapterFactory.getInterfaceConcept(0xf08835038eaa4bc8L, 0x8846eb63220ab1ddL, 0x19503178dec840e6L, "org.iets3.variability.artifacts.base.structure.IVariationPointBase");

  public static final SMethod<String> nameForSolver_id3q2wVeozeaM = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("nameForSolver").modifiers(12, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3927846632402248370L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<String> shortId_idqnZSGXva9v = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("shortId").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(475129259207991903L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));
  public static final SMethod<SNode> artifactNode_id3q2wVepCV0v = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("artifactNode").modifiers(12, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3927846632420519967L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<SNode> artifactNodeData_id3PRltoWVL10 = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("artifactNodeData").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(4429103137175834688L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<String> getConditionAsString_id7Ca9tj9CeW1 = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("getConditionAsString").modifiers(12, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8793882818240376577L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<Integer> computeHash_id6s5puhjUPSP = new SMethodBuilder<Integer>(new SJavaCompoundTypeImpl(Integer.TYPE)).name("computeHash").modifiers(12, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(7423451592125013557L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<Boolean> isImplementedByArtifact_id2CjcCemM5G6 = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("isImplementedByArtifact").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3031822514902293254L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<SNode> getPreviewConfig_id3nzq23wxllr = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("getPreviewConfig").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3883061794138576219L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<Void> resetPreviewConfig_id2eukZZwNvpm = new SMethodBuilder<Void>(new SJavaCompoundTypeImpl(Void.class)).name("resetPreviewConfig").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2566581196101121622L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<SNode> getCurrentPreviewConfig_id2eukZZwN269 = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("getCurrentPreviewConfig").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2566581196101001609L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<SNode> getContextIVAA_id2eukZZwMmyR = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("getContextIVAA").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2566581196100823223L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<Void> setState_id7pGmjNvKNSS = new SMethodBuilder<Void>(new SJavaCompoundTypeImpl(Void.class)).name("setState").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8533293511947271736L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2(SMethodBuilder.createJavaParameter(ArtifactPath.class, ""), SMethodBuilder.createJavaParameter(Boolean.class, ""));
  public static final SMethod<Void> resetState_id7pGmjNvL6KZ = new SMethodBuilder<Void>(new SJavaCompoundTypeImpl(Void.class)).name("resetState").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8533293511947349055L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<PresenceConditionValue> getState_id4I8sp9GPxJX = new SMethodBuilder<PresenceConditionValue>(new SJavaCompoundTypeImpl(PresenceConditionValue.class)).name("getState").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5442725023382379517L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2(SMethodBuilder.createJavaParameter(ArtifactPath.class, ""));
  public static final SMethod<Boolean> hasState_id4I8sp9GPztQ = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("hasState").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5442725023382386550L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2(SMethodBuilder.createJavaParameter(ArtifactPath.class, ""));
  public static final SMethod<Boolean> isStateFiltered_id6s5puhkagqN = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("isStateFiltered").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(7423451592129054387L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2(SMethodBuilder.createJavaParameter(ArtifactPath.class, ""));
  public static final SMethod<PresenceConditionValue> getState_id7pGmjNvL72C = new SMethodBuilder<PresenceConditionValue>(new SJavaCompoundTypeImpl(PresenceConditionValue.class)).name("getState").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8533293511947350184L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<String> getStateTag_id1R5hpWYiZjW = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("getStateTag").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2145197347759191292L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<Boolean> hasState_id1R5hpWYiTOZ = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("hasState").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2145197347759168831L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();
  public static final SMethod<ArtifactPath> getArtifactPathFromCurrentContext_id4I8sp9GPu1J = new SMethodBuilder<ArtifactPath>(new SJavaCompoundTypeImpl(ArtifactPath.class)).name("getArtifactPathFromCurrentContext").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5442725023382364271L).languageId(0x8846eb63220ab1ddL, 0xf08835038eaa4bc8L).build2();

  private static final List<SMethod<?>> BH_METHODS = Arrays.<SMethod<?>>asList(nameForSolver_id3q2wVeozeaM, shortId_idqnZSGXva9v, artifactNode_id3q2wVepCV0v, artifactNodeData_id3PRltoWVL10, getConditionAsString_id7Ca9tj9CeW1, computeHash_id6s5puhjUPSP, isImplementedByArtifact_id2CjcCemM5G6, getPreviewConfig_id3nzq23wxllr, resetPreviewConfig_id2eukZZwNvpm, getCurrentPreviewConfig_id2eukZZwN269, getContextIVAA_id2eukZZwMmyR, setState_id7pGmjNvKNSS, resetState_id7pGmjNvL6KZ, getState_id4I8sp9GPxJX, hasState_id4I8sp9GPztQ, isStateFiltered_id6s5puhkagqN, getState_id7pGmjNvL72C, getStateTag_id1R5hpWYiZjW, hasState_id1R5hpWYiTOZ, getArtifactPathFromCurrentContext_id4I8sp9GPu1J);

  private static void ___init___(@NotNull SNode __thisNode__) {
  }

  /*package*/ static String shortId_idqnZSGXva9v(@NotNull SNode __thisNode__, SNode n) {
    return NodeHashUtil.shortId(n);
  }
  /*package*/ static SNode artifactNodeData_id3PRltoWVL10(@NotNull SNode __thisNode__) {
    // default: the artifact node's data is the artifact node itself (excluding any presence condition)
    return ((SNode) IVariationPointBase__BehaviorDescriptor.artifactNode_id3q2wVepCV0v.invoke(__thisNode__));
  }
  /*package*/ static boolean isImplementedByArtifact_id2CjcCemM5G6(@NotNull SNode __thisNode__) {
    return Objects.equals(IVariationPointBase__BehaviorDescriptor.artifactNode_id3q2wVepCV0v.invoke(__thisNode__), __thisNode__);
  }
  /*package*/ static SNode getPreviewConfig_id3nzq23wxllr(@NotNull SNode __thisNode__) {
    // the default implementation assumes that we are in an artifact with IVAA
    SNode ivaa = IVariationPointBase__BehaviorDescriptor.getContextIVAA_id2eukZZwMmyR.invoke(__thisNode__);
    if ((ivaa == null)) {
      return null;
    }
    return SLinkOperations.getTarget(SLinkOperations.getTarget(ivaa, LINKS.configRef$mKqc), LINKS.featureConfig$pJ5X);
  }
  /*package*/ static void resetPreviewConfig_id2eukZZwNvpm(@NotNull SNode __thisNode__) {
    // the default implementation assumes that we are in an artifact with IVAA
    SNode ivaa = IVariationPointBase__BehaviorDescriptor.getContextIVAA_id2eukZZwMmyR.invoke(__thisNode__);
    if ((ivaa == null)) {
      return;
    }
    ArtifactInstancePreviewer.forcedClear(ivaa);
  }
  /*package*/ static SNode getCurrentPreviewConfig_id2eukZZwN269(@NotNull SNode __thisNode__) {
    // the default implementation assumes that we are in an artifact with IVAA
    SNode ivaa = IVariationPointBase__BehaviorDescriptor.getContextIVAA_id2eukZZwMmyR.invoke(__thisNode__);
    if ((ivaa == null)) {
      return null;
    }
    return SLinkOperations.getTarget(SLinkOperations.getTarget(ivaa, LINKS.configRef$mKqc), LINKS.featureConfig$pJ5X);
  }
  /*package*/ static SNode getContextIVAA_id2eukZZwMmyR(@NotNull SNode __thisNode__) {
    return ArtifactHelper.findIVAA(__thisNode__);
  }
  /*package*/ static void setState_id7pGmjNvKNSS(@NotNull SNode __thisNode__, ArtifactPath ap, Boolean ternaryState) {
    StateStore store = StateStore.get(__thisNode__);
    store.setState(ap, Optional.ofNullable(ternaryState));
  }
  /*package*/ static void resetState_id7pGmjNvL6KZ(@NotNull SNode __thisNode__) {
    StateStore.clear(__thisNode__);
  }
  /*package*/ static PresenceConditionValue getState_id4I8sp9GPxJX(@NotNull SNode __thisNode__, ArtifactPath ap) {
    StateStore store = StateStore.get(__thisNode__);
    if (store == null) {
      return null;
    }
    return store.getState(ap);
  }
  /*package*/ static boolean hasState_id4I8sp9GPztQ(@NotNull SNode __thisNode__, ArtifactPath ap) {
    return IVariationPointBase__BehaviorDescriptor.getState_id4I8sp9GPxJX.invoke(__thisNode__, ap) != null;
  }
  /*package*/ static boolean isStateFiltered_id6s5puhkagqN(@NotNull SNode __thisNode__, ArtifactPath ap) {
    // "no state" intentionally returns true
    return IVariationPointBase__BehaviorDescriptor.getState_id4I8sp9GPxJX.invoke(__thisNode__, ap) != PresenceConditionValue.FALSE;
  }
  /*package*/ static PresenceConditionValue getState_id7pGmjNvL72C(@NotNull SNode __thisNode__) {
    ArtifactPath ap = IVariationPointBase__BehaviorDescriptor.getArtifactPathFromCurrentContext_id4I8sp9GPu1J.invoke(__thisNode__);
    if (ap != null) {
      return IVariationPointBase__BehaviorDescriptor.getState_id4I8sp9GPxJX.invoke(__thisNode__, ap);
    }

    // no artifact path could be determined from context, return state for some artifact path
    StateStore store = StateStore.get(__thisNode__);
    if (store != null) {
      PresenceConditionValue state = store.getStateForSomePath();
      if (state != null) {
        return state;
      }
    }
    return null;
  }
  /*package*/ static String getStateTag_id1R5hpWYiZjW(@NotNull SNode __thisNode__) {
    PresenceConditionValue v = IVariationPointBase__BehaviorDescriptor.getState_id7pGmjNvL72C.invoke(__thisNode__);
    if (v != null) {
      switch (v) {
        case TRUE:
          return "T";
        case FALSE:
          return "F";
        default:
          return "?";
      }
    }
    return "_";
  }
  /*package*/ static boolean hasState_id1R5hpWYiTOZ(@NotNull SNode __thisNode__) {
    ArtifactPath ap = IVariationPointBase__BehaviorDescriptor.getArtifactPathFromCurrentContext_id4I8sp9GPu1J.invoke(__thisNode__);
    if (ap != null) {
      return ((boolean) IVariationPointBase__BehaviorDescriptor.hasState_id4I8sp9GPztQ.invoke(__thisNode__, ap));
    }

    // cannot get path from context, just gracefully check if there is a state for any path
    StateStore store = StateStore.get(__thisNode__);
    if (store != null && store.getStateForSomePath() != null) {
      return true;
    }

    return false;
  }
  /*package*/ static ArtifactPath getArtifactPathFromCurrentContext_id4I8sp9GPu1J(@NotNull SNode __thisNode__) {
    SNode ivaa = IVariationPointBase__BehaviorDescriptor.getContextIVAA_id2eukZZwMmyR.invoke(__thisNode__);
    return (ArtifactPath) IVariabilityAwareArtifact__BehaviorDescriptor.getContextArtifactPath_id4I8sp9GPJNO.invoke(ivaa);
  }

  /*package*/ IVariationPointBase__BehaviorDescriptor() {
  }

  @Override
  protected void initNode(@NotNull SNode node, @NotNull SConstructor constructor, @Nullable Object[] parameters) {
    ___init___(node);
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SNode node, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      case 1:
        return (T) ((String) shortId_idqnZSGXva9v(node, (SNode) parameters[0]));
      case 3:
        return (T) ((SNode) artifactNodeData_id3PRltoWVL10(node));
      case 6:
        return (T) ((Boolean) isImplementedByArtifact_id2CjcCemM5G6(node));
      case 7:
        return (T) ((SNode) getPreviewConfig_id3nzq23wxllr(node));
      case 8:
        resetPreviewConfig_id2eukZZwNvpm(node);
        return null;
      case 9:
        return (T) ((SNode) getCurrentPreviewConfig_id2eukZZwN269(node));
      case 10:
        return (T) ((SNode) getContextIVAA_id2eukZZwMmyR(node));
      case 11:
        setState_id7pGmjNvKNSS(node, (ArtifactPath) parameters[0], (Boolean) parameters[1]);
        return null;
      case 12:
        resetState_id7pGmjNvL6KZ(node);
        return null;
      case 13:
        return (T) ((PresenceConditionValue) getState_id4I8sp9GPxJX(node, (ArtifactPath) parameters[0]));
      case 14:
        return (T) ((Boolean) hasState_id4I8sp9GPztQ(node, (ArtifactPath) parameters[0]));
      case 15:
        return (T) ((Boolean) isStateFiltered_id6s5puhkagqN(node, (ArtifactPath) parameters[0]));
      case 16:
        return (T) ((PresenceConditionValue) getState_id7pGmjNvL72C(node));
      case 17:
        return (T) ((String) getStateTag_id1R5hpWYiZjW(node));
      case 18:
        return (T) ((Boolean) hasState_id1R5hpWYiTOZ(node));
      case 19:
        return (T) ((ArtifactPath) getArtifactPathFromCurrentContext_id4I8sp9GPu1J(node));
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SAbstractConcept concept, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @NotNull
  @Override
  public List<SMethod<?>> getDeclaredMethods() {
    return BH_METHODS;
  }

  @NotNull
  @Override
  public SAbstractConcept getConcept() {
    return CONCEPT;
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink configRef$mKqc = MetaAdapterFactory.getContainmentLink(0xf08835038eaa4bc8L, 0x8846eb63220ab1ddL, 0x716b3738b4b28e4bL, 0x35bab6d0bc28e906L, "configRef");
    /*package*/ static final SReferenceLink featureConfig$pJ5X = MetaAdapterFactory.getReferenceLink(0xf08835038eaa4bc8L, 0x8846eb63220ab1ddL, 0x48cf645483c30387L, 0x48cf645483c30388L, "featureConfig");
  }
}
