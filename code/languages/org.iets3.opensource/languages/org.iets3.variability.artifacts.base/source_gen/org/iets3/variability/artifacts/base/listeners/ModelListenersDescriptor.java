package org.iets3.variability.artifacts.base.listeners;

/*Generated by MPS */

import com.mbeddr.mpsutil.modellisteners.runtime.IModelListenersDescriptor;
import com.mbeddr.mpsutil.modellisteners.runtime.IModelListener;
import java.util.List;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import com.mbeddr.mpsutil.modellisteners.runtime.ReferenceRemovedListener;
import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.iets3.variability.artifacts.base.plugin.ArtifactInstancePreviewer;
import com.mbeddr.mpsutil.modellisteners.runtime.ReferenceAddedListener;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;

public class ModelListenersDescriptor implements IModelListenersDescriptor {
  public ModelListenersDescriptor() {
  }

  public Iterable<IModelListener> getListeners() {
    List<IModelListener> listeners = ListSequence.fromList(new ArrayList<IModelListener>());

    ListSequence.fromList(listeners).addElement(new ReferenceRemovedListener(CONCEPTS.FeatureModelConfigurationRefExpr$9n, LINKS.featureConfig$pJ5X) {
      @Override
      public void referenceRemoved(final SNode instance, final SNode target, SReferenceLink role) {
        {
          final SNode ivaa = SNodeOperations.getParent(instance);
          if (SNodeOperations.isInstanceOf(ivaa, CONCEPTS.IVariabilityAwareArtifact$qo)) {
            ArtifactInstancePreviewer.clear(ivaa);
          }
        }
      }
    });
    ListSequence.fromList(listeners).addElement(new ReferenceAddedListener(CONCEPTS.FeatureModelConfigurationRefExpr$9n, LINKS.featureConfig$pJ5X) {
      @Override
      public void referenceAdded(final SNode instance, final SNode target, SReferenceLink role) {
        {
          final SNode ivaa = SNodeOperations.getParent(instance);
          if (SNodeOperations.isInstanceOf(ivaa, CONCEPTS.IVariabilityAwareArtifact$qo)) {
            ArtifactInstancePreviewer.update(ivaa);
          }
        }
      }
    });

    return listeners;
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept FeatureModelConfigurationRefExpr$9n = MetaAdapterFactory.getConcept(0xf08835038eaa4bc8L, 0x8846eb63220ab1ddL, 0x48cf645483c30387L, "org.iets3.variability.artifacts.base.structure.FeatureModelConfigurationRefExpr");
    /*package*/ static final SInterfaceConcept IVariabilityAwareArtifact$qo = MetaAdapterFactory.getInterfaceConcept(0xf08835038eaa4bc8L, 0x8846eb63220ab1ddL, 0x716b3738b4b28e4bL, "org.iets3.variability.artifacts.base.structure.IVariabilityAwareArtifact");
  }

  private static final class LINKS {
    /*package*/ static final SReferenceLink featureConfig$pJ5X = MetaAdapterFactory.getReferenceLink(0xf08835038eaa4bc8L, 0x8846eb63220ab1ddL, 0x48cf645483c30387L, 0x48cf645483c30388L, "featureConfig");
  }
}
