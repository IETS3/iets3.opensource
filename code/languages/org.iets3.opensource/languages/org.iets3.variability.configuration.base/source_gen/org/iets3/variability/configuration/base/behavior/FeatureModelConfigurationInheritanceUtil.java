package org.iets3.variability.configuration.base.behavior;

/*Generated by MPS */

import org.apache.commons.lang3.tuple.Pair;
import org.jetbrains.mps.openapi.model.SNode;
import com.google.common.collect.ImmutableMap;
import org.apache.commons.lang3.tuple.ImmutablePair;
import java.util.List;
import org.iets3.variability.configuration.base.plugin.FMCTraversal;
import com.google.common.collect.Lists;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.internal.collections.runtime.CollectionSequence;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.core.behavior.BaseConcept__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import java.util.Collections;
import com.google.common.collect.Iterables;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import java.util.Optional;
import org.iets3.variability.configuration.base.plugin.FeatureModelIncludeUtil;
import java.util.Objects;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SEnumOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import java.util.ArrayList;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SProperty;

public class FeatureModelConfigurationInheritanceUtil {

  public static Iterable<Pair<SNode, SNode>> conflictingConfigs(SNode fmc) {

    ImmutableMap<ImmutablePair<SNode, List<SNode>>, SNode> includesToFeature = FMCTraversal.asMap(FMCTraversal.traverseConfigs(fmc).pathConfigs);

    List<Pair<SNode, SNode>> conflicts = Lists.newArrayList();

    for (SNode extendedFeatureModelConfig : Sequence.fromIterable(extendedFeatureModelConfigs(fmc))) {
      for (FMCTraversal.PathConfig tce : CollectionSequence.fromCollection(FMCTraversal.traverseConfigs(extendedFeatureModelConfig).pathConfigs)) {
        SNode efc = tce.configuration();
        SNode afc = includesToFeature.get(tce.key());
        if (afc != null) {
          if (hasSelectionOrAttributeConflictForInheritance(afc, efc)) {
            ListSequence.fromList(conflicts).addElement(ImmutablePair.of(extendedFeatureModelConfig, afc));
          }
        }
      }

    }

    return ListSequence.fromList(conflicts).distinct();
  }

  private static boolean hasSelectionOrAttributeConflictForInheritance(SNode afc, SNode efc) {
    return !(selectionStateOkToApplyInheritance(afc, efc)) || !(attributesOkToApplyInheritance(afc, efc));
  }

  private static boolean attributesOkToApplyInheritance(SNode afc, SNode efc) {
    for (Pair<SNode, SNode> paired : ListSequence.fromList(pairBySameFeatureAttribute(AbstractFeatureConfiguration__BehaviorDescriptor.attributeAssignments_id30ECcbtQkN2.invoke(afc), AbstractFeatureConfiguration__BehaviorDescriptor.attributeAssignments_id30ECcbtQkN2.invoke(efc)))) {
      SNode afcAAs = paired.getLeft();
      SNode efcAAs = paired.getRight();
      if ((SLinkOperations.getTarget(afcAAs, LINKS.value$kgDc) != null) && (FeatureAttributeAssignment__BehaviorDescriptor.getValue_id5Bs7u20FcLE.invoke(efcAAs) != null) && !(BaseConcept__BehaviorDescriptor.getPresentation_idhEwIMiw.invoke(FeatureAttributeAssignment__BehaviorDescriptor.getValue_id5Bs7u20FcLE.invoke(afcAAs)).equals(BaseConcept__BehaviorDescriptor.getPresentation_idhEwIMiw.invoke(FeatureAttributeAssignment__BehaviorDescriptor.getValue_id5Bs7u20FcLE.invoke(efcAAs))))) {
        return false;
      }
    }
    return true;
  }


  private static boolean selectionStateOkToApplyInheritance(SNode afc, SNode efc) {
    {
      final SNode fmc = afc;
      if (SNodeOperations.isInstanceOf(fmc, CONCEPTS.FeatureModelConfiguration$nE)) {
        // FeatureModelConfigurations have a dummy selection which does not count
        return true;
      }
    }
    // one is not decided
    if (inheritingNotRestricting(afc, efc)) {
      return true;
    }
    // Both true
    if ((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isSelected_id79zES$XKwaU.invoke(efc) && (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isSelected_id79zES$XKwaU.invoke(afc)) {
      return true;
    }
    // Both false
    if ((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isDisSelected_id3ilerxzqGXK.invoke(efc) && (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isDisSelected_id3ilerxzqGXK.invoke(afc)) {
      return true;
    }
    // otherwise: not ok

    return false;
  }

  private static boolean inheritingNotRestricting(SNode efc, SNode afc) {
    return (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isUntouched_id5njM4APCUof.invoke(efc) || (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isUntouched_id5njM4APCUof.invoke(afc);
  }


  public static Iterable<SNode> extendedFeatureModelConfigs(SNode fmc) {
    if (hasNoContent(fmc) || (SLinkOperations.getTarget(SLinkOperations.getTarget(fmc, LINKS.extendedFMC$tFbw), LINKS.config$ID3f) == null)) {
      return Collections.<SNode>emptyList();
    }

    return Iterables.concat(Collections.singletonList(SLinkOperations.getTarget(SLinkOperations.getTarget(fmc, LINKS.extendedFMC$tFbw), LINKS.config$ID3f)), extendedFeatureModelConfigs(SLinkOperations.getTarget(SLinkOperations.getTarget(fmc, LINKS.extendedFMC$tFbw), LINKS.config$ID3f)));
  }



  /**
   * 
   * 
   * @param subConfig config which need s to adopt
   * @param parentSubConfig parent config of subCOnfig
   * @param extendedConfig the config which subConfig extends
   * @param parentExtendedConfig parent of extendedConfig
   * @return true if the configuration-tree rooted at subConfig can be detached
   */
  public static boolean applyInheritance(final SNode subConfig, @Nullable SNode parentSubConfig, final SNode extendedConfig, @Nullable SNode parentExtendedConfig) {

    // Case when extended leaves a Config-Include 'unspecified'.
    {
      final SNode fmcb = SLinkOperations.getTarget(extendedConfig, LINKS.content$Wdfq);
      if (SNodeOperations.isInstanceOf(fmcb, CONCEPTS.FeatureModelConfigurationBase$y8)) {
        if (hasNoContent(subConfig) || isEmptyInlineContent(subConfig)) {
          // The extending config takes over this decision as no other reference has been set
          // by replacing its 'content' also with 'unspecified'
          SLinkOperations.setTarget(subConfig, LINKS.content$Wdfq, createFeatureModelConfigurationBase_w45mms_a0a2a0a2a71());
        }
        applyAttributesOfExtendedConfig(subConfig, extendedConfig);
        applySelectionsOfExtendedConfig(subConfig, extendedConfig);
        return false;
      }
    }
    // Case when extended references an abstract Config. The extending config takes over this decision
    // by replacing its 'content' with the same reference
    {
      final SNode fmcr = SLinkOperations.getTarget(extendedConfig, LINKS.content$Wdfq);
      if (SNodeOperations.isInstanceOf(fmcr, CONCEPTS.FeatureModelConfigurationRef$kq)) {
        if (SPropertyOperations.getBoolean(SLinkOperations.getTarget(fmcr, LINKS.config$VWuN), PROPS.abstract$Wu4W)) {
          if (!(contentExtendsConfigOfExtended(SLinkOperations.getTarget(subConfig, LINKS.content$Wdfq), SLinkOperations.getTarget(fmcr, LINKS.config$VWuN)))) {
            SNodeOperations.replaceWithAnother(SLinkOperations.getTarget(subConfig, LINKS.content$Wdfq), SNodeOperations.copyNode(fmcr));
          }
        } else {
          SLinkOperations.setTarget(subConfig, LINKS.content$Wdfq, createInlineFeatureConfigurationContent_w45mms_a0a0a0a0f0r());
        }
        applyAttributesOfExtendedConfig(subConfig, extendedConfig);
        applySelectionsOfExtendedConfig(subConfig, extendedConfig);
        if (SPropertyOperations.getBoolean(SLinkOperations.getTarget(fmcr, LINKS.config$VWuN), PROPS.abstract$Wu4W)) {
          return false;
        }
        return isDetachable(subConfig, extendedConfig);

      }
    }

    for (final SNode subfeatureConfiguration : Sequence.fromIterable(AbstractFeatureConfiguration__BehaviorDescriptor.subfeatureConfigurationsTransitive_id1lUmdle4kqX.invoke(subConfig))) {
      Optional<SNode> matchingSubfeatureConfigOfExtendedConfig1 = matchingSubfeatureConfigOfExtendedConfig(AbstractFeatureConfiguration__BehaviorDescriptor.subfeatureConfigurationsTransitive_id1lUmdle4kqX.invoke(extendedConfig), subfeatureConfiguration);
      boolean detachable = matchingSubfeatureConfigOfExtendedConfig1.map((SNode matchingSubfeatureConfigOfExtendedConfig) -> applyInheritance(subfeatureConfiguration, subConfig, matchingSubfeatureConfigOfExtendedConfig, extendedConfig)).orElse(false);

      if (detachable) {
        SNodeOperations.deleteNode(subfeatureConfiguration);
      }
    }

    boolean alreadyDetachable = isDetachable(subConfig, extendedConfig);
    if (!(alreadyDetachable)) {
      applyAttributesOfExtendedConfig(subConfig, extendedConfig);
      applySelectionsOfExtendedConfig(subConfig, extendedConfig);
    }
    return isDetachable(subConfig, extendedConfig);
  }

  private static boolean hasNoContent(SNode subConfig) {
    return (SLinkOperations.getTarget(subConfig, LINKS.content$Wdfq) == null);
  }

  private static boolean isEmptyInlineContent(SNode subConfig) {
    {
      final SNode ifcc = SLinkOperations.getTarget(subConfig, LINKS.content$Wdfq);
      if (SNodeOperations.isInstanceOf(ifcc, CONCEPTS.InlineFeatureConfigurationContent$P5)) {
        return ListSequence.fromList(SLinkOperations.getChildren(ifcc, LINKS.subfeatureConfigurations$l9wi)).isEmpty();
      }
    }
    return false;
  }

  /**
   * Checks if the content references a FMC which extends 'referencedConfigurationExtended'
   * 
   * @param contentExtender  
   * @param referencedConfigurationExtended  
   * @return  
   */
  private static boolean contentExtendsConfigOfExtended(SNode contentExtender, SNode referencedConfigurationExtended) {

    {
      final SNode fmcrExtender = contentExtender;
      if (SNodeOperations.isInstanceOf(fmcrExtender, CONCEPTS.FeatureModelConfigurationRef$kq)) {
        Optional<SNode> extended = FeatureModelIncludeUtil.findExtendedConfigWithSameTargetFeature(SLinkOperations.getTarget(fmcrExtender, LINKS.config$VWuN));
        while (extended.isPresent() && !(Objects.equals(extended.get(), referencedConfigurationExtended))) {
          extended = FeatureModelIncludeUtil.findExtendedConfigWithSameTargetFeature(extended.get());
        }
        if (extended.isPresent() && Objects.equals(extended.get(), referencedConfigurationExtended)) {
          return true;
        }
      }
    }
    return false;
  }

  private static boolean isDetachable(SNode subConfig, SNode extendedConfig) {
    if ((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.allSubfeatureConfigsDetached_id6yVv9rbvZxj.invoke(subConfig)) {
      if ((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isUntouched_id5njM4APCUof.invoke(extendedConfig)) {
        return false;
      }
      // if all children detached and state has been set to some decision -> do not show in inheriting config.
      return (((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isSelected_id79zES$XKwaU.invoke(extendedConfig) && (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.allAssignmentsInherited_id7VnoEdFws_X.invoke(subConfig) && !((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.anyUnfinishedAssignment_id142XOBDzcYe.invoke(subConfig))) || (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isDisSelected_id3ilerxzqGXK.invoke(extendedConfig));
    }
    return false;
  }

  private static void applySelectionsOfExtendedConfig(SNode subConfig, SNode extendedConfig) {
    if (SEnumOperations.isMember(SPropertyOperations.getEnum(extendedConfig, PROPS.selectionState$zbc1), 0x5db06c237c250a74L) && SEnumOperations.isMember(SPropertyOperations.getEnum(subConfig, PROPS.selectionState$zbc1), 0x5db06c237c250a74L)) {
      return;
    }
    if (SEnumOperations.isMember(SPropertyOperations.getEnum(extendedConfig, PROPS.selectionState$zbc1), 0x5db06c237c250a74L) && SEnumOperations.isMember(SPropertyOperations.getEnum(subConfig, PROPS.selectionState$zbc1), 0x283134ce3ea4cb79L)) {
      SPropertyOperations.setEnum(subConfig, PROPS.selectionState$zbc1, 0x5db06c237c250a74L, "untouched");
      return;
    }
    if (SEnumOperations.isMember(SPropertyOperations.getEnum(extendedConfig, PROPS.selectionState$zbc1), 0x5db06c237c250a74L) && SEnumOperations.isMember(SPropertyOperations.getEnum(subConfig, PROPS.selectionState$zbc1), 0x283134ce3ea4cb80L)) {
      SPropertyOperations.setEnum(subConfig, PROPS.selectionState$zbc1, 0x5db06c237c250a74L, "untouched");
      return;
    }

    if ((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isSelected_id79zES$XKwaU.invoke(extendedConfig)) {
      SPropertyOperations.setEnum(subConfig, PROPS.selectionState$zbc1, 0x283134ce3ea4cb79L, "inheritedTrue");
      return;
    }
    if ((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.isDisSelected_id3ilerxzqGXK.invoke(extendedConfig)) {
      SPropertyOperations.setEnum(subConfig, PROPS.selectionState$zbc1, SEnumOperations.getMember(MetaAdapterFactory.getEnumeration(0x165f1d0525064544L, 0x895e1424f54166ecL, 0x5db06c237c250a73L, "org.iets3.variability.featuremodel.base.structure.FeatureSelectionState"), 0x283134ce3ea4cb80L, "inheritedFalse"));
      return;
    }
  }

  private static void applyAttributesOfExtendedConfig(SNode subConfig, SNode extendedConfig) {
    for (Pair<SNode, SNode> paired : ListSequence.fromList(FeatureModelConfigurationInheritanceUtil.pairBySameFeatureAttribute(AbstractFeatureConfiguration__BehaviorDescriptor.attributeAssignments_id30ECcbtQkN2.invoke(subConfig), AbstractFeatureConfiguration__BehaviorDescriptor.attributeAssignments_id30ECcbtQkN2.invoke(extendedConfig)))) {
      SNode extendedFeatureAttributeAssignment = paired.getRight();
      SNode inheritingFeatureAttributeAssignment = paired.getLeft();

      if ((SLinkOperations.getTarget(extendedFeatureAttributeAssignment, LINKS.value$kgDc) != null) && (SLinkOperations.getTarget(inheritingFeatureAttributeAssignment, LINKS.value$kgDc) == null)) {
        SLinkOperations.setTarget(inheritingFeatureAttributeAssignment, LINKS.value$kgDc, SNodeOperations.copyNode(SLinkOperations.getTarget(extendedFeatureAttributeAssignment, LINKS.value$kgDc)));
        SPropertyOperations.assign(inheritingFeatureAttributeAssignment, PROPS.inherited$oyCC, true);
        return;
      }
      if ((extendedFeatureAttributeAssignment == null) && SPropertyOperations.getBoolean(inheritingFeatureAttributeAssignment, PROPS.inherited$oyCC)) {
        SLinkOperations.setTarget(inheritingFeatureAttributeAssignment, LINKS.value$kgDc, null);
      }
      SPropertyOperations.assign(inheritingFeatureAttributeAssignment, PROPS.inherited$oyCC, false);
    }
  }


  private static Optional<SNode> matchingSubfeatureConfigOfExtendedConfig(Iterable<SNode> subfeatureConfigsOfextendedConfig, final SNode subfeatureConfiguration) {
    return Optional.ofNullable(Sequence.fromIterable(subfeatureConfigsOfextendedConfig).findFirst((subfeatureConfigOfExtendedConfig) -> SLinkOperations.getTarget(subfeatureConfigOfExtendedConfig, LINKS.targetFeature$16lA) == SLinkOperations.getTarget(subfeatureConfiguration, LINKS.targetFeature$16lA)));
  }

  private static boolean bothSelected(SNode subAFC, SNode extendedAFC) {
    return ((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.activelySelected_id2tsYCsji1Mf.invoke(subAFC) && (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.activelySelected_id2tsYCsji1Mf.invoke(extendedAFC));
  }

  private static boolean bothDisSelected(SNode subAFC, SNode extendedAFC) {
    return ((boolean) AbstractFeatureConfiguration__BehaviorDescriptor.activelyDisSelected_id2tsYCsjjt7j.invoke(subAFC) && (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.activelyDisSelected_id2tsYCsjjt7j.invoke(extendedAFC));
  }

  public static void addFeaturesFromExtendedConfig(SNode subAFC, SNode extendedAFC) {
    if (bothSelected(subAFC, extendedAFC)) {
      SPropertyOperations.setEnum(subAFC, PROPS.selectionState$zbc1, 0x5db06c237c250a7cL, "userTrue");
    }
    if (bothDisSelected(subAFC, extendedAFC)) {
      SPropertyOperations.setEnum(subAFC, PROPS.selectionState$zbc1, 0x5db06c237c250a81L, "userFalse");
    }

    Iterable<SNode> extendedSubfeatureConfigs = AbstractFeatureConfiguration__BehaviorDescriptor.subfeatureConfigurationsTransitive_id1lUmdle4kqX.invoke(extendedAFC);
    Iterable<SNode> extendingSubfeatureConfigs = AbstractFeatureConfiguration__BehaviorDescriptor.subfeatureConfigurationsTransitive_id1lUmdle4kqX.invoke(subAFC);

    for (final SNode extendedSubfeatureConfig : Sequence.fromIterable(extendedSubfeatureConfigs)) {
      if (!(Sequence.fromIterable(extendingSubfeatureConfigs).any((it) -> SLinkOperations.getTarget(it, LINKS.targetFeature$16lA) == SLinkOperations.getTarget(extendedSubfeatureConfig, LINKS.targetFeature$16lA)))) {
        AbstractFeatureConfiguration__BehaviorDescriptor.addConfigAtIndex_id5Bs7u207px$.invoke(subAFC, SNodeOperations.copyNode(extendedSubfeatureConfig), ((int) SNodeOperations.getIndexInParent(extendedSubfeatureConfig)));
      }
    }
    for (final SNode extendingSubfeatureConfig : Sequence.fromIterable(extendingSubfeatureConfigs)) {
      Optional.ofNullable(Sequence.fromIterable(extendedSubfeatureConfigs).findFirst((extendedSubfeatureConfig) -> SLinkOperations.getTarget(extendedSubfeatureConfig, LINKS.targetFeature$16lA) == SLinkOperations.getTarget(extendingSubfeatureConfig, LINKS.targetFeature$16lA))).ifPresent((SNode matchFromExtended) -> addFeaturesFromExtendedConfig(extendingSubfeatureConfig, matchFromExtended));
    }
  }

  private static List<Pair<SNode, SNode>> pairBySameFeatureAttribute(Iterable<SNode> seq1, Iterable<SNode> seq2) {
    List<Pair<SNode, SNode>> result = ListSequence.fromList(new ArrayList<Pair<SNode, SNode>>());

    for (SNode elem1 : Sequence.fromIterable(seq1)) {
      for (SNode elem2 : Sequence.fromIterable(seq2)) {
        if (SLinkOperations.getTarget(elem1, LINKS.attribute$J5jI) == SLinkOperations.getTarget(elem2, LINKS.attribute$J5jI)) {
          ListSequence.fromList(result).addElement(ImmutablePair.of(elem1, elem2));
        }
      }
    }
    return result;
  }
  private static SNode createFeatureModelConfigurationBase_w45mms_a0a2a0a2a71() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.FeatureModelConfigurationBase$y8);
    return n0.getResult();
  }
  private static SNode createInlineFeatureConfigurationContent_w45mms_a0a0a0a0f0r() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.InlineFeatureConfigurationContent$P5);
    return n0.getResult();
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink value$kgDc = MetaAdapterFactory.getContainmentLink(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x302aa0c2ddc5ae16L, 0x302aa0c2ddd1e2aaL, "value");
    /*package*/ static final SContainmentLink extendedFMC$tFbw = MetaAdapterFactory.getContainmentLink(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x5cf5c0d0479ec915L, 0x4617323a864bd075L, "extendedFMC");
    /*package*/ static final SReferenceLink config$ID3f = MetaAdapterFactory.getReferenceLink(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x4617323a864bd036L, 0x4617323a864bd049L, "config");
    /*package*/ static final SContainmentLink content$Wdfq = MetaAdapterFactory.getContainmentLink(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x302aa0c2ddab8940L, 0x5cf5c0d0479f4bc8L, "content");
    /*package*/ static final SReferenceLink config$VWuN = MetaAdapterFactory.getReferenceLink(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x5cf5c0d0479eed6aL, 0x5cf5c0d0479eed6bL, "config");
    /*package*/ static final SContainmentLink subfeatureConfigurations$l9wi = MetaAdapterFactory.getContainmentLink(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x5cf5c0d0479f4bfcL, 0x5cf5c0d0479ec91aL, "subfeatureConfigurations");
    /*package*/ static final SReferenceLink targetFeature$16lA = MetaAdapterFactory.getReferenceLink(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x302aa0c2ddab8940L, 0x5cf5c0d0479ec91eL, "targetFeature");
    /*package*/ static final SReferenceLink attribute$J5jI = MetaAdapterFactory.getReferenceLink(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x302aa0c2ddc5ae16L, 0x302aa0c2ddca3d88L, "attribute");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept FeatureModelConfiguration$nE = MetaAdapterFactory.getConcept(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x5cf5c0d0479ec915L, "org.iets3.variability.configuration.base.structure.FeatureModelConfiguration");
    /*package*/ static final SConcept FeatureModelConfigurationBase$y8 = MetaAdapterFactory.getConcept(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x2e34d227ff954d8bL, "org.iets3.variability.configuration.base.structure.FeatureModelConfigurationBase");
    /*package*/ static final SConcept FeatureModelConfigurationRef$kq = MetaAdapterFactory.getConcept(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x5cf5c0d0479eed6aL, "org.iets3.variability.configuration.base.structure.FeatureModelConfigurationRef");
    /*package*/ static final SConcept InlineFeatureConfigurationContent$P5 = MetaAdapterFactory.getConcept(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x5cf5c0d0479f4bfcL, "org.iets3.variability.configuration.base.structure.InlineFeatureConfigurationContent");
  }

  private static final class PROPS {
    /*package*/ static final SProperty abstract$Wu4W = MetaAdapterFactory.getProperty(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x5cf5c0d0479ec915L, 0x4617323a85e85324L, "abstract");
    /*package*/ static final SProperty selectionState$zbc1 = MetaAdapterFactory.getProperty(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x302aa0c2ddab8940L, 0x526bcda9b5a2fcdbL, "selectionState");
    /*package*/ static final SProperty inherited$oyCC = MetaAdapterFactory.getProperty(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x302aa0c2ddc5ae16L, 0x61c4008b744eccaaL, "inherited");
  }
}
