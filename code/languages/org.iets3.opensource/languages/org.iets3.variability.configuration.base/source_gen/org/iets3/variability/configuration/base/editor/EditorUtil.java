package org.iets3.variability.configuration.base.editor;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import org.iets3.variability.configuration.base.behavior.AbstractFeatureConfiguration__BehaviorDescriptor;
import org.iets3.analysis.base.behavior.ISolvable__BehaviorDescriptor;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;

public class EditorUtil {

  public static void removeFeatureConfiguration(SNode node) {
    boolean userChoicePresent = ListSequence.fromList(SNodeOperations.getNodeDescendants(node, CONCEPTS.FeatureConfiguration$x2, false, new SAbstractConcept[]{})).any((it) -> (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.activelySelected_id2tsYCsji1Mf.invoke(it) || (boolean) AbstractFeatureConfiguration__BehaviorDescriptor.activelyDisSelected_id2tsYCsjjt7j.invoke(it));
    SNode fmc = SNodeOperations.getNodeAncestor(node, CONCEPTS.FeatureModelConfiguration$nE, false, false);
    SNodeOperations.deleteNode(node);
    if (userChoicePresent) {
      ISolvable__BehaviorDescriptor.runManuallyAsync_id7QODtLvTFnz.invoke(fmc);
    }
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept FeatureConfiguration$x2 = MetaAdapterFactory.getConcept(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x5cf5c0d0479ec91dL, "org.iets3.variability.configuration.base.structure.FeatureConfiguration");
    /*package*/ static final SConcept FeatureModelConfiguration$nE = MetaAdapterFactory.getConcept(0x71226ee2bbc445d2L, 0xa41d20b97237156cL, 0x5cf5c0d0479ec915L, "org.iets3.variability.configuration.base.structure.FeatureModelConfiguration");
  }
}
