package org.iets3.core.expr.base.plugin;

/*Generated by MPS */

import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.smodel.structure.ExtensionPoint;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.lang.core.behavior.INamedConcept__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.jetbrains.mps.openapi.language.SConceptFeature;

public class EditorCustomizationConfigHelper {
  public static IEditorCustomization getConfig() {
    IEditorCustomization config = Sequence.fromIterable(new ExtensionPoint<IEditorCustomization>("org.iets3.core.expr.base.EditorCustomization").getObjects()).sort((it) -> it.getPriorityLevel(), true).last();
    // null case is fallback, should not happen
    return (config == null ? new DefaultEditorCustomization() : config);
  }

  public static String getIdentifier(SAbstractConcept concept) {
    return INamedConcept__BehaviorDescriptor.getFqName_idhEwIO9y.invoke(SNodeOperations.asNode(concept));
  }

  public static String getIdentifier(SAbstractConcept concept, SConceptFeature feature) {
    StringBuilder idBuilder = new StringBuilder(getIdentifier(concept));
    idBuilder.append(".");
    idBuilder.append(feature.getName());
    return idBuilder.toString();
  }
}
