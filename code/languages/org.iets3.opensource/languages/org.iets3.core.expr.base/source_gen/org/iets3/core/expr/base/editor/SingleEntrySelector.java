package org.iets3.core.expr.base.editor;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.EditorContext;
import jetbrains.mps.openapi.editor.cells.SubstituteInfo;
import java.util.List;
import jetbrains.mps.openapi.editor.cells.SubstituteAction;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.nodeEditor.NodeEditorActions;

public class SingleEntrySelector {
  public static void selectIfApplicable(EditorContext editorContext) {
    SubstituteInfo substituteInfo = editorContext.getSelectedCell().getSubstituteInfo();
    List<SubstituteAction> actions = substituteInfo.getMatchingActions("", false);
    SubstituteAction firstAction = ListSequence.fromList(actions).first();
    String text = substituteInfo.getOriginalText();
    if (ListSequence.fromList(actions).count() == 1 && firstAction.canSubstitute(text)) {
      firstAction.substitute(editorContext, text);
    } else {
      new NodeEditorActions.Complete(false).execute(editorContext);
    }
  }
}
