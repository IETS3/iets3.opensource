package org.iets3.core.expr.base.typesystem;

/*Generated by MPS */

import jetbrains.mps.lang.typesystem.dependencies.InferenceMethod;
import jetbrains.mps.typesystem.inference.TypeCheckingContext;
import org.jetbrains.mps.openapi.model.SNode;
import org.iets3.core.expr.base.behavior.IAssignable__BehaviorDescriptor;
import jetbrains.mps.typesystem.inference.EquationInfo;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;

public class AssignableHelper {
  @InferenceMethod
  public static void inference(final TypeCheckingContext typeCheckingContext, final SNode node) {
    {
      final SNode nodeType = typeCheckingContext.typeOf(node, "r:80cf2246-750c-4158-9056-a619ebcf894c(org.iets3.core.expr.base.typesystem)", "3723661587906275027", true);
      typeCheckingContext.whenConcrete(nodeType, () -> {
        {
          final SNode initType = typeCheckingContext.typeOf(IAssignable__BehaviorDescriptor.getInitExpression_id3eH6BL31eym.invoke(node), "r:80cf2246-750c-4158-9056-a619ebcf894c(org.iets3.core.expr.base.typesystem)", "3723661587906275019", true);
          typeCheckingContext.whenConcrete(initType, () -> {
            {
              SNode _nodeToCheck_1029348928467 = node;
              EquationInfo _info_12389875345 = new EquationInfo(_nodeToCheck_1029348928467, String.format("Type mismatch in assignment to ‹%s›. Expected type ‹%s› but got ‹%s›", IAssignable__BehaviorDescriptor.getName_id3eH6BL3bMI8.invoke(node), SNodeOperations.present(typeCheckingContext.getExpandedNode(nodeType)), SNodeOperations.present(typeCheckingContext.getExpandedNode(initType))), "r:80cf2246-750c-4158-9056-a619ebcf894c(org.iets3.core.expr.base.typesystem)", "3723661587906275003", 0, null);
              typeCheckingContext.createGreaterThanInequality((SNode) typeCheckingContext.getExpandedNode(nodeType), (SNode) typeCheckingContext.getExpandedNode(initType), false, true, _info_12389875345);
            }
          }, "r:80cf2246-750c-4158-9056-a619ebcf894c(org.iets3.core.expr.base.typesystem)", "3723661587906275001", false, false);
        }
      }, "r:80cf2246-750c-4158-9056-a619ebcf894c(org.iets3.core.expr.base.typesystem)", "3723661587906274999", false, false);
    }
  }
}
