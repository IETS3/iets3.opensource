package org.iets3.core.expr.simpleTypes.tests.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import java.util.Random;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.iets3.core.expr.base.plugin.InfHelper;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import java.util.List;
import java.util.ArrayList;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import org.iets3.core.expr.simpleTypes.behavior.NumberLiteral__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.internal.collections.runtime.Sequence;
import org.iets3.core.expr.path.behavior.ICanHaveMembersType__BehaviorDescriptor;
import jetbrains.mps.typechecking.TypecheckingFacade;
import org.iets3.core.expr.toplevel.behavior.EnumDeclaration__BehaviorDescriptor;
import org.iets3.core.expr.simpleTypes.behavior.NumberType__BehaviorDescriptor;
import jetbrains.mps.baseLanguage.tuples.runtime.Tuples;
import java.util.concurrent.ThreadLocalRandom;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SProperty;

public class ValueProducer {

  private SNode type;
  private boolean myInteresting;


  private final int OPTION_ONE_IN = 5;
  public static final int UNBOUNDED_COLL_MAX_LEN = 10;

  private Random rand = new Random(System.currentTimeMillis());

  public ValueProducer(SNode t, boolean interestingOnly) {
    type = t;
    myInteresting = interestingOnly;
  }

  public SNode newValue() {
    if (SNodeOperations.isInstanceOf(type, CONCEPTS.BooleanType$eL)) {
      return (rand.nextBoolean() ? createTrueLiteral_rnv7cx_a0a0a0m() : createFalseLiteral_rnv7cx_a0a0a0m());
    } else if (SNodeOperations.isInstanceOf(type, CONCEPTS.OptionType$eU)) {
      int v = rand.nextInt(OPTION_ONE_IN);
      if (v == 0) {
        return createNoneLiteral_rnv7cx_a0a1a0a0m();
      } else {
        return new ValueProducer(SLinkOperations.getTarget(SNodeOperations.cast(type, CONCEPTS.OptionType$eU), LINKS.baseType$Cv_a), myInteresting).newValue();
      }
    } else if (SNodeOperations.isInstanceOf(type, CONCEPTS.RecordType$z_)) {
      return randomForRecord();
    } else if (SNodeOperations.isInstanceOf(type, CONCEPTS.CollectionType$kS)) {
      SNode ct = SNodeOperations.cast(type, CONCEPTS.CollectionType$kS);
      if (myInteresting) {
        int o = 0;
        int d = RandomVectorProducer.UNBOUNDED_COLL_MAX_LEN;
        if (SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch) != null) {
          if (!(InfHelper.isZero(SPropertyOperations.getString(SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch), PROPS.min$H3xo)))) {
            o = InfHelper.asInt_OrZero(SPropertyOperations.getString(SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch), PROPS.min$H3xo));
          }
          if (!(InfHelper.isPosInf(SPropertyOperations.getString(SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch), PROPS.max$H3Kp)))) {
            d = InfHelper.asInt_OrZero(SPropertyOperations.getString(SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch), PROPS.max$H3Kp));
          }
        }
        int listLength = rand.nextInt(d) + o;
        List<SNode> values = new ArrayList<SNode>();
        for (int i = 0; i < listLength; i++) {
          ListSequence.fromList(values).addElement(new ValueProducer(SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ), myInteresting).newValue());
        }
        if (SNodeOperations.isInstanceOf(ct, CONCEPTS.SetType$$o)) {
          SNode ll = createSetLiteral_rnv7cx_a0a0g0b0c0a21();
          if (listLength == 0) {
            SLinkOperations.setTarget(ll, LINKS.typeConstraint$aeKT, createElementTypeConstraintSingle_rnv7cx_a0a0b0g0b0c0a21(SNodeOperations.copyNode(SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ))));
          } else {
            ListSequence.fromList(SLinkOperations.getChildren(ll, LINKS.elements$psbq)).addSequence(ListSequence.fromList(values));
          }
          return ll;
        } else {
          SNode ll = createListLiteral_rnv7cx_a0a0a6a1a2a0m();
          if (listLength == 0) {
            SLinkOperations.setTarget(ll, LINKS.typeConstraint$BQ$W, createElementTypeConstraintSingle_rnv7cx_a0a0b0a6a1a2a0m(SNodeOperations.copyNode(SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ))));
          } else {
            ListSequence.fromList(SLinkOperations.getChildren(ll, LINKS.elements$_r5J)).addSequence(ListSequence.fromList(values));
          }
          return ll;
        }
      } else {
        int min = 0;
        int max = RandomVectorProducer.UNBOUNDED_COLL_MAX_LEN;
        if (SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch) != null) {
          if (!(InfHelper.isZero(SPropertyOperations.getString(SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch), PROPS.min$H3xo)))) {
            min = InfHelper.asInt_OrZero(SPropertyOperations.getString(SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch), PROPS.min$H3xo));
          }
          if (!(InfHelper.isPosInf(SPropertyOperations.getString(SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch), PROPS.max$H3Kp)))) {
            max = InfHelper.asInt_OrZero(SPropertyOperations.getString(SLinkOperations.getTarget(ct, LINKS.sizeConstraint$C3Ch), PROPS.max$H3Kp));
          }
        }

        List<SNode> res = new ArrayList<SNode>();
        ValueProducer proc = new ValueProducer(SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ), myInteresting);
        ListSequence.fromList(res).addElement(this.makeCollectionWithNValues(ct, SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ), proc, min));
        ListSequence.fromList(res).addElement(this.makeCollectionWithNValues(ct, SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ), proc, max));
        if (min == 0) {
          ListSequence.fromList(res).addElement(this.makeCollectionWithNValues(ct, SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ), proc, 1));
          ListSequence.fromList(res).addElement(this.makeCollectionWithNValues(ct, SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ), proc, 2));
        }
        ListSequence.fromList(res).addElement(this.makeCollectionWithNValues(ct, SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ), proc, max - 1));
        ListSequence.fromList(res).addElement(this.makeCollectionWithNValues(ct, SLinkOperations.getTarget(ct, LINKS.baseType$5NOJ), proc, min + ((max - min) / 2)));

        return selectFrom(res);

      }
    } else if (SNodeOperations.isInstanceOf(type, CONCEPTS.IntegerType$m0)) {
      if (myInteresting) {
        return selectFrom(interestingForInt());
      } else {
        return randomForInt();
      }
    } else if (SNodeOperations.isInstanceOf(type, CONCEPTS.EnumType$z)) {
      return randomForEnum();
    } else if (SNodeOperations.isInstanceOf(type, CONCEPTS.NumberType$n)) {
      SNode nt = SNodeOperations.cast(type, CONCEPTS.NumberType$n);
      if (myInteresting) {
        return selectFrom(interstingForNumber(nt));
      } else {
        return randomForNumber(nt);
      }
    } else if (SNodeOperations.isInstanceOf(type, CONCEPTS.RealType$36)) {
      if (myInteresting) {
        return selectFrom(interestingForReal());
      } else {
        return randomForReal();
      }
    } else if (SNodeOperations.isInstanceOf(type, CONCEPTS.StringType$B3)) {
      if (myInteresting) {
        return selectFrom(interestingForString());
      } else {
        return randomForString();
      }
    }
    return null;
  }

  private SNode randomForReal() {
    return NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), rand.nextFloat() + "");
  }

  private SNode randomForInt() {
    return NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), rand.nextInt() + "");
  }

  private SNode randomForRecord() {
    SNode rt = SNodeOperations.cast(type, CONCEPTS.RecordType$z_);
    SNode bbe = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafd3L, "org.iets3.core.expr.toplevel.structure.BuilderExpression"));
    SLinkOperations.setTarget(bbe, LINKS.adapted$goB5, createRecordTypeAdapter_rnv7cx_a0c0s(SNodeOperations.copyNode(rt)));
    for (SNode rm : Sequence.fromIterable(ICanHaveMembersType__BehaviorDescriptor.members_id6LLGpXJ1KQb.invoke(rt))) {
      ListSequence.fromList(SLinkOperations.getChildren(bbe, LINKS.elements$iY16)).addElement(createFieldSetter_rnv7cx_a0a0a3a81(rm, new ValueProducer(SNodeOperations.cast(TypecheckingFacade.getFromContext().getTypeOf(rm), CONCEPTS.Type$WK), myInteresting).newValue()));
    }
    return bbe;
  }

  private SNode randomForEnum() {
    SNode enumm = SLinkOperations.getTarget(SNodeOperations.cast(type, CONCEPTS.EnumType$z), LINKS.enum$2YBB);
    List<SNode> lits = Sequence.fromIterable(EnumDeclaration__BehaviorDescriptor.effectiveLiterals_idolugnm0Egc.invoke(enumm)).toList();
    int idx = rand.nextInt(ListSequence.fromList(lits).count());
    return createEnumLiteralRef_rnv7cx_a3a02(lits.get(idx));
  }

  private SNode randomForNumber(SNode nt) {
    if ((int) NumberType__BehaviorDescriptor.precision_id19PglA20ASE.invoke(nt) == 0) {
      if (SLinkOperations.getTarget(nt, LINKS.range$RnOa) != null) {
        Tuples._2<Long, Long> rr = NumberType__BehaviorDescriptor.intRange_id3p6$WoEzHkL.invoke(nt);
        int delta = (int) ((long) rr._1() - (long) rr._0()) + 1;
        return NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), (rand.nextInt(delta) + (long) rr._0()) + "");
      } else {
        return randomForInt();
      }
    } else {
      if (SLinkOperations.getTarget(nt, LINKS.range$RnOa) != null) {
        Tuples._2<Double, Double> rr = NumberType__BehaviorDescriptor.doubleRange_id3p6$WoEzKI5.invoke(nt);
        double val = ThreadLocalRandom.current().nextDouble((double) rr._0(), (double) rr._1());
        return NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), String.format("%.2f", val));
      } else {
        return randomForReal();
      }
    }


  }

  private SNode randomForString() {
    String seed = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz !ยง$%&/()=:-,";
    int len = rand.nextInt(40);
    StringBuffer bf = new StringBuffer();
    for (int p = 0; p < len; p++) {
      int pos = rand.nextInt(seed.length());
      bf.append(seed.charAt(pos));
    }
    return createStringLiteral_rnv7cx_a4a42(bf.toString());
  }

  public SNode selectFrom(List<SNode> expressions) {
    int getting = rand.nextInt(ListSequence.fromList(expressions).count());
    return ListSequence.fromList(expressions).getElement(getting);
  }

  public SNode makeCollectionWithNValues(SNode collType, SNode elType, ValueProducer producer, int n) {
    List<SNode> values = new ArrayList<SNode>();
    for (int i = 0; i < n; i++) {
      ListSequence.fromList(values).addElement(producer.newValue());
    }
    if (SNodeOperations.isInstanceOf(collType, CONCEPTS.SetType$$o)) {
      SNode ll = createSetLiteral_rnv7cx_a0a0c0cb();
      if (n == 0) {
        SLinkOperations.setTarget(ll, LINKS.typeConstraint$aeKT, createElementTypeConstraintSingle_rnv7cx_a0a0b0c0cb(SNodeOperations.copyNode(elType)));
      } else {
        ListSequence.fromList(SLinkOperations.getChildren(ll, LINKS.elements$psbq)).addSequence(ListSequence.fromList(values));
      }
      return ll;
    } else {
      SNode ll = createListLiteral_rnv7cx_a0a0a2a82();
      if (n == 0) {
        SLinkOperations.setTarget(ll, LINKS.typeConstraint$BQ$W, createElementTypeConstraintSingle_rnv7cx_a0a0b0a2a82(SNodeOperations.copyNode(elType)));
      } else {
        ListSequence.fromList(SLinkOperations.getChildren(ll, LINKS.elements$_r5J)).addSequence(ListSequence.fromList(values));
      }
      return ll;
    }
  }

  private List<SNode> interestingForInt() {
    List<SNode> res = new ArrayList<SNode>();
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "0"));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "1"));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "-1"));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "5"));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), Integer.MAX_VALUE + ""));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), Integer.MIN_VALUE + ""));
    return res;
  }


  private List<SNode> interestingForReal() {
    List<SNode> res = new ArrayList<SNode>();
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "0"));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "0.0"));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "1"));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "-1.0"));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "3.141527"));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), Float.MAX_VALUE + ""));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), Float.MIN_VALUE + ""));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), Double.MAX_VALUE + ""));
    ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), Double.MIN_VALUE + ""));
    return res;
  }

  private List<SNode> interestingForString() {
    List<SNode> res = new ArrayList<SNode>();
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a1a53());
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a2a53());
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a3a53());
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a4a53());
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a5a53());
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a6a53());
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a7a53());
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a8a53());
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a9a53());
    ListSequence.fromList(res).addElement(createStringLiteral_rnv7cx_a0a01a53());
    return res;
  }

  public List<SNode> interstingForNumber(SNode nt) {
    if ((int) NumberType__BehaviorDescriptor.precision_id19PglA20ASE.invoke(nt) == 0) {
      Tuples._2<Long, Long> rr = NumberType__BehaviorDescriptor.intRange_id3p6$WoEzHkL.invoke(nt);
      if (rr != null) {
        List<SNode> res = new ArrayList<SNode>();
        ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), (long) rr._0() + ""));
        ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), (long) rr._1() + ""));
        ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), (long) rr._0() + 1 + ""));
        ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), (long) rr._1() - 1 + ""));
        if ((long) rr._0() <= 0 || (long) rr._1() >= 0) {
          ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "0"));
        }
        if ((long) rr._0() < 0) {
          ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "-1"));
        }
        if ((long) rr._1() > 0) {
          ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), "1"));
        }
        return res;
      } else {
        return interestingForInt();
      }
    } else {
      Tuples._2<Double, Double> rr = NumberType__BehaviorDescriptor.doubleRange_id3p6$WoEzKI5.invoke(nt);
      if (rr != null) {
        List<SNode> res = new ArrayList<SNode>();
        int pp = (int) NumberType__BehaviorDescriptor.precision_id19PglA20ASE.invoke(nt);
        ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), this.decimals((double) rr._0(), pp) + ""));
        ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), this.decimals((double) rr._1(), pp) + ""));
        if ((double) rr._0() <= 0 || (double) rr._1() >= 0) {
          ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), this.decimals(0, pp)));
        }
        if ((double) rr._0() < 0) {
          ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), this.decimals(-1, pp)));
        }
        if ((double) rr._1() > 0) {
          ListSequence.fromList(res).addElement(NumberLiteral__BehaviorDescriptor.set_id2oUyrt$Tg3c.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6daL, "org.iets3.core.expr.simpleTypes.structure.NumberLiteral")), this.decimals(1, pp)));
        }
        return res;
      } else {
        return interestingForReal();
      }
    }
  }

  public String decimals(double d, int decs) {
    return String.format("%." + decs + "f", d);
  }


  private static SNode createTrueLiteral_rnv7cx_a0a0a0m() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.TrueLiteral$_K);
    return n0.getResult();
  }
  private static SNode createFalseLiteral_rnv7cx_a0a0a0m() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.FalseLiteral$ik);
    return n0.getResult();
  }
  private static SNode createNoneLiteral_rnv7cx_a0a1a0a0m() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.NoneLiteral$$J);
    return n0.getResult();
  }
  private static SNode createSetLiteral_rnv7cx_a0a0g0b0c0a21() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.SetLiteral$Js);
    return n0.getResult();
  }
  private static SNode createElementTypeConstraintSingle_rnv7cx_a0a0b0g0b0c0a21(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ElementTypeConstraintSingle$uP);
    n0.forChild(LINKS.typeConstraint$ooNf).initNode(p0, CONCEPTS.Type$WK, true);
    return n0.getResult();
  }
  private static SNode createListLiteral_rnv7cx_a0a0a6a1a2a0m() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ListLiteral$zq);
    return n0.getResult();
  }
  private static SNode createElementTypeConstraintSingle_rnv7cx_a0a0b0a6a1a2a0m(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ElementTypeConstraintSingle$uP);
    n0.forChild(LINKS.typeConstraint$ooNf).initNode(p0, CONCEPTS.Type$WK, true);
    return n0.getResult();
  }
  private static SNode createRecordTypeAdapter_rnv7cx_a0c0s(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.RecordTypeAdapter$nb);
    n0.forChild(LINKS.type$MFr_).initNode(p0, CONCEPTS.IRecordType$ka, true);
    return n0.getResult();
  }
  private static SNode createFieldSetter_rnv7cx_a0a0a3a81(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.FieldSetter$nv);
    n0.setReferenceTarget(LINKS.field$jb__, p0);
    n0.forChild(LINKS.value$jc3B).initNode(p1, CONCEPTS.Expression$D_, true);
    return n0.getResult();
  }
  private static SNode createEnumLiteralRef_rnv7cx_a3a02(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EnumLiteralRef$$8);
    n0.setReferenceTarget(LINKS.literal$llO8, p0);
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a4a42(String p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, p0);
    return n0.getResult();
  }
  private static SNode createSetLiteral_rnv7cx_a0a0c0cb() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.SetLiteral$Js);
    return n0.getResult();
  }
  private static SNode createElementTypeConstraintSingle_rnv7cx_a0a0b0c0cb(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ElementTypeConstraintSingle$uP);
    n0.forChild(LINKS.typeConstraint$ooNf).initNode(p0, CONCEPTS.Type$WK, true);
    return n0.getResult();
  }
  private static SNode createListLiteral_rnv7cx_a0a0a2a82() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ListLiteral$zq);
    return n0.getResult();
  }
  private static SNode createElementTypeConstraintSingle_rnv7cx_a0a0b0a2a82(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ElementTypeConstraintSingle$uP);
    n0.forChild(LINKS.typeConstraint$ooNf).initNode(p0, CONCEPTS.Type$WK, true);
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a1a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "");
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a2a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "a");
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a3a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "aaaaaaa aaaaaaaaa");
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a4a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "aaaaaaa\t aaaaaaaaa");
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a5a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "aaaaaaa\n aaaaaaaaa");
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a6a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "  aa  ");
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a7a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "  aa");
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a8a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "aa  ");
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a9a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "aaaaaaa aaaaaaaaa aaaaaaaa    aaaaaaaaaaaa aaaa");
    return n0.getResult();
  }
  private static SNode createStringLiteral_rnv7cx_a0a01a53() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StringLiteral$By);
    n0.setProperty(PROPS.value$zwlK, "1%987ydflyk!!lllkj::---");
    return n0.getResult();
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept BooleanType$eL = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x670d5e92f854a617L, "org.iets3.core.expr.simpleTypes.structure.BooleanType");
    /*package*/ static final SConcept OptionType$eU = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x26f4f2a81ca93310L, "org.iets3.core.expr.base.structure.OptionType");
    /*package*/ static final SConcept RecordType$z_ = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x7a477bfec237e8c2L, "org.iets3.core.expr.toplevel.structure.RecordType");
    /*package*/ static final SConcept CollectionType$kS = MetaAdapterFactory.getConcept(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x68d69d36ba495885L, "org.iets3.core.expr.collections.structure.CollectionType");
    /*package*/ static final SConcept SetType$$o = MetaAdapterFactory.getConcept(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x7b20a1e3c2f0b587L, "org.iets3.core.expr.collections.structure.SetType");
    /*package*/ static final SConcept IntegerType$m0 = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e6d9L, "org.iets3.core.expr.simpleTypes.structure.IntegerType");
    /*package*/ static final SConcept EnumType$z = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x61fe216664a730bbL, "org.iets3.core.expr.toplevel.structure.EnumType");
    /*package*/ static final SConcept NumberType$n = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x7211e50064d40ea8L, "org.iets3.core.expr.simpleTypes.structure.NumberType");
    /*package*/ static final SConcept RealType$36 = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d0e74cL, "org.iets3.core.expr.simpleTypes.structure.RealType");
    /*package*/ static final SConcept StringType$B3 = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d3edc7L, "org.iets3.core.expr.simpleTypes.structure.StringType");
    /*package*/ static final SConcept Type$WK = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x670d5e92f854a614L, "org.iets3.core.expr.base.structure.Type");
    /*package*/ static final SConcept TrueLiteral$_K = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x670d5e92f854cb59L, "org.iets3.core.expr.simpleTypes.structure.TrueLiteral");
    /*package*/ static final SConcept FalseLiteral$ik = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x670d5e92f854cb76L, "org.iets3.core.expr.simpleTypes.structure.FalseLiteral");
    /*package*/ static final SConcept NoneLiteral$$J = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x26f4f2a81cae2cf5L, "org.iets3.core.expr.base.structure.NoneLiteral");
    /*package*/ static final SConcept SetLiteral$Js = MetaAdapterFactory.getConcept(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x7b20a1e3c2f0b98dL, "org.iets3.core.expr.collections.structure.SetLiteral");
    /*package*/ static final SConcept ElementTypeConstraintSingle$uP = MetaAdapterFactory.getConcept(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x78a93d5e5aeb3e99L, "org.iets3.core.expr.collections.structure.ElementTypeConstraintSingle");
    /*package*/ static final SConcept ListLiteral$zq = MetaAdapterFactory.getConcept(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x68d69d36ba497ed7L, "org.iets3.core.expr.collections.structure.ListLiteral");
    /*package*/ static final SConcept RecordTypeAdapter$nb = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132db232L, "org.iets3.core.expr.toplevel.structure.RecordTypeAdapter");
    /*package*/ static final SInterfaceConcept IRecordType$ka = MetaAdapterFactory.getInterfaceConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x3c10dabb94384796L, "org.iets3.core.expr.toplevel.structure.IRecordType");
    /*package*/ static final SConcept FieldSetter$nv = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafecL, "org.iets3.core.expr.toplevel.structure.FieldSetter");
    /*package*/ static final SConcept Expression$D_ = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x670d5e92f854a047L, "org.iets3.core.expr.base.structure.Expression");
    /*package*/ static final SConcept EnumLiteralRef$$8 = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x61fe216664a736c5L, "org.iets3.core.expr.toplevel.structure.EnumLiteralRef");
    /*package*/ static final SConcept StringLiteral$By = MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d3edc8L, "org.iets3.core.expr.simpleTypes.structure.StringLiteral");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink baseType$Cv_a = MetaAdapterFactory.getContainmentLink(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x26f4f2a81ca93310L, 0x26f4f2a81ca93311L, "baseType");
    /*package*/ static final SContainmentLink sizeConstraint$C3Ch = MetaAdapterFactory.getContainmentLink(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x68d69d36ba495885L, 0x375e37596567ed39L, "sizeConstraint");
    /*package*/ static final SContainmentLink baseType$5NOJ = MetaAdapterFactory.getContainmentLink(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x68d69d36ba495885L, 0x68d69d36ba495886L, "baseType");
    /*package*/ static final SContainmentLink typeConstraint$aeKT = MetaAdapterFactory.getContainmentLink(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x7b20a1e3c2f0b98dL, 0x78a93d5e5af4b665L, "typeConstraint");
    /*package*/ static final SContainmentLink elements$psbq = MetaAdapterFactory.getContainmentLink(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x7b20a1e3c2f0b98dL, 0x7b20a1e3c2f0b98eL, "elements");
    /*package*/ static final SContainmentLink typeConstraint$BQ$W = MetaAdapterFactory.getContainmentLink(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x68d69d36ba497ed7L, 0x78a93d5e5aeb45b9L, "typeConstraint");
    /*package*/ static final SContainmentLink elements$_r5J = MetaAdapterFactory.getContainmentLink(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x68d69d36ba497ed7L, 0x68d69d36ba497ed8L, "elements");
    /*package*/ static final SContainmentLink adapted$goB5 = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafd3L, 0x465d5f01132dafddL, "adapted");
    /*package*/ static final SContainmentLink elements$iY16 = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafd3L, 0x465d5f01132dafe9L, "elements");
    /*package*/ static final SReferenceLink enum$2YBB = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x61fe216664a730bbL, 0x61fe216664a730f3L, "enum");
    /*package*/ static final SContainmentLink range$RnOa = MetaAdapterFactory.getContainmentLink(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x7211e50064d40ea8L, 0x127541598201af78L, "range");
    /*package*/ static final SContainmentLink typeConstraint$ooNf = MetaAdapterFactory.getContainmentLink(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x78a93d5e5aeb3e99L, 0x78a93d5e5aeb3e9aL, "typeConstraint");
    /*package*/ static final SContainmentLink type$MFr_ = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132db232L, 0x465d5f01132db23cL, "type");
    /*package*/ static final SReferenceLink field$jb__ = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafecL, 0x465d5f01132daff6L, "field");
    /*package*/ static final SContainmentLink value$jc3B = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafecL, 0x465d5f01132daff8L, "value");
    /*package*/ static final SReferenceLink literal$llO8 = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x61fe216664a736c5L, 0x61fe216664a73709L, "literal");
  }

  private static final class PROPS {
    /*package*/ static final SProperty min$H3xo = MetaAdapterFactory.getProperty(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x127541598201af65L, 0x127541598201af6fL, "min");
    /*package*/ static final SProperty max$H3Kp = MetaAdapterFactory.getProperty(0x2f7e2e356e744c43L, 0x9fa52465d68f5996L, 0x127541598201af65L, 0x127541598201af70L, "max");
    /*package*/ static final SProperty value$zwlK = MetaAdapterFactory.getProperty(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x46ff3b3d86d3edc8L, 0x46ff3b3d86d3edcbL, "value");
  }
}
