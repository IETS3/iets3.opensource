package org.iets3.core.expr.simpleTypes.tests.behavior;

/*Generated by MPS */

import java.util.List;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;

public class Helper {

  public static List<List<SNode>> permutations(List<List<SNode>> collections) {
    List<List<SNode>> res = ListSequence.fromList(new ArrayList<List<SNode>>());
    permutationsImpl(collections, res, 0, new ArrayList<SNode>());
    return res;
  }
  /**
   * Recursive implementation for {@link #permutations(List, Collection)} 
   */
  private static void permutationsImpl(List<List<SNode>> ori, List<List<SNode>> res, int d, List<SNode> current) {
    if (d == ListSequence.fromList(ori).count()) {
      ListSequence.fromList(res).addElement(current);
      return;
    }
    List<SNode> currentCollection = ListSequence.fromList(ori).getElement(d);
    for (SNode e : ListSequence.fromList(currentCollection)) {
      List<SNode> newNL = new ArrayList<SNode>();
      ListSequence.fromList(newNL).addSequence(ListSequence.fromList(current));
      List<SNode> copy = newNL;
      ListSequence.fromList(copy).addElement(e);
      permutationsImpl(ori, res, d + 1, copy);
    }
  }



}
