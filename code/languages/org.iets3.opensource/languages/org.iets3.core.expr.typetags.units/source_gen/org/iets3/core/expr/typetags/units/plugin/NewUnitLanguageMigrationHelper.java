package org.iets3.core.expr.typetags.units.plugin;

/*Generated by MPS */

import java.util.Map;
import org.jetbrains.mps.openapi.model.SNodeReference;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import java.util.LinkedHashMap;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import org.jetbrains.mps.openapi.model.SModelReference;
import org.jetbrains.mps.openapi.model.SModel;
import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;
import org.jetbrains.mps.openapi.module.SRepository;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPointerOperations;
import org.jetbrains.mps.openapi.persistence.PersistenceFacade;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SModelOperations;
import java.util.Objects;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.smodel.SNodePointer;
import jetbrains.mps.baseLanguage.closures.runtime.Wrappers;
import org.iets3.core.expr.typetags.physunits.behavior.DecimalMetricUnitPrefixManager;
import jetbrains.mps.baseLanguage.tuples.runtime.Tuples;
import jetbrains.mps.baseLanguage.tuples.runtime.MultiTuple;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import com.mbeddr.core.base.behavior.IDetectCycle__BehaviorDescriptor;
import org.iets3.core.expr.typetags.physunits.behavior.StandardUnitHelper;
import org.iets3.core.expr.typetags.physunits.behavior.UnitConversionUtil;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.smodel.adapter.MetaAdapterByDeclaration;
import jetbrains.mps.smodel.ModelImports;
import com.mbeddr.mpsutil.smodule.runtime.lib.ModelHelper;
import jetbrains.mps.kernel.model.MissingDependenciesFixer;
import jetbrains.mps.internal.collections.runtime.IMapping;
import org.iets3.core.expr.typetags.physunits.behavior.DecimalMetricUnitPrefix;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import org.jetbrains.mps.openapi.language.SProperty;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;

public class NewUnitLanguageMigrationHelper {
  public Map<SNodeReference, SNode> quantityPointerMap = MapSequence.fromMap(new LinkedHashMap<SNodeReference, SNode>(16, (float) 0.75, false));
  public Map<SNodeReference, SNode> unitMap = MapSequence.fromMap(new LinkedHashMap<SNodeReference, SNode>(16, (float) 0.75, false));
  public Map<SNodeReference, SNode> unitToReferenceMap = MapSequence.fromMap(new LinkedHashMap<SNodeReference, SNode>(16, (float) 0.75, false));
  public Map<SNode, SNode> conversionRuleMap = MapSequence.fromMap(new LinkedHashMap<SNode, SNode>(16, (float) 0.75, false));
  public Map<SAbstractConcept, SAbstractConcept> conceptMap = MapSequence.fromMap(new LinkedHashMap<SAbstractConcept, SAbstractConcept>(16, (float) 0.75, false));
  public Map<SModelReference, SModelReference> modelMap = MapSequence.fromMap(new LinkedHashMap<SModelReference, SModelReference>(16, (float) 0.75, false));

  private SModel oldSIModel;
  private SModel newSIModel;
  private _FunctionTypes._return_P1_E0<? extends Boolean, ? super SNode> exclusionFilter = (SNode node) -> false;

  private SRepository repository;

  private static final NewUnitLanguageMigrationHelper INSTANCE = new NewUnitLanguageMigrationHelper();

  private NewUnitLanguageMigrationHelper() {
  }

  public void setRepository(SRepository repository) {
    this.repository = repository;
  }

  public void setExclusionFilter(_FunctionTypes._return_P1_E0<? extends Boolean, ? super SNode> exclusionFilter) {
    this.exclusionFilter = exclusionFilter;
  }

  public void clearCache() {
    oldSIModel = null;
    newSIModel = null;
    MapSequence.fromMap(quantityPointerMap).clear();
    MapSequence.fromMap(unitMap).clear();
    MapSequence.fromMap(conversionRuleMap).clear();
  }

  public void initializeLibraryModels() {
    if (oldSIModel == null || newSIModel == null) {
      oldSIModel = SPointerOperations.resolveModel(PersistenceFacade.getInstance().createModelReference("r:1881124b-7ac4-4b0f-a7dd-12953ac3263b(org.iets3.core.expr.typetags.units.si.units)"), repository);
      newSIModel = SPointerOperations.resolveModel(PersistenceFacade.getInstance().createModelReference("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)"), repository);

      ListSequence.fromList(SModelOperations.nodes(oldSIModel, CONCEPTS.Quantity$vx)).visitAll((final SNode oldQuantity) -> {
        SNode newQuantity = ListSequence.fromList(SModelOperations.nodes(newSIModel, CONCEPTS.Quantity$W4)).findFirst((it) -> Objects.equals(SPropertyOperations.getString(it, PROPS.name$MnvL), SPropertyOperations.getString(oldQuantity, PROPS.name$MnvL)));
        MapSequence.fromMap(quantityPointerMap).put(SNodeOperations.getPointer(oldQuantity), newQuantity);
      });

      // hardcode the node pointer to avoid a cyclic dependency: undefined unit (helper)
      MapSequence.fromMap(quantityPointerMap).put(new SNodePointer("r:1881124b-7ac4-4b0f-a7dd-12953ac3263b(org.iets3.core.expr.typetags.units.si.units)", "2034036099105357461"), SPointerOperations.resolveNode(new SNodePointer("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)", "4067340399592148754"), repository));

      // hardcode the node pointer to avoid a cyclic dependency: temperature
      MapSequence.fromMap(quantityPointerMap).put(new SNodePointer("r:1881124b-7ac4-4b0f-a7dd-12953ac3263b(org.iets3.core.expr.typetags.units.si.units)", "2034036099105357465"), SPointerOperations.resolveNode(new SNodePointer("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)", "4067340399592148758"), repository));

      ListSequence.fromList(SModelOperations.nodes(oldSIModel, CONCEPTS.Unit$fR)).visitAll((final SNode oldUnit) -> {
        final Wrappers._T<String> prefix = new Wrappers._T<String>(check_gk4fhs_a0a0a0a11a0a32(ListSequence.fromList(DecimalMetricUnitPrefixManager.getInstance().getAvailablePrefixes()).where((it) -> SPropertyOperations.getString(oldUnit, PROPS.name$MnvL).startsWith(it.key())).sort((a, b) -> a.key().length(), true).last()));
        // comparison doesn't work with μ
        if (SPropertyOperations.getString(oldUnit, PROPS.name$MnvL).substring(0, 1).equalsIgnoreCase("μ")) {
          prefix.value = "μ";
        }

        SNode newUnit = ListSequence.fromList(SModelOperations.nodes(newSIModel, CONCEPTS.Unit$Gq)).findFirst((it) -> {
          String name = SPropertyOperations.getString(oldUnit, PROPS.name$MnvL);
          if (prefix.value != null && prefix.value.length() < name.length()) {
            name = name.substring(prefix.value.length());
          } else {
            prefix.value = null;
          }
          return Objects.equals(SPropertyOperations.getString(it, PROPS.name$MnvL), name);
        });
        // try again without prefix
        if ((newUnit == null)) {
          newUnit = ListSequence.fromList(SModelOperations.nodes(newSIModel, CONCEPTS.Unit$Gq)).findFirst((it) -> Objects.equals(SPropertyOperations.getString(it, PROPS.name$MnvL), SPropertyOperations.getString(oldUnit, PROPS.name$MnvL)));
          prefix.value = null;
        }
        MapSequence.fromMap(unitMap).put(SNodeOperations.getPointer(oldUnit), createUnitReference_gk4fhs_a0h0a0a11a0a32(newUnit, prefix.value));
      });

      // hardcode the node pointer to avoid a cyclic dependency: nounit -> unitless
      MapSequence.fromMap(unitMap).put(new SNodePointer("r:1881124b-7ac4-4b0f-a7dd-12953ac3263b(org.iets3.core.expr.typetags.units.si.units)", "6866407013261741579"), createUnitReference_gk4fhs_a0o0a0x(SPointerOperations.resolveNode(new SNodePointer("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)", "3572715678515562186"), repository)));

      // hardcode the node pointer to avoid a cyclic dependency: day -> d
      MapSequence.fromMap(unitMap).put(new SNodePointer("r:1881124b-7ac4-4b0f-a7dd-12953ac3263b(org.iets3.core.expr.typetags.units.si.units)", "7092451331179153254"), createUnitReference_gk4fhs_a0r0a0x(SPointerOperations.resolveNode(new SNodePointer("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)", "4383045081079954468"), repository)));

      // hardcode the node pointer to avoid a cyclic dependency: degC -> °C
      MapSequence.fromMap(unitMap).put(new SNodePointer("r:1881124b-7ac4-4b0f-a7dd-12953ac3263b(org.iets3.core.expr.typetags.units.si.units)", "7092451331179163130"), createUnitReference_gk4fhs_a0u0a0x(SPointerOperations.resolveNode(new SNodePointer("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)", "4067340399592149060"), repository)));

      // hardcode the node pointer to avoid a cyclic dependency: ohm -> Ω
      MapSequence.fromMap(unitMap).put(new SNodePointer("r:1881124b-7ac4-4b0f-a7dd-12953ac3263b(org.iets3.core.expr.typetags.units.si.units)", "7092451331179192795"), createUnitReference_gk4fhs_a0x0a0x(SPointerOperations.resolveNode(new SNodePointer("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)", "4067340399592148981"), repository)));

      MapSequence.fromMap(conceptMap).put(CONCEPTS.IUnit$X, CONCEPTS.IUnit$tw);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.ISpecification$mq, CONCEPTS.ISpecification$MX);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.ICanUseNoUnit$8T, CONCEPTS.ICanUseUnitlessUnit$_s);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.IUnitDeclarationsProvider$yd, CONCEPTS.IUnitDeclarationsProvider$YK);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.Quantity$vx, CONCEPTS.Quantity$W4);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.Unit$fR, CONCEPTS.Unit$Gq);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.UnitReference$yP, CONCEPTS.UnitReference$Zo);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.UnitSpecification$DK, CONCEPTS.UnitSpecification$6j);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.ConversionRule$PW, CONCEPTS.ConversionRule$iv);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.ConversionSpecifier$x1, CONCEPTS.ConversionSpecifier$X$);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.ConvertExpression$wD, CONCEPTS.ConvertExpression$Xc);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.ConvertToTarget$l$, CONCEPTS.ConvertToTarget$M7);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.IConvertUnit$FL, CONCEPTS.IConvertUnit$8k);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.StripUnitExpression$iJ, CONCEPTS.StripUnitExpression$Ji);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.ValExpression$OM, CONCEPTS.ValExpression$hl);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.Exponent$IH, CONCEPTS.Exponent$bg);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.FractionalExponent$hx, CONCEPTS.FractionalExponent$I4);
      MapSequence.fromMap(conceptMap).put(CONCEPTS.IntegerExponent$Hv, CONCEPTS.IntegerExponent$a2);

      MapSequence.fromMap(modelMap).put(PersistenceFacade.getInstance().createModelReference("r:1881124b-7ac4-4b0f-a7dd-12953ac3263b(org.iets3.core.expr.typetags.units.si.units)"), PersistenceFacade.getInstance().createModelReference("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)"));
      MapSequence.fromMap(modelMap).put(PersistenceFacade.getInstance().createModelReference("r:1eb914ff-b91c-4cbc-93c6-3ecde7821894(org.iets3.core.expr.typetags.units.structure)"), PersistenceFacade.getInstance().createModelReference("r:4f64e2f0-6a4e-4db3-b3bf-7977f44949b6(org.iets3.core.expr.typetags.physunits.structure)"));
    }
  }

  public static NewUnitLanguageMigrationHelper newInstance(SRepository repository) {
    INSTANCE.clearCache();
    INSTANCE.initializeLibraryModels();
    return INSTANCE;
  }

  public Tuples._2<SNode, Boolean> createOrReturnQuantity(SNode oldQuantity) {
    if (MapSequence.fromMap(quantityPointerMap).containsKey(SNodeOperations.getPointer(oldQuantity))) {
      return MultiTuple.<SNode,Boolean>from(MapSequence.fromMap(quantityPointerMap).get(SNodeOperations.getPointer(oldQuantity)), false);
    }

    SNode newQuantity = createQuantity_gk4fhs_a0c0bb(SPropertyOperations.getString(oldQuantity, PROPS.name$MnvL));
    ListSequence.fromList(SLinkOperations.getChildren(newQuantity, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(oldQuantity, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    MapSequence.fromMap(quantityPointerMap).put(SNodeOperations.getPointer(oldQuantity), newQuantity);

    return MultiTuple.<SNode,Boolean>from(newQuantity, true);
  }

  public Tuples._2<SNode, Boolean> createOrReturnUnitReference(SNode oldUnit) {

    if (MapSequence.fromMap(unitMap).containsKey(SNodeOperations.getPointer(oldUnit))) {
      return MultiTuple.<SNode,Boolean>from(MapSequence.fromMap(unitMap).get(SNodeOperations.getPointer(oldUnit)), false);
    }

    SNode newUnit = createUnit_gk4fhs_a0d0db(SPropertyOperations.getString(oldUnit, PROPS.name$MnvL) + (((boolean) IDetectCycle__BehaviorDescriptor.isInvolvedInCycle_id59HbAIOYtvQ.invoke(oldUnit) ? "_Cyclic_Please_Fix_Manually" : "")), ((SLinkOperations.getTarget(oldUnit, LINKS.dimension$8TSu) != null) ? MapSequence.fromMap(quantityPointerMap).get(SLinkOperations.getPointer(oldUnit, LINKS.dimension$8TSu)) : SLinkOperations.getTarget(StandardUnitHelper.getUnitLessUnit(repository), LINKS.quantity$tnl1)), ((boolean) IDetectCycle__BehaviorDescriptor.isInvolvedInCycle_id59HbAIOYtvQ.invoke(oldUnit) ? null : createNewUnitSpecification(SLinkOperations.getTarget(oldUnit, LINKS.specification$LqJl))));
    ListSequence.fromList(SLinkOperations.getChildren(newUnit, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(oldUnit, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));

    if ((SLinkOperations.getTarget(newUnit, LINKS.specification$Tp$k) != null)) {
      SPropertyOperations.assign(newUnit, PROPS.derived$qIf$, true);
      if ((SLinkOperations.getTarget(newUnit, LINKS.quantity$tnl1) != null) && (SLinkOperations.getTarget(SLinkOperations.getTarget(newUnit, LINKS.quantity$tnl1), LINKS.specification$Tp$k) == null) && !(StandardUnitHelper.isSiQuantity(SLinkOperations.getTarget(newUnit, LINKS.quantity$tnl1), repository))) {
        SLinkOperations.setTarget(SLinkOperations.getTarget(newUnit, LINKS.quantity$tnl1), LINKS.specification$Tp$k, UnitConversionUtil.createQuantitySpecificationForUnit(newUnit));
        SPropertyOperations.assign(SLinkOperations.getTarget(newUnit, LINKS.quantity$tnl1), PROPS.derived$jMUI, true);
      } else {
        SLinkOperations.setTarget(newUnit, LINKS.quantity$tnl1, SLinkOperations.getTarget(StandardUnitHelper.getUnitLessUnit(repository), LINKS.quantity$tnl1));
      }
    }
    SNode newUnitReference = createUnitReference_gk4fhs_a0h0db(newUnit);
    MapSequence.fromMap(unitMap).put(SNodeOperations.getPointer(oldUnit), newUnitReference);
    return MultiTuple.<SNode,Boolean>from(newUnitReference, true);
  }

  public SNode createNewUnitSpecification(SNode oldSpecification) {
    if ((oldSpecification == null) || exclusionFilter.invoke(oldSpecification)) {
      return null;
    }

    SNode newSpecification = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d411dL, "org.iets3.core.expr.typetags.physunits.structure.UnitSpecification"));
    SNode newExpr = null;
    for (SNode oldComponent : ListSequence.fromList(SLinkOperations.getChildren(oldSpecification, LINKS.components$SDyb))) {
      SNode newReference = createNewUnitReference(oldComponent);
      if ((newExpr == null)) {
        newExpr = newReference;
      } else {
        newExpr = createUnitMultiplication_gk4fhs_a0a0a1a4a13(newExpr, newReference);
      }
    }
    SLinkOperations.setTarget(newSpecification, LINKS.specification$d6YI, newExpr);
    ListSequence.fromList(SLinkOperations.getChildren(newSpecification, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(oldSpecification, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    return newSpecification;
  }

  public SNode createNewQuantitySpecification(SNode oldSpecification) {
    if ((oldSpecification == null)) {
      return null;
    }

    SNode newSpecification = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce8b64dcL, "org.iets3.core.expr.typetags.physunits.structure.QuantitySpecification"));
    SNode newExpr = null;

    for (SNode oldComponent : ListSequence.fromList(SLinkOperations.getChildren(oldSpecification, LINKS.components$OfG))) {
      SNode newReference = createNewQuantityReference(oldComponent);
      if ((newExpr == null)) {
        newExpr = newReference;
      } else {
        newExpr = createQuantityMultiplication_gk4fhs_a0a0a1a5a33(newExpr, newReference);
      }
    }
    SLinkOperations.setTarget(newSpecification, LINKS.specification$WwUP, newExpr);
    ListSequence.fromList(SLinkOperations.getChildren(newSpecification, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(oldSpecification, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    return newSpecification;
  }

  public SNode createNewUnitExprsWithQuantityExprs(SNode unitExpr) {
    {
      final SNode unitReference = unitExpr;
      if (SNodeOperations.isInstanceOf(unitReference, CONCEPTS.UnitReference$Zo)) {
        return createQuantityReference_gk4fhs_a0a0a53(SLinkOperations.getTarget(SNodeOperations.as(SLinkOperations.getTarget(unitReference, LINKS.unit$nTeG), CONCEPTS.Unit$Gq), LINKS.quantity$tnl1));
      }
    }

    {
      final SNode unitMul = unitExpr;
      if (SNodeOperations.isInstanceOf(unitMul, CONCEPTS.UnitMultiplication$sx)) {
        return createQuantityMultiplication_gk4fhs_a0a2a53(createNewUnitExprsWithQuantityExprs(SLinkOperations.getTarget(unitMul, LINKS.left$sr9k)), createNewUnitExprsWithQuantityExprs(SLinkOperations.getTarget(unitMul, LINKS.right$2nEP)));
      }
    }

    {
      final SNode unitDiv = unitExpr;
      if (SNodeOperations.isInstanceOf(unitDiv, CONCEPTS.UnitDivision$$9)) {
        return createQuantityDivision_gk4fhs_a0a4a53(createNewUnitExprsWithQuantityExprs(SLinkOperations.getTarget(unitDiv, LINKS.numerator$qo9G)), createNewUnitExprsWithQuantityExprs(SLinkOperations.getTarget(unitDiv, LINKS.denominator$4xz7)));
      }
    }
    {
      final SNode unitExp = unitExpr;
      if (SNodeOperations.isInstanceOf(unitExp, CONCEPTS.UnitExponent$BW)) {
        return createQuantityExponent_gk4fhs_a0a5a53(createNewUnitExprsWithQuantityExprs(SLinkOperations.getTarget(unitExp, LINKS.base$z8ie)), SLinkOperations.getTarget(unitExp, LINKS.exponent$z83d));
      }
    }
    return null;
  }

  public SNode createNewUnitReference(SNode oldReference) {
    SNode oldUnit = SNodeOperations.as(SLinkOperations.getTarget(oldReference, LINKS.unit$3rM9), CONCEPTS.Unit$fR);
    Tuples._2<SNode, Boolean> unitInfo = createOrReturnUnitReference(oldUnit);
    SNode newUnitReference = unitInfo._0();
    boolean newlyCreated = (boolean) unitInfo._1();
    if (newlyCreated && !(exclusionFilter.invoke(SLinkOperations.getTarget(oldReference, LINKS.unit$3rM9)))) {
      SNodeOperations.insertNextSiblingChild(oldUnit, SLinkOperations.getTarget(newUnitReference, LINKS.unit$nTeG));
    }

    SNode foundReferenceMapping = MapSequence.fromMap(unitToReferenceMap).get(SNodeOperations.getPointer(oldUnit));
    SNode newReference;
    if ((foundReferenceMapping != null)) {
      newReference = SNodeOperations.copyNode(foundReferenceMapping);
    } else {
      newReference = SNodeOperations.copyNode(newUnitReference);
    }
    ListSequence.fromList(SLinkOperations.getChildren(newReference, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(oldReference, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));

    if ((SLinkOperations.getTarget(oldReference, LINKS.exponent$3sgb) != null)) {
      SNode newExponent;
      if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(oldReference, LINKS.exponent$3sgb), CONCEPTS.FractionalExponent$hx)) {
        newExponent = createFractionalExponent_gk4fhs_a0a0b0l0lb(SLinkOperations.getTarget(SNodeOperations.as(SLinkOperations.getTarget(oldReference, LINKS.exponent$3sgb), CONCEPTS.FractionalExponent$hx), LINKS.fraction$uM6j));
      } else {
        newExponent = createIntegerExponent_gk4fhs_a0a0a1a11a73(SPropertyOperations.getInteger(SNodeOperations.as(SLinkOperations.getTarget(oldReference, LINKS.exponent$3sgb), CONCEPTS.IntegerExponent$Hv), PROPS.value$vsHL));
      }
      return createUnitExponent_gk4fhs_a2a11a73(newExponent, newReference);
    }
    return newReference;
  }

  public SNode createNewQuantityReference(SNode oldReference) {
    SNode oldQuantity = SLinkOperations.getTarget(oldReference, LINKS.quantity$OZD);
    Tuples._2<SNode, Boolean> quantityInfo = createOrReturnQuantity(oldQuantity);
    SNode newQuantity = quantityInfo._0();
    boolean newlyCreated = (boolean) quantityInfo._1();
    if (newlyCreated && newQuantity != null) {
      SNodeOperations.insertNextSiblingChild(oldQuantity, newQuantity);
    }

    SNode newReference = createQuantityReference_gk4fhs_a0g0nb(newQuantity);
    ListSequence.fromList(SLinkOperations.getChildren(newReference, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(oldReference, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));

    if ((SLinkOperations.getTarget(oldReference, LINKS.exponent$7lrf) != null)) {
      SNode newExponent;
      if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(oldReference, LINKS.exponent$7lrf), CONCEPTS.FractionalExponent$hx)) {
        newExponent = createFractionalExponent_gk4fhs_a0a0b0j0nb(SLinkOperations.getTarget(SNodeOperations.as(SLinkOperations.getTarget(oldReference, LINKS.exponent$7lrf), CONCEPTS.FractionalExponent$hx), LINKS.fraction$uM6j));
      } else {
        newExponent = createIntegerExponent_gk4fhs_a0a0a1a9a93(SPropertyOperations.getInteger(SNodeOperations.as(SLinkOperations.getTarget(oldReference, LINKS.exponent$7lrf), CONCEPTS.IntegerExponent$Hv), PROPS.value$vsHL));
      }
      return createQuantityExponent_gk4fhs_a2a9a93(newExponent, newReference);
    }
    return newReference;
  }

  public SNode createNewConvertExpression(SNode oldExpression) {
    SNode newExpression = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x3930d8ab4c0e6285L, "org.iets3.core.expr.typetags.physunits.structure.ConvertExpression"));
    if ((SLinkOperations.getTarget(oldExpression, LINKS.conversionSpecifier$WY3n) != null)) {
      SLinkOperations.setTarget(newExpression, LINKS.conversionSpecifier$hrvU, createConversionSpecifier_gk4fhs_a0a0b0pb(SLinkOperations.getTarget(SLinkOperations.getTarget(oldExpression, LINKS.conversionSpecifier$WY3n), LINKS.expression$jxzQ), SLinkOperations.getTarget(SLinkOperations.getTarget(oldExpression, LINKS.conversionSpecifier$WY3n), LINKS.type$4V9E)));
    }
    SLinkOperations.setTarget(newExpression, LINKS.targetUnit$c07m, SNodeOperations.copyNode(MapSequence.fromMap(unitMap).get(SLinkOperations.getPointer(oldExpression, LINKS.targetUnit$P8E9))));
    SLinkOperations.setTarget(newExpression, LINKS.expr$CW3E, SLinkOperations.getTarget(oldExpression, LINKS.expr$CW3E));
    return newExpression;
  }

  public SNode createNewConvertToTarget(SNode oldTarget) {
    SNode newTarget = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x7e22431b94d6fd64L, "org.iets3.core.expr.typetags.physunits.structure.ConvertToTarget"));
    if ((SLinkOperations.getTarget(oldTarget, LINKS.conversionSpecifier$czsI) != null)) {
      SLinkOperations.setTarget(newTarget, LINKS.conversionSpecifier$x0Th, createConversionSpecifier_gk4fhs_a0a0b0rb(SLinkOperations.getTarget(SLinkOperations.getTarget(oldTarget, LINKS.conversionSpecifier$czsI), LINKS.expression$jxzQ), SLinkOperations.getTarget(SLinkOperations.getTarget(oldTarget, LINKS.conversionSpecifier$czsI), LINKS.type$4V9E)));
    }

    SLinkOperations.setTarget(newTarget, LINKS.targetUnit$_yUk, SNodeOperations.copyNode(MapSequence.fromMap(unitMap).get(SLinkOperations.getPointer(oldTarget, LINKS.targetUnit$czdH))));
    return newTarget;
  }

  public Tuples._2<SNode, Boolean> createNewConversionRule(SNode oldConversionRule) {
    if (MapSequence.fromMap(conversionRuleMap).containsKey(oldConversionRule)) {
      return MultiTuple.<SNode,Boolean>from(MapSequence.fromMap(conversionRuleMap).get(oldConversionRule), false);
    }

    SNode newRule = createConversionRule_gk4fhs_a0c0tb(SNodeOperations.copyNode(MapSequence.fromMap(unitMap).get(SLinkOperations.getPointer(oldConversionRule, LINKS.sourceUnit$686l))), SNodeOperations.copyNode(MapSequence.fromMap(unitMap).get(SLinkOperations.getPointer(oldConversionRule, LINKS.targetUnit$68lm))), SPropertyOperations.getBoolean(oldConversionRule, PROPS.isEager$69Yt), ListSequence.fromList(SLinkOperations.getChildren(oldConversionRule, LINKS.specifiers$YCDn)).select((it) -> {
      SNode conversionSpecifier = createConversionSpecifier_gk4fhs_a0a0a0a0d0a0c0tb(SLinkOperations.getTarget(it, LINKS.expression$jxzQ), SLinkOperations.getTarget(it, LINKS.type$4V9E));
      ListSequence.fromList(SLinkOperations.getChildren(conversionSpecifier, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(it, LINKS.smodelAttribute$KJ43)).select(new _FunctionTypes._return_P1_E0<SNode, SNode>() {
        public SNode invoke(SNode it) {
          return SNodeOperations.copyNode(it);
        }
      }));
      return conversionSpecifier;
    }));
    ListSequence.fromList(SLinkOperations.getChildren(newRule, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(oldConversionRule, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    MapSequence.fromMap(conversionRuleMap).put(oldConversionRule, newRule);
    return MultiTuple.<SNode,Boolean>from(newRule, true);
  }

  public SNode replaceQuantity(SNode quantity) {
    if (exclusionFilter.invoke(quantity)) {
      return null;
    }

    addMissingImport(quantity);

    Tuples._2<SNode, Boolean> quantityInfo = createOrReturnQuantity(quantity);
    SNode newQuantity = quantityInfo._0();
    boolean newlyCreated = (boolean) quantityInfo._1();
    if (newlyCreated && newQuantity != null) {
      ListSequence.fromList(SLinkOperations.getChildren(newQuantity, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(quantity, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
      SNodeOperations.insertNextSiblingChild(quantity, newQuantity);
    }
    return newQuantity;
  }

  public SNode replaceQuantityReference(SNode oldReference) {
    if (exclusionFilter.invoke(oldReference)) {
      return null;
    }

    addMissingImport(oldReference);

    SNode newReference = createQuantityReference_gk4fhs_a0e0xb(replaceQuantity(SLinkOperations.getTarget(oldReference, LINKS.quantity$OZD)));
    ListSequence.fromList(SLinkOperations.getChildren(newReference, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(oldReference, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    return SNodeOperations.replaceWithAnother(oldReference, newReference);
  }

  public SNode replaceUnit(SNode unit) {
    if (exclusionFilter.invoke(unit)) {
      return null;
    }

    addMissingImport(unit);

    Tuples._2<SNode, Boolean> unitInfo = createOrReturnUnitReference(unit);
    SNode newUnitReference = unitInfo._0();
    SNode newUnit = SNodeOperations.as(SLinkOperations.getTarget(newUnitReference, LINKS.unit$nTeG), CONCEPTS.Unit$Gq);
    boolean newlyCreated = (boolean) unitInfo._1();

    if (newlyCreated && newUnit != null) {
      if (isNotEmptyString(SPropertyOperations.getString(unit, PROPS.description$i9U8)) && newlyCreated) {
        SNode newDimension = createQuantity_gk4fhs_a0a0a0j0zb(SPropertyOperations.getString(unit, PROPS.description$i9U8));
        SNodeOperations.insertPrevSiblingChild(unit, newDimension);
        SLinkOperations.setTarget(newUnit, LINKS.quantity$tnl1, newDimension);
      } else {
        Tuples._2<SNode, Boolean> quantityInfo = createOrReturnQuantity(SLinkOperations.getTarget(unit, LINKS.dimension$8TSu));
        SLinkOperations.setTarget(newUnit, LINKS.quantity$tnl1, quantityInfo._0());
      }
      if ((SLinkOperations.getTarget(unit, LINKS.dimension$8TSu) == null)) {
        SLinkOperations.setTarget(newUnit, LINKS.quantity$tnl1, SLinkOperations.getTarget(StandardUnitHelper.getUnitLessUnit(repository), LINKS.quantity$tnl1));
      }
      ListSequence.fromList(SLinkOperations.getChildren(newUnit, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(unit, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
      SNodeOperations.insertNextSiblingChild(unit, newUnit);
    }
    return newUnit;
  }

  public SNode replaceUnitSpecification(SNode oldSpecification) {
    if (exclusionFilter.invoke(oldSpecification)) {
      return null;
    }


    addMissingImport(oldSpecification);

    SNode newUnitSpecification = createNewUnitSpecification(oldSpecification);
    return SNodeOperations.replaceWithAnother(oldSpecification, newUnitSpecification);
  }

  public SNode replaceQuantitySpecification(SNode oldSpecification) {
    if (exclusionFilter.invoke(oldSpecification)) {
      return null;
    }

    addMissingImport(oldSpecification);

    SNode newQuantitySpecification = createNewQuantitySpecification(oldSpecification);
    return SNodeOperations.replaceWithAnother(oldSpecification, newQuantitySpecification);
  }

  public SNode replaceUnitReferences(SNode unitReference) {
    if (exclusionFilter.invoke(unitReference)) {
      return null;
    }

    addMissingImport(unitReference);

    SNode newReference = createNewUnitReference(unitReference);
    ListSequence.fromList(SLinkOperations.getChildren(newReference, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(unitReference, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    return SNodeOperations.replaceWithAnother(unitReference, newReference);
  }

  public SNode replaceConversionRule(SNode conversionRule) {
    if (exclusionFilter.invoke(conversionRule)) {
      return null;
    }


    addMissingImport(conversionRule);

    Tuples._2<SNode, Boolean> conversionRuleInfo = createNewConversionRule(conversionRule);
    SNode newConversionRule = conversionRuleInfo._0();
    boolean newlyCreated = (boolean) conversionRuleInfo._1();
    if (newlyCreated && newConversionRule != null) {
      SNodeOperations.insertNextSiblingChild(conversionRule, newConversionRule);
    }
    return newConversionRule;
  }

  public SNode replaceValExpression(SNode valExpression) {
    if (exclusionFilter.invoke(valExpression)) {
      return null;
    }

    addMissingImport(valExpression);

    SNode newExpression = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x47f53137d1e3b2aeL, "org.iets3.core.expr.typetags.physunits.structure.ValExpression"));
    ListSequence.fromList(SLinkOperations.getChildren(newExpression, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(valExpression, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    return SNodeOperations.replaceWithNewChild(valExpression, CONCEPTS.ValExpression$hl);
  }

  public SNode replaceConvertExpression(SNode convertExpression) {
    if (exclusionFilter.invoke(convertExpression)) {
      return null;
    }

    addMissingImport(convertExpression);

    SNode newExpression = createNewConvertExpression(convertExpression);
    ListSequence.fromList(SLinkOperations.getChildren(newExpression, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(convertExpression, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    return SNodeOperations.replaceWithAnother(convertExpression, newExpression);
  }

  public SNode replaceConvertToTarget(SNode convertToTarget) {
    if (exclusionFilter.invoke(convertToTarget)) {
      return null;
    }

    addMissingImport(convertToTarget);

    SNode newTarget = createNewConvertToTarget(convertToTarget);
    ListSequence.fromList(SLinkOperations.getChildren(newTarget, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(convertToTarget, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    return SNodeOperations.replaceWithAnother(convertToTarget, newTarget);
  }

  public SNode replaceStripUnitExpression(SNode oldExpression) {
    if (exclusionFilter.invoke(oldExpression)) {
      return null;
    }

    addMissingImport(oldExpression);

    SNode newExpression = createStripUnitExpression_gk4fhs_a0e0pc(SLinkOperations.getTarget(oldExpression, LINKS.expr$CW3E));
    ListSequence.fromList(SLinkOperations.getChildren(newExpression, LINKS.smodelAttribute$KJ43)).addSequence(ListSequence.fromList(SLinkOperations.getChildren(oldExpression, LINKS.smodelAttribute$KJ43)).select((it) -> SNodeOperations.copyNode(it)));
    return SNodeOperations.replaceWithAnother(oldExpression, newExpression);
  }

  public void replaceUnitNodeBuilderRef(SNode ref) {
    if (exclusionFilter.invoke(ref)) {
      return;
    }

    addMissingImport(ref);

    SLinkOperations.setTarget(ref, LINKS.target$GZsq, SLinkOperations.getTarget(MapSequence.fromMap(unitMap).get(SNodeOperations.getPointer(SNodeOperations.as(SLinkOperations.getTarget(ref, LINKS.target$GZsq), CONCEPTS.Unit$fR))), LINKS.unit$nTeG));
  }

  public void replaceNodeBuilder(SNode node) {
    if (exclusionFilter.invoke(node)) {
      return;
    }

    addMissingImport(node);

    SLinkOperations.setTarget(node, LINKS.concept$xoA0, getNewConcept(SLinkOperations.getTarget(node, LINKS.concept$xoA0)));
  }


  public void replaceAllMappings() {
    MapSequence.fromMap(quantityPointerMap).visitAll((it) -> {
      SNode quantity = SPointerOperations.resolveNode(it.key(), repository);
      if (!(SIUnitHelper.isSiQuantity(quantity, repository)) && !(exclusionFilter.invoke(quantity))) {
        SNodeOperations.deleteNode(quantity);
      }
    });
    MapSequence.fromMap(unitMap).visitAll((it) -> {
      SNode unitKey = SPointerOperations.resolveNode(it.key(), repository);
      if (!(SIUnitHelper.isSiUnit(unitKey, true, repository)) && !(exclusionFilter.invoke(unitKey))) {
        SNodeOperations.deleteNode(unitKey);
      }
    });
    MapSequence.fromMap(conversionRuleMap).visitAll((it) -> {
      SNode conversionRuleKey = it.key();
      if (!(SIUnitHelper.isSiConversionRule(conversionRuleKey, repository)) && !(exclusionFilter.invoke(conversionRuleKey))) {
        SNodeOperations.deleteNode(conversionRuleKey);
      }
    });
  }

  public SNode getNewConcept(SNode conceptDeclaration) {
    SAbstractConcept newConcept = MapSequence.fromMap(conceptMap).get(MetaAdapterByDeclaration.getConcept(conceptDeclaration));
    return (SNode) newConcept.getSourceNode().resolve(SNodeOperations.getModel(conceptDeclaration).getRepository());
  }

  public void addMissingImport(SNode node) {
    if (SNodeOperations.getModel(node).getRepository() == null) {
      return;
    }
    ModelImports imports = new ModelImports(SNodeOperations.getModel(node));

    if (!(imports.getUsedLanguages().contains(MetaAdapterFactory.getLanguage(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, "org.iets3.core.expr.typetags.physunits")))) {
      ModelHelper.addLanguage(SNodeOperations.getModel(node), MetaAdapterFactory.getLanguage(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, "org.iets3.core.expr.typetags.physunits"));
    }

    addMissingDependency(node);
  }

  public void addMissingDependency(SNode node) {
    ModelImports imports = new ModelImports(SNodeOperations.getModel(node));
    if (!(imports.getImportedModels().contains(PersistenceFacade.getInstance().createModelReference("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)")))) {
      imports.addModelImport(PersistenceFacade.getInstance().createModelReference("r:4134cae9-4017-4808-bf1c-768cb21cb9ea(org.iets3.core.expr.typetags.phyunits.si.units)"));
      new MissingDependenciesFixer(SNodeOperations.getModel(node)).fixModuleDependencies();
    }
  }

  public void addMissingDepencyToStructureModel(SNode node) {
    ModelImports imports = new ModelImports(SNodeOperations.getModel(node));
    if (!(imports.getImportedModels().contains(PersistenceFacade.getInstance().createModelReference("r:4f64e2f0-6a4e-4db3-b3bf-7977f44949b6(org.iets3.core.expr.typetags.physunits.structure)")))) {
      imports.addModelImport(PersistenceFacade.getInstance().createModelReference("r:4f64e2f0-6a4e-4db3-b3bf-7977f44949b6(org.iets3.core.expr.typetags.physunits.structure)"));
      new MissingDependenciesFixer(SNodeOperations.getModel(node)).fixModuleDependencies();
    }
  }

  public boolean isOldModel(SModelReference modelReference) {
    return MapSequence.fromMap(modelMap).containsKey(modelReference);
  }

  public SModelReference getNewModel(SModelReference oldReference) {
    return MapSequence.fromMap(modelMap).get(oldReference);
  }
  private static String check_gk4fhs_a0a0a0a11a0a32(IMapping<String, DecimalMetricUnitPrefix> checkedDotOperand) {
    if (null != checkedDotOperand) {
      return checkedDotOperand.key();
    }
    return null;
  }
  private static SNode createUnitReference_gk4fhs_a0h0a0a11a0a32(SNode p0, String p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.UnitReference$Zo);
    n0.setReferenceTarget(LINKS.unit$nTeG, p0);
    n0.setProperty(PROPS.prefix$AtV, p1);
    return n0.getResult();
  }
  private static SNode createUnitReference_gk4fhs_a0o0a0x(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.UnitReference$Zo);
    n0.setReferenceTarget(LINKS.unit$nTeG, p0);
    return n0.getResult();
  }
  private static SNode createUnitReference_gk4fhs_a0r0a0x(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.UnitReference$Zo);
    n0.setReferenceTarget(LINKS.unit$nTeG, p0);
    return n0.getResult();
  }
  private static SNode createUnitReference_gk4fhs_a0u0a0x(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.UnitReference$Zo);
    n0.setReferenceTarget(LINKS.unit$nTeG, p0);
    return n0.getResult();
  }
  private static SNode createUnitReference_gk4fhs_a0x0a0x(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.UnitReference$Zo);
    n0.setReferenceTarget(LINKS.unit$nTeG, p0);
    return n0.getResult();
  }
  private static SNode createQuantity_gk4fhs_a0c0bb(String p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.Quantity$W4);
    n0.setProperty(PROPS.name$MnvL, p0);
    return n0.getResult();
  }
  private static SNode createUnit_gk4fhs_a0d0db(String p0, SNode p1, SNode p2) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.Unit$Gq);
    n0.setProperty(PROPS.name$MnvL, p0);
    n0.setReferenceTarget(LINKS.quantity$tnl1, p1);
    n0.forChild(LINKS.specification$Tp$k).initNode(p2, CONCEPTS.UnitSpecification$6j, true);
    return n0.getResult();
  }
  private static SNode createUnitReference_gk4fhs_a0h0db(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.UnitReference$Zo);
    n0.setReferenceTarget(LINKS.unit$nTeG, p0);
    return n0.getResult();
  }
  private static SNode createUnitMultiplication_gk4fhs_a0a0a1a4a13(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.UnitMultiplication$sx);
    n0.forChild(LINKS.left$sr9k).initNode(p0, CONCEPTS.UnitExpression$Xv, true);
    n0.forChild(LINKS.right$2nEP).initNode(p1, CONCEPTS.UnitExpression$Xv, true);
    return n0.getResult();
  }
  private static SNode createQuantityMultiplication_gk4fhs_a0a0a1a5a33(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.QuantityMultiplication$Ff);
    n0.forChild(LINKS.left$z0Di).initNode(p0, CONCEPTS.QuantityExpression$D7, true);
    n0.forChild(LINKS.right$YInn).initNode(p1, CONCEPTS.QuantityExpression$D7, true);
    return n0.getResult();
  }
  private static SNode createQuantityReference_gk4fhs_a0a0a53(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.QuantityReference$ba);
    n0.setReferenceTarget(LINKS.quantity$A_Kl, p0);
    return n0.getResult();
  }
  private static SNode createQuantityMultiplication_gk4fhs_a0a2a53(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.QuantityMultiplication$Ff);
    n0.forChild(LINKS.left$z0Di).initNode(p0, CONCEPTS.QuantityExpression$D7, true);
    n0.forChild(LINKS.right$YInn).initNode(p1, CONCEPTS.QuantityExpression$D7, true);
    return n0.getResult();
  }
  private static SNode createQuantityDivision_gk4fhs_a0a4a53(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.QuantityDivision$7h);
    n0.forChild(LINKS.numerator$clxk).initNode(p0, CONCEPTS.QuantityExpression$D7, true);
    n0.forChild(LINKS.denominator$F8jm).initNode(p1, CONCEPTS.QuantityExpression$D7, true);
    return n0.getResult();
  }
  private static SNode createQuantityExponent_gk4fhs_a0a5a53(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.QuantityExponent$yd);
    n0.forChild(LINKS.base$4f1J).initNode(p0, CONCEPTS.QuantityExpression$D7, true);
    n0.forChild(LINKS.exponent$xhDu).initNode(p1, CONCEPTS.Exponent$bg, true);
    return n0.getResult();
  }
  private static SNode createFractionalExponent_gk4fhs_a0a0b0l0lb(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.FractionalExponent$I4);
    n0.forChild(LINKS.fraction$NfyQ).initNode(p0, CONCEPTS.FractionExpression$NO, true);
    return n0.getResult();
  }
  private static SNode createIntegerExponent_gk4fhs_a0a0a1a11a73(int p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.IntegerExponent$a2);
    n0.setProperty(PROPS.value$NUak, "" + (p0));
    return n0.getResult();
  }
  private static SNode createUnitExponent_gk4fhs_a2a11a73(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.UnitExponent$BW);
    n0.forChild(LINKS.exponent$z83d).initNode(p0, CONCEPTS.Exponent$bg, true);
    n0.forChild(LINKS.base$z8ie).initNode(p1, CONCEPTS.UnitExpression$Xv, true);
    return n0.getResult();
  }
  private static SNode createQuantityReference_gk4fhs_a0g0nb(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.QuantityReference$ba);
    n0.setReferenceTarget(LINKS.quantity$A_Kl, p0);
    return n0.getResult();
  }
  private static SNode createFractionalExponent_gk4fhs_a0a0b0j0nb(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.FractionalExponent$I4);
    n0.forChild(LINKS.fraction$NfyQ).initNode(p0, CONCEPTS.FractionExpression$NO, true);
    return n0.getResult();
  }
  private static SNode createIntegerExponent_gk4fhs_a0a0a1a9a93(int p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.IntegerExponent$a2);
    n0.setProperty(PROPS.value$NUak, "" + (p0));
    return n0.getResult();
  }
  private static SNode createQuantityExponent_gk4fhs_a2a9a93(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.QuantityExponent$yd);
    n0.forChild(LINKS.exponent$xhDu).initNode(p0, CONCEPTS.Exponent$bg, true);
    n0.forChild(LINKS.base$4f1J).initNode(p1, CONCEPTS.QuantityExpression$D7, true);
    return n0.getResult();
  }
  private static SNode createConversionSpecifier_gk4fhs_a0a0b0pb(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ConversionSpecifier$X$);
    n0.forChild(LINKS.expression$BZ0p).initNode(p0, CONCEPTS.Expression$D_, true);
    n0.forChild(LINKS.type$poAd).initNode(p1, CONCEPTS.Type$WK, true);
    return n0.getResult();
  }
  private static SNode createConversionSpecifier_gk4fhs_a0a0b0rb(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ConversionSpecifier$X$);
    n0.forChild(LINKS.expression$BZ0p).initNode(p0, CONCEPTS.Expression$D_, true);
    n0.forChild(LINKS.type$poAd).initNode(p1, CONCEPTS.Type$WK, true);
    return n0.getResult();
  }
  private static SNode createConversionRule_gk4fhs_a0c0tb(SNode p0, SNode p1, boolean p2, Iterable<? extends SNode> p3) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ConversionRule$iv);
    n0.forChild(LINKS.sourceUnit$zzDG).initNode(p0, CONCEPTS.UnitReference$Zo, true);
    n0.forChild(LINKS.targetUnit$cNlh).initNode(p1, CONCEPTS.UnitReference$Zo, true);
    n0.setProperty(PROPS.isEager$qBr0, "" + (p2));
    n0.forChild(LINKS.specifiers$j65U).initNodeList(p3, CONCEPTS.ConversionSpecifier$X$);
    return n0.getResult();
  }
  private static SNode createConversionSpecifier_gk4fhs_a0a0a0a0d0a0c0tb(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ConversionSpecifier$X$);
    n0.forChild(LINKS.expression$BZ0p).initNode(p0, CONCEPTS.Expression$D_, true);
    n0.forChild(LINKS.type$poAd).initNode(p1, CONCEPTS.Type$WK, true);
    return n0.getResult();
  }
  private static SNode createQuantityReference_gk4fhs_a0e0xb(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.QuantityReference$ba);
    n0.setReferenceTarget(LINKS.quantity$A_Kl, p0);
    return n0.getResult();
  }
  private static SNode createQuantity_gk4fhs_a0a0a0j0zb(String p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.Quantity$W4);
    n0.setProperty(PROPS.name$MnvL, p0);
    return n0.getResult();
  }
  private static SNode createStripUnitExpression_gk4fhs_a0e0pc(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StripUnitExpression$Ji);
    n0.forChild(LINKS.expr$CW3E).initNode(p0, CONCEPTS.Expression$D_, true);
    return n0.getResult();
  }
  private static boolean isNotEmptyString(String str) {
    return str != null && str.length() > 0;
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept Quantity$vx = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x1c3a590e2b660f17L, "org.iets3.core.expr.typetags.units.structure.Quantity");
    /*package*/ static final SConcept Quantity$W4 = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x1c3a590e2b660f17L, "org.iets3.core.expr.typetags.physunits.structure.Quantity");
    /*package*/ static final SConcept Unit$fR = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d373fL, "org.iets3.core.expr.typetags.units.structure.Unit");
    /*package*/ static final SConcept Unit$Gq = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d373fL, "org.iets3.core.expr.typetags.physunits.structure.Unit");
    /*package*/ static final SInterfaceConcept IUnit$X = MetaAdapterFactory.getInterfaceConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d40ceL, "org.iets3.core.expr.typetags.units.structure.IUnit");
    /*package*/ static final SInterfaceConcept IUnit$tw = MetaAdapterFactory.getInterfaceConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d40ceL, "org.iets3.core.expr.typetags.physunits.structure.IUnit");
    /*package*/ static final SInterfaceConcept ISpecification$mq = MetaAdapterFactory.getInterfaceConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x1c3a590e2b946d9fL, "org.iets3.core.expr.typetags.units.structure.ISpecification");
    /*package*/ static final SInterfaceConcept ISpecification$MX = MetaAdapterFactory.getInterfaceConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x1c3a590e2b946d9fL, "org.iets3.core.expr.typetags.physunits.structure.ISpecification");
    /*package*/ static final SInterfaceConcept ICanUseNoUnit$8T = MetaAdapterFactory.getInterfaceConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x65a3fdcab13f1e17L, "org.iets3.core.expr.typetags.units.structure.ICanUseNoUnit");
    /*package*/ static final SInterfaceConcept ICanUseUnitlessUnit$_s = MetaAdapterFactory.getInterfaceConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x65a3fdcab13f1e17L, "org.iets3.core.expr.typetags.physunits.structure.ICanUseUnitlessUnit");
    /*package*/ static final SInterfaceConcept IUnitDeclarationsProvider$yd = MetaAdapterFactory.getInterfaceConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x3ed9ca050c4fd0f3L, "org.iets3.core.expr.typetags.units.structure.IUnitDeclarationsProvider");
    /*package*/ static final SInterfaceConcept IUnitDeclarationsProvider$YK = MetaAdapterFactory.getInterfaceConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x3ed9ca050c4fd0f3L, "org.iets3.core.expr.typetags.physunits.structure.IUnitDeclarationsProvider");
    /*package*/ static final SConcept UnitReference$yP = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d4dc5L, "org.iets3.core.expr.typetags.units.structure.UnitReference");
    /*package*/ static final SConcept UnitReference$Zo = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d4dc5L, "org.iets3.core.expr.typetags.physunits.structure.UnitReference");
    /*package*/ static final SConcept UnitSpecification$DK = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d411dL, "org.iets3.core.expr.typetags.units.structure.UnitSpecification");
    /*package*/ static final SConcept UnitSpecification$6j = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d411dL, "org.iets3.core.expr.typetags.physunits.structure.UnitSpecification");
    /*package*/ static final SConcept ConversionRule$PW = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0xed6abcb370b28cbL, "org.iets3.core.expr.typetags.units.structure.ConversionRule");
    /*package*/ static final SConcept ConversionRule$iv = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0xed6abcb370b28cbL, "org.iets3.core.expr.typetags.physunits.structure.ConversionRule");
    /*package*/ static final SConcept ConversionSpecifier$x1 = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x182c7aae9fea4574L, "org.iets3.core.expr.typetags.units.structure.ConversionSpecifier");
    /*package*/ static final SConcept ConversionSpecifier$X$ = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x182c7aae9fea4574L, "org.iets3.core.expr.typetags.physunits.structure.ConversionSpecifier");
    /*package*/ static final SConcept ConvertExpression$wD = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x3930d8ab4c0e6285L, "org.iets3.core.expr.typetags.units.structure.ConvertExpression");
    /*package*/ static final SConcept ConvertExpression$Xc = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x3930d8ab4c0e6285L, "org.iets3.core.expr.typetags.physunits.structure.ConvertExpression");
    /*package*/ static final SConcept ConvertToTarget$l$ = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x7e22431b94d6fd64L, "org.iets3.core.expr.typetags.units.structure.ConvertToTarget");
    /*package*/ static final SConcept ConvertToTarget$M7 = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x7e22431b94d6fd64L, "org.iets3.core.expr.typetags.physunits.structure.ConvertToTarget");
    /*package*/ static final SInterfaceConcept IConvertUnit$FL = MetaAdapterFactory.getInterfaceConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x7e22431b94d76bbaL, "org.iets3.core.expr.typetags.units.structure.IConvertUnit");
    /*package*/ static final SInterfaceConcept IConvertUnit$8k = MetaAdapterFactory.getInterfaceConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x7e22431b94d76bbaL, "org.iets3.core.expr.typetags.physunits.structure.IConvertUnit");
    /*package*/ static final SConcept StripUnitExpression$iJ = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x8ac4b7baae857ebL, "org.iets3.core.expr.typetags.units.structure.StripUnitExpression");
    /*package*/ static final SConcept StripUnitExpression$Ji = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x8ac4b7baae857ebL, "org.iets3.core.expr.typetags.physunits.structure.StripUnitExpression");
    /*package*/ static final SConcept ValExpression$OM = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x47f53137d1e3b2aeL, "org.iets3.core.expr.typetags.units.structure.ValExpression");
    /*package*/ static final SConcept ValExpression$hl = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x47f53137d1e3b2aeL, "org.iets3.core.expr.typetags.physunits.structure.ValExpression");
    /*package*/ static final SConcept Exponent$IH = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x34c38940d07a6995L, "org.iets3.core.expr.typetags.units.structure.Exponent");
    /*package*/ static final SConcept Exponent$bg = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x34c38940d07a6995L, "org.iets3.core.expr.typetags.physunits.structure.Exponent");
    /*package*/ static final SConcept FractionalExponent$hx = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x34c38940d09904b9L, "org.iets3.core.expr.typetags.units.structure.FractionalExponent");
    /*package*/ static final SConcept FractionalExponent$I4 = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x34c38940d09904b9L, "org.iets3.core.expr.typetags.physunits.structure.FractionalExponent");
    /*package*/ static final SConcept IntegerExponent$Hv = MetaAdapterFactory.getConcept(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d4dc6L, "org.iets3.core.expr.typetags.units.structure.IntegerExponent");
    /*package*/ static final SConcept IntegerExponent$a2 = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d4dc6L, "org.iets3.core.expr.typetags.physunits.structure.IntegerExponent");
    /*package*/ static final SConcept UnitMultiplication$sx = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x74818abc5471020dL, "org.iets3.core.expr.typetags.physunits.structure.UnitMultiplication");
    /*package*/ static final SConcept UnitDivision$$9 = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ceac12f5L, "org.iets3.core.expr.typetags.physunits.structure.UnitDivision");
    /*package*/ static final SConcept UnitExponent$BW = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x74818abc54714f3eL, "org.iets3.core.expr.typetags.physunits.structure.UnitExponent");
    /*package*/ static final SConcept UnitExpression$Xv = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ceabeb6cL, "org.iets3.core.expr.typetags.physunits.structure.UnitExpression");
    /*package*/ static final SConcept QuantityMultiplication$Ff = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7cea3ee22L, "org.iets3.core.expr.typetags.physunits.structure.QuantityMultiplication");
    /*package*/ static final SConcept QuantityExpression$D7 = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce978ef0L, "org.iets3.core.expr.typetags.physunits.structure.QuantityExpression");
    /*package*/ static final SConcept QuantityReference$ba = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce8b6fa3L, "org.iets3.core.expr.typetags.physunits.structure.QuantityReference");
    /*package*/ static final SConcept QuantityDivision$7h = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce97ab00L, "org.iets3.core.expr.typetags.physunits.structure.QuantityDivision");
    /*package*/ static final SConcept QuantityExponent$yd = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce979cf7L, "org.iets3.core.expr.typetags.physunits.structure.QuantityExponent");
    /*package*/ static final SConcept FractionExpression$NO = MetaAdapterFactory.getConcept(0x6fadc44e69c24a4aL, 0x9d167ebf5f8d3ba0L, 0x449e19d04e9bcd46L, "org.iets3.core.expr.math.structure.FractionExpression");
    /*package*/ static final SConcept Expression$D_ = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x670d5e92f854a047L, "org.iets3.core.expr.base.structure.Expression");
    /*package*/ static final SConcept Type$WK = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x670d5e92f854a614L, "org.iets3.core.expr.base.structure.Type");
  }

  private static final class PROPS {
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
    /*package*/ static final SProperty derived$qIf$ = MetaAdapterFactory.getProperty(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d373fL, 0x79d6409d181f07deL, "derived");
    /*package*/ static final SProperty derived$jMUI = MetaAdapterFactory.getProperty(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x1c3a590e2b660f17L, 0x79d6409d180fb6c1L, "derived");
    /*package*/ static final SProperty value$vsHL = MetaAdapterFactory.getProperty(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d4dc6L, 0x73b48a125b0d4dc7L, "value");
    /*package*/ static final SProperty isEager$69Yt = MetaAdapterFactory.getProperty(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0xed6abcb370b28cbL, 0x182c7aae9ff63560L, "isEager");
    /*package*/ static final SProperty description$i9U8 = MetaAdapterFactory.getProperty(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d373fL, 0x73b48a125b0d3d88L, "description");
    /*package*/ static final SProperty prefix$AtV = MetaAdapterFactory.getProperty(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d4dc5L, 0x79d6409d1866689aL, "prefix");
    /*package*/ static final SProperty value$NUak = MetaAdapterFactory.getProperty(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d4dc6L, 0x73b48a125b0d4dc7L, "value");
    /*package*/ static final SProperty isEager$qBr0 = MetaAdapterFactory.getProperty(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0xed6abcb370b28cbL, 0x182c7aae9ff63560L, "isEager");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink smodelAttribute$KJ43 = MetaAdapterFactory.getContainmentLink(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x10802efe25aL, 0x47bf8397520e5942L, "smodelAttribute");
    /*package*/ static final SReferenceLink dimension$8TSu = MetaAdapterFactory.getReferenceLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d373fL, 0x1c3a590e2b660f1aL, "dimension");
    /*package*/ static final SReferenceLink quantity$tnl1 = MetaAdapterFactory.getReferenceLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d373fL, 0x1c3a590e2b660f1aL, "quantity");
    /*package*/ static final SContainmentLink specification$LqJl = MetaAdapterFactory.getContainmentLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d373fL, 0x73b48a125b0d411bL, "specification");
    /*package*/ static final SContainmentLink specification$Tp$k = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x668417ae62c5c36cL, 0x668417ae62c5ca21L, "specification");
    /*package*/ static final SContainmentLink components$SDyb = MetaAdapterFactory.getContainmentLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d411dL, 0x73b48a125b0dab03L, "components");
    /*package*/ static final SContainmentLink specification$d6YI = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d411dL, 0x73b48a125b0dab03L, "specification");
    /*package*/ static final SContainmentLink components$OfG = MetaAdapterFactory.getContainmentLink(0xbe67900743124db1L, 0x9ac0ab7dfbe66a74L, 0x1c3a590e2b8629faL, 0x707f4e448031d08cL, "components");
    /*package*/ static final SContainmentLink specification$WwUP = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce8b64dcL, 0x729d46b7ce8b6885L, "specification");
    /*package*/ static final SReferenceLink unit$nTeG = MetaAdapterFactory.getReferenceLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d4dc5L, 0x73b48a125b0daafcL, "unit");
    /*package*/ static final SContainmentLink left$sr9k = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x74818abc5471020dL, 0x74818abc54710afeL, "left");
    /*package*/ static final SContainmentLink right$2nEP = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x74818abc5471020dL, 0x74818abc54710e0cL, "right");
    /*package*/ static final SContainmentLink numerator$qo9G = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ceac12f5L, 0x729d46b7ceac161cL, "numerator");
    /*package*/ static final SContainmentLink denominator$4xz7 = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ceac12f5L, 0x729d46b7ceac19c9L, "denominator");
    /*package*/ static final SContainmentLink base$z8ie = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x74818abc54714f3eL, 0x74818abc54715a86L, "base");
    /*package*/ static final SContainmentLink exponent$z83d = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x74818abc54714f3eL, 0x74818abc54715a85L, "exponent");
    /*package*/ static final SReferenceLink unit$3rM9 = MetaAdapterFactory.getReferenceLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d4dc5L, 0x73b48a125b0daafcL, "unit");
    /*package*/ static final SContainmentLink exponent$3sgb = MetaAdapterFactory.getContainmentLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x73b48a125b0d4dc5L, 0x73b48a125b0daafeL, "exponent");
    /*package*/ static final SContainmentLink fraction$uM6j = MetaAdapterFactory.getContainmentLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x34c38940d09904b9L, 0x34c38940d09979deL, "fraction");
    /*package*/ static final SReferenceLink quantity$OZD = MetaAdapterFactory.getReferenceLink(0xbe67900743124db1L, 0x9ac0ab7dfbe66a74L, 0x1c3a590e2b862a0aL, 0x707f4e448031d08eL, "quantity");
    /*package*/ static final SContainmentLink exponent$7lrf = MetaAdapterFactory.getContainmentLink(0xbe67900743124db1L, 0x9ac0ab7dfbe66a74L, 0x1c3a590e2b862a0aL, 0x1c3a590e2b862a0bL, "exponent");
    /*package*/ static final SReferenceLink conversionSpecifier$hrvU = MetaAdapterFactory.getReferenceLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x3930d8ab4c0e6285L, 0x8ac4b7baaeabc73L, "conversionSpecifier");
    /*package*/ static final SReferenceLink conversionSpecifier$WY3n = MetaAdapterFactory.getReferenceLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x3930d8ab4c0e6285L, 0x8ac4b7baaeabc73L, "conversionSpecifier");
    /*package*/ static final SContainmentLink expression$jxzQ = MetaAdapterFactory.getContainmentLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x182c7aae9fea4574L, 0x182c7aae9fee3f05L, "expression");
    /*package*/ static final SContainmentLink type$4V9E = MetaAdapterFactory.getContainmentLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x182c7aae9fea4574L, 0x182c7aaea0320b8dL, "type");
    /*package*/ static final SContainmentLink targetUnit$c07m = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x3930d8ab4c0e6285L, 0x19cd9c98ec2a3ab4L, "targetUnit");
    /*package*/ static final SReferenceLink targetUnit$P8E9 = MetaAdapterFactory.getReferenceLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x3930d8ab4c0e6285L, 0x3930d8ab4c0edbecL, "targetUnit");
    /*package*/ static final SContainmentLink expr$CW3E = MetaAdapterFactory.getContainmentLink(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x3b256bb6ae8048d8L, 0x3b256bb6ae8048d9L, "expr");
    /*package*/ static final SReferenceLink conversionSpecifier$x0Th = MetaAdapterFactory.getReferenceLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x7e22431b94d6fd64L, 0x7e22431b94d76ae9L, "conversionSpecifier");
    /*package*/ static final SReferenceLink conversionSpecifier$czsI = MetaAdapterFactory.getReferenceLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x7e22431b94d6fd64L, 0x7e22431b94d76ae9L, "conversionSpecifier");
    /*package*/ static final SContainmentLink targetUnit$_yUk = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x7e22431b94d6fd64L, 0x33aa6489a920a49cL, "targetUnit");
    /*package*/ static final SReferenceLink targetUnit$czdH = MetaAdapterFactory.getReferenceLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0x7e22431b94d6fd64L, 0x7e22431b94d76ae8L, "targetUnit");
    /*package*/ static final SReferenceLink sourceUnit$686l = MetaAdapterFactory.getReferenceLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0xed6abcb370b28cbL, 0x182c7aae9ff63558L, "sourceUnit");
    /*package*/ static final SReferenceLink targetUnit$68lm = MetaAdapterFactory.getReferenceLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0xed6abcb370b28cbL, 0x182c7aae9ff63559L, "targetUnit");
    /*package*/ static final SContainmentLink specifiers$YCDn = MetaAdapterFactory.getContainmentLink(0xcb91a38e738a4811L, 0xa96d448d08f526faL, 0xed6abcb370b28cbL, 0x182c7aae9ff87b9fL, "specifiers");
    /*package*/ static final SReferenceLink target$GZsq = MetaAdapterFactory.getReferenceLink(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x718e3f4cb7a0fa93L, 0x718e3f4cb7a0fa95L, "target");
    /*package*/ static final SReferenceLink concept$xoA0 = MetaAdapterFactory.getReferenceLink(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20a4aa0L, 0x4bb51009d20b02b1L, "concept");
    /*package*/ static final SContainmentLink left$z0Di = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7cea3ee22L, 0x1be25d17bc5c9d57L, "left");
    /*package*/ static final SContainmentLink right$YInn = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7cea3ee22L, 0x1be25d17bc5ca07fL, "right");
    /*package*/ static final SReferenceLink quantity$A_Kl = MetaAdapterFactory.getReferenceLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce8b6fa3L, 0x729d46b7ce8b760cL, "quantity");
    /*package*/ static final SContainmentLink numerator$clxk = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce97ab00L, 0x1be25d17bc5c9220L, "numerator");
    /*package*/ static final SContainmentLink denominator$F8jm = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce97ab00L, 0x1be25d17bc5c945eL, "denominator");
    /*package*/ static final SContainmentLink base$4f1J = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce979cf7L, 0x1be25d17bc5c98a7L, "base");
    /*package*/ static final SContainmentLink exponent$xhDu = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x729d46b7ce979cf7L, 0x70ccd48a59f31f35L, "exponent");
    /*package*/ static final SContainmentLink fraction$NfyQ = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x34c38940d09904b9L, 0x34c38940d09979deL, "fraction");
    /*package*/ static final SContainmentLink expression$BZ0p = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x182c7aae9fea4574L, 0x182c7aae9fee3f05L, "expression");
    /*package*/ static final SContainmentLink type$poAd = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x182c7aae9fea4574L, 0x182c7aaea0320b8dL, "type");
    /*package*/ static final SContainmentLink sourceUnit$zzDG = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0xed6abcb370b28cbL, 0x6a9f53f6f54cadbcL, "sourceUnit");
    /*package*/ static final SContainmentLink targetUnit$cNlh = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0xed6abcb370b28cbL, 0x6a9f53f6f54cb11bL, "targetUnit");
    /*package*/ static final SContainmentLink specifiers$j65U = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0xed6abcb370b28cbL, 0x182c7aae9ff87b9fL, "specifiers");
  }
}
