package org.iets3.core.base.behavior;

/*Generated by MPS */

import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import org.jetbrains.mps.openapi.model.SNode;
import java.util.Collections;
import java.util.Objects;

public interface IResult {

  boolean isOk();
  Object getErrorMessage();
  /**
   * 
   * @deprecated 
   */
  @Deprecated(since = "17.10.2024")
  AbstractResultDescription getDescription();

  default Iterable<IResult> getSubResults() {
    return ListSequence.fromList(new ArrayList<IResult>());
  }

  default MessageType messageType() {
    return MessageType.OK;
  }

  default Iterable<SNode> targetNodes() {
    return Collections.emptyList();
  }

  static IResult make(final MessageType messageType, final String errorMsg, final Iterable<SNode> targetNodes, final AbstractResultDescription desc) {
    return new IResult() {
      @Override
      public boolean isOk() {
        return Objects.equals(messageType, MessageType.OK);
      }

      @Override
      public Object getErrorMessage() {
        return errorMsg;
      }

      @Override
      public AbstractResultDescription getDescription() {
        return desc;
      }
      @Override
      public MessageType messageType() {
        return messageType;
      }
      @Override
      public Iterable<SNode> targetNodes() {
        return targetNodes;
      }
    };
  }

  enum MessageType {
    Timeout(false),
    Error(false),
    Warning(false),
    Info(true),
    OK(true),
    Cancelled(false);

    public boolean isSuccess;
    MessageType(boolean isSuccess) {
      this.isSuccess = isSuccess;
    }
  }
}
