package org.iets3.core.expr.tests.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.contextactions.runtime.AbstractContextActionsDescriptor;
import com.mbeddr.mpsutil.contextactions.runtime.IContextActionsDescriptor;
import java.util.List;
import com.mbeddr.mpsutil.contextactions.runtime.IContextActionSource;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import com.mbeddr.mpsutil.contextactions.runtime.WrapperActionSource;
import com.mbeddr.mpsutil.contextactions.runtime.SubstituteInfoActionSource;
import com.mbeddr.mpsutil.contextactions.runtime.ISubstituteAction;
import com.mbeddr.mpsutil.contextactions.runtime.IContext;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;

public class ContextActionsDescriptor extends AbstractContextActionsDescriptor implements IContextActionsDescriptor {

  private static ContextActionsDescriptor INSTANCE = new ContextActionsDescriptor();

  @Override
  public List<IContextActionSource> getActionSources() {
    List<IContextActionSource> result = ListSequence.fromList(new ArrayList<IContextActionSource>());

    ListSequence.fromList(result).addElement(new WrapperActionSource(new SubstituteInfoActionSource() {
      @Override
      public String getFolder(ISubstituteAction action, IContext context) {
        return "KernelF - Tests";
      }
      @Override
      protected boolean includeAction(ISubstituteAction action, IContext context) {
        return check_gkynum_a0a1a0a0a0a0c0d(action.getOutputConceptLanguageName());
      }
    }) {
      @Override
      public boolean isApplicable(IContext context) {
        return SNodeOperations.isInstanceOf(context.getSNode(), CONCEPTS.IToplevelExprContent$AI) && (SNodeOperations.getConcept(context.getSNode()).isAbstract() || SConceptOperations.isSubConceptOf(SNodeOperations.asSConcept(SNodeOperations.getConcept(context.getSNode())), CONCEPTS.IEmpty$6_));
      }
    });

    return result;
  }

  @Override
  public boolean isApplicable(IContext context) {
    return true;
  }
  private static boolean check_gkynum_a0a1a0a0a0a0c0d(String checkedDotOperand) {
    if (null != checkedDotOperand) {
      return checkedDotOperand.contains("test");
    }
    return false;
  }

  private static final class CONCEPTS {
    /*package*/ static final SInterfaceConcept IToplevelExprContent$AI = MetaAdapterFactory.getInterfaceConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x27b717d14a8b21f9L, "org.iets3.core.expr.toplevel.structure.IToplevelExprContent");
    /*package*/ static final SInterfaceConcept IEmpty$6_ = MetaAdapterFactory.getInterfaceConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0xe900768cf47dcc3L, "com.mbeddr.core.base.structure.IEmpty");
  }
}
