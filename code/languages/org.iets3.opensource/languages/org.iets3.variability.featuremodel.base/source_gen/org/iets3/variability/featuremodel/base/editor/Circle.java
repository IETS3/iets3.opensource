package org.iets3.variability.featuremodel.base.editor;

/*Generated by MPS */

import com.mbeddr.mpsutil.treenotation.runtime.IShape;
import java.awt.Graphics2D;
import java.util.List;
import java.awt.geom.Line2D;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.awt.geom.Point2D;
import org.apache.commons.math3.geometry.euclidean.twod.Vector2D;
import java.awt.geom.Ellipse2D;
import com.intellij.ui.JBColor;

public class Circle implements IShape {
  private double size;
  private boolean filled;

  public Circle(double size, boolean filled) {
    this.size = size;
    this.filled = filled;
  }

  @Override
  public void paint(Graphics2D g, List<Line2D> edges) {
    double halfSize = size / 2;
    for (Line2D edge : ListSequence.fromList(edges)) {
      Point2D start = edge.getP1();
      Point2D end = edge.getP2();
      Vector2D endVector = new Vector2D(end.getX(), end.getY());
      Vector2D startVector = new Vector2D(start.getX(), start.getY());
      Vector2D center = endVector.add(halfSize - 1, startVector.subtract(endVector).normalize());
      Ellipse2D.Double circle = new Ellipse2D.Double(center.getX() - halfSize, center.getY() - halfSize, size, size);
      if (filled) {
        g.setColor(JBColor.BLACK);
        g.fill(circle);
      } else {
        g.setColor(JBColor.WHITE);
        g.fill(circle);
        g.setColor(JBColor.BLACK);
        g.draw(circle);
      }

    }
  }
}
