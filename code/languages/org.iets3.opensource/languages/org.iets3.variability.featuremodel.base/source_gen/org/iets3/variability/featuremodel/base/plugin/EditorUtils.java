package org.iets3.variability.featuremodel.base.plugin;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.EditorContext;
import jetbrains.mps.project.Project;
import jetbrains.mps.ide.project.ProjectHelper;
import jetbrains.mps.nodeEditor.EditorComponent;
import com.mbeddr.core.base.editor.EditorHintHelper;

public class EditorUtils {

  public static int treeNodeSpacing = 30;
  public static int treeLevelSpacing = 30;


  public static boolean hasEditorHint(String editorHint, EditorContext editorContext) {
    Project project = ProjectHelper.getProject(editorContext.getRepository());
    EditorComponent component = (EditorComponent) editorContext.getEditorComponent();
    EditorHintHelper helper = new EditorHintHelper(component, ProjectHelper.toIdeaProject(project));
    return helper.hasHint(editorHint);
  }


  public static double treeButtonOpacity(double distance) {
    final double dMax = 150;
    final double dOff = 300;
    final double opaqMax = 0.9;
    if (distance < dMax) {
      return opaqMax;
    } else if (distance > dOff) {
      return 0.0;
    } else {
      // linear interpolation between dMax and dOff
      final double dx = dOff - dMax;
      final double delta = opaqMax / dx;
      return opaqMax - delta * (distance - dMax);
    }
  }
}
