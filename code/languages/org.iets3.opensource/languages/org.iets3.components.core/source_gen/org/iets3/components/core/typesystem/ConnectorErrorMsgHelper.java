package org.iets3.components.core.typesystem;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import java.util.Objects;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.core.behavior.BaseConcept__BehaviorDescriptor;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SProperty;

public class ConnectorErrorMsgHelper {
  public static String getConnectorErrMsg(SNode left, SNode right) {
    if (SNodeOperations.isInstanceOf(left, CONCEPTS.ConfiguredPortType$_r) && SNodeOperations.isInstanceOf(right, CONCEPTS.ConfiguredPortType$_r)) {
      SNode leftConfigType = SLinkOperations.getTarget(SNodeOperations.cast(left, CONCEPTS.ConfiguredPortType$_r), LINKS.configurationType$gl1t);
      SNode rightConfigType = SLinkOperations.getTarget(SNodeOperations.cast(right, CONCEPTS.ConfiguredPortType$_r), LINKS.configurationType$gl1t);
      if (Objects.equals(SNodeOperations.getConcept(leftConfigType), SNodeOperations.getConcept(rightConfigType))) {
        if (SNodeOperations.isInstanceOf(leftConfigType, CONCEPTS.RecordType$z_) && SNodeOperations.isInstanceOf(rightConfigType, CONCEPTS.RecordType$z_)) {
          return "record used for configurations isn't compatible. Left: " + SPropertyOperations.getString(SLinkOperations.getTarget(SNodeOperations.cast(leftConfigType, CONCEPTS.RecordType$z_), LINKS.record$jEA7), PROPS.name$MnvL) + " Right: " + SPropertyOperations.getString(SLinkOperations.getTarget(SNodeOperations.cast(rightConfigType, CONCEPTS.RecordType$z_), LINKS.record$jEA7), PROPS.name$MnvL);
        }
      }
      return BaseConcept__BehaviorDescriptor.getPresentation_idhEwIMiw.invoke(leftConfigType) + " is incompatible with " + BaseConcept__BehaviorDescriptor.getPresentation_idhEwIMiw.invoke(rightConfigType);
    }
    return BaseConcept__BehaviorDescriptor.getPresentation_idhEwIMiw.invoke(left) + " is incompatible with " + BaseConcept__BehaviorDescriptor.getPresentation_idhEwIMiw.invoke(right);
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept ConfiguredPortType$_r = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6d41a0656b8b7eb7L, "org.iets3.components.core.structure.ConfiguredPortType");
    /*package*/ static final SConcept RecordType$z_ = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x7a477bfec237e8c2L, "org.iets3.core.expr.toplevel.structure.RecordType");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink configurationType$gl1t = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6d41a0656b8b7eb7L, 0x6d41a0656b8b7ebaL, "configurationType");
    /*package*/ static final SReferenceLink record$jEA7 = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x7a477bfec237e8c2L, 0x7a477bfec237e8c3L, "record");
  }

  private static final class PROPS {
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
  }
}
