package org.iets3.components.core.editor;

/*Generated by MPS */

import de.itemis.mps.editor.diagram.runtime.shape.AbstractShape;
import java.awt.Color;
import org.iets3.components.core.behavior.PortShapeRenderer;
import org.jetbrains.annotations.Nullable;
import java.awt.Graphics2D;
import java.awt.geom.Rectangle2D;
import de.itemis.mps.editor.diagram.runtime.shape.IShapeStyle;
import com.intellij.ui.JBColor;
import java.awt.Shape;
import java.awt.BasicStroke;

public class PortShape extends AbstractShape {

  private boolean optional;
  private Color color;
  private PortShapeRenderer shaper;

  public PortShape(boolean optional, Color color, PortShapeRenderer shaper) {
    this.optional = optional;
    this.color = color;
    this.shaper = shaper;
  }

  @Nullable
  @Override
  public Double getDefaultSize() {
    return ((double) (20));
  }


  @Override
  protected void drawShadow(final Graphics2D graphics, final Rectangle2D bounds, IShapeStyle style) {
  }

  @Override
  protected void draw(final Graphics2D graphics, final Rectangle2D bounds, IShapeStyle style) {
    Color colorToUse = this.color;
    if (colorToUse == null) {
      colorToUse = JBColor.black;
    }
    graphics.setColor(colorToUse.brighter());
    Shape s = this.shaper.renderShape(bounds);
    if (this.optional) {
      graphics.setStroke(new BasicStroke(2));
      graphics.draw(s);
    } else {
      graphics.setStroke(new BasicStroke(1));
      graphics.draw(s);
      graphics.fill(s);
    }
  }

}
