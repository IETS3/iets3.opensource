package org.iets3.components.core.editor;

/*Generated by MPS */

import jetbrains.mps.editor.runtime.descriptor.AbstractEditorBuilder;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.openapi.editor.EditorContext;
import jetbrains.mps.openapi.editor.cells.EditorCell;
import jetbrains.mps.baseLanguage.closures.runtime.Wrappers;
import de.itemis.mps.editor.diagram.runtime.model.EditorCell_DiagramElement;
import de.itemis.mps.editor.diagram.runtime.ContextVariables;
import java.util.List;
import de.itemis.mps.editor.diagram.runtime.model.Port;
import java.util.ArrayList;
import jetbrains.mps.internal.collections.runtime.Sequence;
import org.iets3.components.core.behavior.Component__BehaviorDescriptor;
import org.iets3.components.core.behavior.AbstractComponentInstanceBase__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SEnumOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import org.iets3.components.core.behavior.Port__BehaviorDescriptor;
import org.iets3.components.core.behavior.IPortType__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.iets3.components.core.behavior.PortCategory__BehaviorDescriptor;
import jetbrains.mps.openapi.editor.style.Style;
import jetbrains.mps.editor.runtime.style.StyleImpl;
import de.itemis.mps.editor.diagram.runtime.jgraph.MyGraph;
import de.itemis.mps.editor.diagram.runtime.jgraph.DiagramCreationContext;
import de.itemis.mps.editor.diagram.runtime.jgraph.ElkLayouter;
import de.itemis.mps.editor.diagram.runtime.shape.IShape;
import org.iets3.components.core.behavior.ComponentKind__BehaviorDescriptor;
import de.itemis.mps.editor.diagram.runtime.model.SNodeBoxAccessor;
import de.itemis.mps.editor.diagram.runtime.model.IDiagramElementAccessor;
import de.itemis.mps.editor.diagram.runtime.model.IAccessorFactory;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import java.util.Collections;
import jetbrains.mps.nodeEditor.cells.EditorCell_Collection;
import jetbrains.mps.nodeEditor.cellLayout.CellLayout_Indent;
import jetbrains.mps.editor.runtime.style.StyleAttributes;
import jetbrains.mps.openapi.editor.update.Updater;
import jetbrains.mps.nodeEditor.hintsSettings.ConceptEditorHintSettingsComponent;
import jetbrains.mps.project.MPSProject;
import de.itemis.mps.editor.diagram.runtime.jgraph.BaseDiagramECell;
import de.itemis.mps.editor.diagram.runtime.EditorUtil;
import de.itemis.mps.editor.diagram.runtime.DiagramContext;
import de.itemis.mps.editor.diagram.runtime.model.DiagramModel;
import de.itemis.mps.editor.diagram.runtime.jgraph.LayeredLayouter;
import org.eclipse.elk.core.options.Direction;
import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;
import de.itemis.mps.editor.diagram.runtime.model.IDiagramAccessor;
import de.itemis.mps.editor.diagram.runtime.model.AbstractDiagramAccessor;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import de.itemis.mps.editor.diagram.runtime.model.IConnectionType;
import de.itemis.mps.editor.diagram.runtime.model.GeneratedConnectionType;
import de.itemis.mps.editor.diagram.runtime.model.IConnectionEndpoint;
import java.util.Objects;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.action.NodeFactoryManager;
import com.mxgraph.swing.mxGraphComponent;
import java.awt.Color;
import de.itemis.mps.editor.diagram.runtime.jgraph.MyGraphComponent;
import de.itemis.mps.editor.diagram.runtime.model.IPaletteEntryProvider;
import de.itemis.mps.editor.diagram.runtime.model.CompositePaletteEntryProvider;
import de.itemis.mps.editor.diagram.runtime.model.AbstractPaletteEntryProvider;
import de.itemis.mps.editor.diagram.runtime.model.IPaletteEntry;
import com.mbeddr.core.base.behavior.IVisibleElementProvider__BehaviorDescriptor;
import de.itemis.mps.editor.diagram.runtime.model.AbstractPaletteEntry;
import javax.swing.Icon;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import org.jetbrains.annotations.Nullable;
import org.iets3.components.core.behavior.IComponentsChunkContent__BehaviorDescriptor;
import de.itemis.mps.editor.diagram.runtime.substitute.SubstituteInfoFactory;
import jetbrains.mps.smodel.action.SNodeFactoryOperations;
import de.itemis.mps.editor.diagram.runtime.jgraph.SubDiagramECell;
import de.itemis.mps.editor.diagram.runtime.jgraph.RootDiagramECell;
import javax.swing.JButton;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import jetbrains.mps.project.Project;
import jetbrains.mps.ide.project.ProjectHelper;
import de.itemis.mps.editor.diagram.runtime.jgraph.DiagramActionsUtil;
import jetbrains.mps.nodeEditor.cells.EditorCell_Component;
import de.itemis.mps.editor.diagram.runtime.jgraph.RootDCell;
import com.mbeddr.mpsutil.editor.querylist.runtime.QueryListContext;
import com.mbeddr.mpsutil.editor.querylist.runtime.QueryListHandler;
import com.mbeddr.mpsutil.editor.querylist.runtime.EditorCell_QueryList;
import jetbrains.mps.nodeEditor.cellLayout.CellLayout_Horizontal;
import org.jetbrains.mps.openapi.language.SConceptFeature;
import jetbrains.mps.nodeEditor.cellProviders.AbstractCellListHandler;
import jetbrains.mps.openapi.editor.cells.CellActionType;
import jetbrains.mps.nodeEditor.cellActions.CellAction_DeleteNode;
import jetbrains.mps.openapi.editor.cells.SubstituteInfo;
import jetbrains.mps.openapi.editor.menus.transformation.SNodeLocation;
import de.slisson.mps.hacks.editor.DummyReferenceLink;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SProperty;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;

/*package*/ class AbstractComponentInstanceBase_isInDiagram_wiringDiagram_EditorBuilder_a extends AbstractEditorBuilder {
  @NotNull
  private SNode myNode;

  public AbstractComponentInstanceBase_isInDiagram_wiringDiagram_EditorBuilder_a(@NotNull EditorContext context, @NotNull SNode node) {
    super(context);
    myNode = node;
  }

  @NotNull
  @Override
  public SNode getNode() {
    return myNode;
  }

  /*package*/ EditorCell createCell() {
    return createDiagramNode_1();
  }

  private EditorCell createDiagramNode_0(final EditorContext editorContext, final SNode node) {

    final Wrappers._T<EditorCell_DiagramElement> editorCell = new Wrappers._T<EditorCell_DiagramElement>(null);

    ContextVariables.withValue("thisNode", node, () -> {
      final ContextVariables _variablesContext = ContextVariables.getCurrent();
      final List<Port> ports = new ArrayList<Port>();
      for (final SNode portObject : Sequence.fromIterable(Component__BehaviorDescriptor.portsByKind_idmIQkxf$DFN.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(((SNode) _variablesContext.getValue("thisNode"))), SEnumOperations.getMember(MetaAdapterFactory.getEnumeration(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x71280102d0188dfL, "org.iets3.components.core.structure.PortCategoryKind"), 0x71280102d0188e0L, "left")))) {
        ContextVariables.withParentAndValue(_variablesContext, "portObject", portObject, new Runnable() {
          public void run() {
            final ContextVariables _variablesContext = ContextVariables.getCurrent();
            {
              Port port = new Port(SPropertyOperations.getString(((SNode) _variablesContext.getValue("portObject")), PROPS.name$MnvL));
              port.setShape(new PortShape((boolean) Port__BehaviorDescriptor.isOptional_idmIQkxf$r$2.invoke(((SNode) _variablesContext.getValue("portObject"))), IPortType__BehaviorDescriptor.characteristicColor_idmIQkxg4rmC.invoke(SLinkOperations.getTarget(((SNode) _variablesContext.getValue("portObject")), LINKS.type$5Gl6)), PortCategory__BehaviorDescriptor.shapeRenderer_idmIQkxgiY42.invoke(SLinkOperations.getTarget(((SNode) _variablesContext.getValue("portObject")), LINKS.category$WD4l))));
              {
                SNode parameterObject = portObject;
                port.setTooltipCell(new Inline_Builder_7coxxm_a0a0(editorContext, parameterObject).createCell());
              }
              port.setSNodeAndDummyCell(portObject, editorContext);
              Style style = new StyleImpl();
              MyGraph rootGraph = DiagramCreationContext.getRootGraph();
              if (port.getBox() != null && rootGraph != null) {
                ElkLayouter layouter = (ElkLayouter) rootGraph.getRootDiagramModel().getLayouter();
                layouter.addPortsStyle(style, port.getBox().getAccessor().getId());
              }
              ports.add(port);
            }
          }
        });
      }
      for (final SNode portObject : Sequence.fromIterable(Component__BehaviorDescriptor.portsByKind_idmIQkxf$DFN.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(((SNode) _variablesContext.getValue("thisNode"))), SEnumOperations.getMember(MetaAdapterFactory.getEnumeration(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x71280102d0188dfL, "org.iets3.components.core.structure.PortCategoryKind"), 0x71280102d0188f9L, "right")))) {
        ContextVariables.withParentAndValue(_variablesContext, "portObject", portObject, new Runnable() {
          public void run() {
            final ContextVariables _variablesContext = ContextVariables.getCurrent();
            {
              Port port = new Port(SPropertyOperations.getString(((SNode) _variablesContext.getValue("portObject")), PROPS.name$MnvL));
              port.setRelativeX(1.0);
              port.setShape(new PortShape((boolean) Port__BehaviorDescriptor.isOptional_idmIQkxf$r$2.invoke(((SNode) _variablesContext.getValue("portObject"))), IPortType__BehaviorDescriptor.characteristicColor_idmIQkxg4rmC.invoke(SLinkOperations.getTarget(((SNode) _variablesContext.getValue("portObject")), LINKS.type$5Gl6)), PortCategory__BehaviorDescriptor.shapeRenderer_idmIQkxgiY42.invoke(SLinkOperations.getTarget(((SNode) _variablesContext.getValue("portObject")), LINKS.category$WD4l))));
              {
                SNode parameterObject = portObject;
                port.setTooltipCell(new Inline_Builder_7coxxm_a0b0(editorContext, parameterObject).createCell());
              }
              port.setSNodeAndDummyCell(portObject, editorContext);
              Style style = new StyleImpl();
              MyGraph rootGraph = DiagramCreationContext.getRootGraph();
              if (port.getBox() != null && rootGraph != null) {
                ElkLayouter layouter = (ElkLayouter) rootGraph.getRootDiagramModel().getLayouter();
                layouter.addPortsStyle(style, port.getBox().getAccessor().getId());
              }
              ports.add(port);
            }
          }
        });
      }
      for (final SNode portObject : Sequence.fromIterable(Component__BehaviorDescriptor.portsByKind_idmIQkxf$DFN.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(((SNode) _variablesContext.getValue("thisNode"))), SEnumOperations.getMember(MetaAdapterFactory.getEnumeration(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x71280102d0188dfL, "org.iets3.components.core.structure.PortCategoryKind"), 0x71280102d0188fcL, "top")))) {
        ContextVariables.withParentAndValue(_variablesContext, "portObject", portObject, new Runnable() {
          public void run() {
            final ContextVariables _variablesContext = ContextVariables.getCurrent();
            {
              Port port = new Port(SPropertyOperations.getString(((SNode) _variablesContext.getValue("portObject")), PROPS.name$MnvL));
              port.setRelativeX(0.5);
              port.setRelativeY(0.0);
              port.setShape(new PortShape((boolean) Port__BehaviorDescriptor.isOptional_idmIQkxf$r$2.invoke(((SNode) _variablesContext.getValue("portObject"))), IPortType__BehaviorDescriptor.characteristicColor_idmIQkxg4rmC.invoke(SLinkOperations.getTarget(((SNode) _variablesContext.getValue("portObject")), LINKS.type$5Gl6)), PortCategory__BehaviorDescriptor.shapeRenderer_idmIQkxgiY42.invoke(SLinkOperations.getTarget(((SNode) _variablesContext.getValue("portObject")), LINKS.category$WD4l))));
              {
                SNode parameterObject = portObject;
                port.setTooltipCell(new Inline_Builder_7coxxm_a0c0(editorContext, parameterObject).createCell());
              }
              port.setSNodeAndDummyCell(portObject, editorContext);
              Style style = new StyleImpl();
              MyGraph rootGraph = DiagramCreationContext.getRootGraph();
              if (port.getBox() != null && rootGraph != null) {
                ElkLayouter layouter = (ElkLayouter) rootGraph.getRootDiagramModel().getLayouter();
                layouter.addPortsStyle(style, port.getBox().getAccessor().getId());
              }
              ports.add(port);
            }
          }
        });
      }
      for (final SNode portObject : Sequence.fromIterable(Component__BehaviorDescriptor.portsByKind_idmIQkxf$DFN.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(((SNode) _variablesContext.getValue("thisNode"))), SEnumOperations.getMember(MetaAdapterFactory.getEnumeration(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x71280102d0188dfL, "org.iets3.components.core.structure.PortCategoryKind"), 0x71280102d018900L, "bottom")))) {
        ContextVariables.withParentAndValue(_variablesContext, "portObject", portObject, new Runnable() {
          public void run() {
            final ContextVariables _variablesContext = ContextVariables.getCurrent();
            {
              Port port = new Port(SPropertyOperations.getString(((SNode) _variablesContext.getValue("portObject")), PROPS.name$MnvL));
              port.setRelativeX(0.5);
              port.setRelativeY(1.0);
              port.setShape(new PortShape((boolean) Port__BehaviorDescriptor.isOptional_idmIQkxf$r$2.invoke(((SNode) _variablesContext.getValue("portObject"))), IPortType__BehaviorDescriptor.characteristicColor_idmIQkxg4rmC.invoke(SLinkOperations.getTarget(((SNode) _variablesContext.getValue("portObject")), LINKS.type$5Gl6)), PortCategory__BehaviorDescriptor.shapeRenderer_idmIQkxgiY42.invoke(SLinkOperations.getTarget(((SNode) _variablesContext.getValue("portObject")), LINKS.category$WD4l))));
              {
                SNode parameterObject = portObject;
                port.setTooltipCell(new Inline_Builder_7coxxm_a0d0(editorContext, parameterObject).createCell());
              }
              port.setSNodeAndDummyCell(portObject, editorContext);
              Style style = new StyleImpl();
              MyGraph rootGraph = DiagramCreationContext.getRootGraph();
              if (port.getBox() != null && rootGraph != null) {
                ElkLayouter layouter = (ElkLayouter) rootGraph.getRootDiagramModel().getLayouter();
                layouter.addPortsStyle(style, port.getBox().getAccessor().getId());
              }
              ports.add(port);
            }
          }
        });
      }

      EditorCell contentCell = createCollection_0();
      final List<EditorCell> contentCells = new ArrayList<EditorCell>();
      contentCells.add(contentCell);
      final IShape shape = new ComponentInstanceShape(Component__BehaviorDescriptor.compSubstructure_idx8tpSA1Tv5.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(((SNode) _variablesContext.getValue("thisNode")))) != null, ComponentKind__BehaviorDescriptor.characteristicColor_id6$fTUGAuTlR.invoke(SLinkOperations.getTarget(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(((SNode) _variablesContext.getValue("thisNode"))), LINKS.kind$8cnO)), (boolean) AbstractComponentInstanceBase__BehaviorDescriptor.isInline_id3xTZ$YBw7Op.invoke(((SNode) _variablesContext.getValue("thisNode"))));


      SNodeBoxAccessor accessor = new SNodeBoxAccessor(node) {
        @NotNull
        public List<Port> getPorts() {
          return ports;
        }
        public IShape getShape() {
          return shape;
        }
        @Override
        @NotNull
        public List<EditorCell> getContentCells() {
          if (contentCells.isEmpty()) {
            contentCells.add(getRootEditorCell());
          }
          return contentCells;
        }

        public List<? extends IDiagramElementAccessor> getElements(IAccessorFactory accessorFactory) {
          final List<IDiagramElementAccessor> elements = new ArrayList<IDiagramElementAccessor>();
          return elements;
        }

        @Override
        public void delete() {
          Iterable<SNode> conns = SNodeOperations.ofConcept(SLinkOperations.getChildren(SNodeOperations.cast(SNodeOperations.getParent(((SNode) _variablesContext.getValue("thisNode"))), CONCEPTS.ComponentSubstructure$oB), LINKS.contents$7e9r), CONCEPTS.AssemblyConnector$qU);
          Sequence.fromIterable(conns).where((it) -> SLinkOperations.getTarget(SLinkOperations.getTarget(it, LINKS.sourceInstance$LjmV), LINKS.ref$H$FL) == ((SNode) _variablesContext.getValue("thisNode")) || SLinkOperations.getTarget(SLinkOperations.getTarget(it, LINKS.targetInstance$RipR), LINKS.ref$H$FL) == ((SNode) _variablesContext.getValue("thisNode"))).visitAll((it) -> SNodeOperations.deleteNode(it));
          SNodeOperations.deleteNode(((SNode) _variablesContext.getValue("thisNode")));
        }

        @Override
        public boolean allowConnectionsToBox() {
          return true;
        }

        @NotNull
        @Override
        public Iterable<SNode> getNavigationTargets() {
          Iterable<SNode> result = Sequence.fromIterable(Collections.<SNode>emptyList());
          result = Sequence.fromIterable(result).concat(Sequence.fromIterable(Sequence.<SNode>singleton(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(((SNode) _variablesContext.getValue("thisNode"))))));
          return result;
        }
        @Override
        public boolean allowScaling() {
          return false;
        }


      };

      editorCell.value = new EditorCell_DiagramElement(editorContext, node, accessor);
      editorCell.value.setCellId("DiagramNode_7coxxm_a");
      editorCell.value.setBig(true);
      setCellContext(editorCell.value);

      editorCell.value.addEditorCell(contentCell);
      MyGraph rootGraph = DiagramCreationContext.getRootGraph();
      if (rootGraph != null) {
        ElkLayouter layouter = (ElkLayouter) rootGraph.getRootDiagramModel().getLayouter();
        layouter.addNodesStyle(editorCell.value.getStyle(), accessor.getId());
      }
    });

    return editorCell.value;
  }
  private EditorCell createDiagramNode_1() {
    return createDiagramNode_0(getEditorContext(), myNode);
  }
  private EditorCell createCollection_0() {
    EditorCell_Collection editorCell = new EditorCell_Collection(getEditorContext(), myNode, new CellLayout_Indent());
    editorCell.setCellId("Collection_7coxxm_a0");
    Style style = new StyleImpl();
    style.set(StyleAttributes.SELECTABLE, false);
    style.set(StyleAttributes.INDENT_LAYOUT_CHILDREN_NEWLINE, true);
    editorCell.getStyle().putAll(style);
    editorCell.addEditorCell(createComponent_0());
    editorCell.addEditorCell(createComponent_1());
    if (nodeCondition_7coxxm_a2a0()) {
      editorCell.addEditorCell(createDiagram_1());
    }
    editorCell.addEditorCell(createComponent_2());
    return editorCell;
  }
  private boolean nodeCondition_7coxxm_a2a0() {
    Updater updater = getEditorContext().getEditorComponent().getUpdater();
    Iterable<String> explicitEditorHints = Sequence.fromArray(updater.getExplicitEditorHintsForNode(myNode.getReference()));
    if (Sequence.fromIterable(explicitEditorHints).contains("org.iets3.components.core.editor.org.iets3.components.nestedComponentStructure")) {
      return true;
    }
    Iterable<String> initialEditorHints = Sequence.fromArray(updater.getInitialEditorHints());
    if (Sequence.fromIterable(initialEditorHints).contains("org.iets3.components.core.editor.org.iets3.components.nestedComponentStructure")) {
      return true;
    }
    ConceptEditorHintSettingsComponent globalHintSettings = ConceptEditorHintSettingsComponent.getInstance(as_icku6c_a0a0a5a11(getEditorContext().getOperationContext().getProject(), MPSProject.class).getProject());
    if (globalHintSettings.getState().getEnabledHints().contains("org.iets3.components.core.editor.org.iets3.components.nestedComponentStructure")) {
      return true;
    }
    return false;
  }
  private EditorCell createComponent_0() {
    EditorCell editorCell = getCellFactory().createEditorComponentCell(myNode, "org.iets3.components.core.editor.ComponentInstanceBase_Diagram_Header");
    return editorCell;
  }
  private EditorCell createComponent_1() {
    EditorCell editorCell = getCellFactory().createEditorComponentCell(myNode, "org.iets3.core.attributes.editor.summary");
    return editorCell;
  }
  private EditorCell createDiagram_0(final EditorContext editorContext, final SNode node) {
    final Wrappers._T<BaseDiagramECell> editorCell = new Wrappers._T<BaseDiagramECell>(null);
    final Wrappers._T<EditorCell> alternativeCell = new Wrappers._T<EditorCell>(null);

    EditorUtil.noCaching(editorContext, () -> {
      DiagramCreationContext.createDiagram(() -> {
        DiagramContext.withContext(node, () -> editorCell.value, () -> {
          ContextVariables.withValue("thisNode", node, () -> {
            final ContextVariables _variablesContext = ContextVariables.getCurrent();
            DiagramModel model = DiagramModel.getModel(editorContext, node, "4069079771629911423");
            final ElkLayouter layouter = new LayeredLayouter(Direction.RIGHT);
            layouter.toggleConnectBoxesWithoutDummyPort(false);
            ((_FunctionTypes._void_P0_E0) () -> {
              // the closure is necessary so that we can declare the style variable again in the current scope
              Style style = new StyleImpl();
              layouter.setParentsStyle(style);
            }).invoke();


            IDiagramAccessor accessor = new AbstractDiagramAccessor(node) {
              public List<? extends IDiagramElementAccessor> getElements(IAccessorFactory accessorFactory) {
                final List<IDiagramElementAccessor> elements = new ArrayList<IDiagramElementAccessor>();
                for (SNode e : Sequence.fromIterable(new Object() {
                  public Iterable<SNode> query() {
                    return ListSequence.fromList(SLinkOperations.getChildren(Component__BehaviorDescriptor.compSubstructure_idx8tpSA1Tv5.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(node)), LINKS.contents$7e9r)).where((it) -> !(SNodeOperations.isInstanceOf(it, CONCEPTS.IEmpty$6_)));
                  }
                }.query())) {
                  elements.addAll(accessorFactory.fromSNode(e, false));
                }
                return elements;
              }
              @Override
              public List<IConnectionType> getConnectionTypes() {
                List<IConnectionType> connectionTypes = new ArrayList<IConnectionType>();
                connectionTypes.addAll(Collections.singletonList(new GeneratedConnectionType() {
                  public String getName() {
                    return "Connector";
                  }
                  @Override
                  public boolean canCreate(final IConnectionEndpoint from, final IConnectionEndpoint to, final List<String> reasons) {
                    SNode fromNode = from.getSNode();
                    SNode toNode = to.getSNode();
                    if (SNodeOperations.isInstanceOf(fromNode, CONCEPTS.Port$gs) && SNodeOperations.isInstanceOf(toNode, CONCEPTS.AbstractComponentInstanceBase$QW)) {
                      if (isEmptyString(to.getPortName())) {
                        return true;
                      }
                      SNode fromPort = SNodeOperations.cast(fromNode, CONCEPTS.Port$gs);
                      SNode toPort = AbstractComponentInstanceBase__BehaviorDescriptor.findPortByID_idsiw10GLvYX.invoke(SNodeOperations.cast(toNode, CONCEPTS.AbstractComponentInstanceBase$QW), to.getPortName());
                      return Objects.equals(SNodeOperations.getConcept(SLinkOperations.getTarget(fromPort, LINKS.category$WD4l)), SNodeOperations.getConcept(SLinkOperations.getTarget(toPort, LINKS.category$WD4l))) && IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(fromPort, LINKS.type$5Gl6)) == IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(toPort, LINKS.type$5Gl6));
                    }
                    if (SNodeOperations.isInstanceOf(fromNode, CONCEPTS.AbstractComponentInstanceBase$QW) && SNodeOperations.isInstanceOf(toNode, CONCEPTS.Port$gs)) {
                      if (isEmptyString(from.getPortName())) {
                        return true;
                      }
                      SNode fromPort = AbstractComponentInstanceBase__BehaviorDescriptor.findPortByID_idsiw10GLvYX.invoke(SNodeOperations.cast(fromNode, CONCEPTS.AbstractComponentInstanceBase$QW), from.getPortName());
                      SNode toPort = SNodeOperations.cast(toNode, CONCEPTS.Port$gs);
                      return Objects.equals(SNodeOperations.getConcept(SLinkOperations.getTarget(fromPort, LINKS.category$WD4l)), SNodeOperations.getConcept(SLinkOperations.getTarget(toPort, LINKS.category$WD4l))) && IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(fromPort, LINKS.type$5Gl6)) == IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(toPort, LINKS.type$5Gl6));
                    }
                    if (SNodeOperations.isInstanceOf(fromNode, CONCEPTS.AbstractComponentInstanceBase$QW) && SNodeOperations.isInstanceOf(toNode, CONCEPTS.AbstractComponentInstanceBase$QW)) {
                      if (isEmptyString(from.getPortName()) && isEmptyString(to.getPortName())) {
                        return false;
                      }
                      SNode fromPort = AbstractComponentInstanceBase__BehaviorDescriptor.findPortByID_idsiw10GLvYX.invoke(SNodeOperations.cast(fromNode, CONCEPTS.AbstractComponentInstanceBase$QW), from.getPortName());
                      SNode toPort = AbstractComponentInstanceBase__BehaviorDescriptor.findPortByID_idsiw10GLvYX.invoke(SNodeOperations.cast(toNode, CONCEPTS.AbstractComponentInstanceBase$QW), to.getPortName());
                      if (SNodeOperations.getParent(fromNode) == SNodeOperations.getParent(toNode)) {
                        if ((fromPort != null) && (toPort != null)) {
                          return SNodeOperations.isInstanceOf(SLinkOperations.getTarget(toPort, LINKS.category$WD4l), SNodeOperations.asSConcept(PortCategory__BehaviorDescriptor.oppositeCategory_idmIQkxfpv6J.invoke(SLinkOperations.getTarget(fromPort, LINKS.category$WD4l)))) && IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(fromPort, LINKS.type$5Gl6)) == IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(toPort, LINKS.type$5Gl6));
                        } else {
                          return true;
                        }
                      } else if (SNodeOperations.getNodeAncestor(fromNode, CONCEPTS.Component$gR, false, false) == AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(SNodeOperations.cast(toNode, CONCEPTS.AbstractComponentInstanceBase$QW)) || SNodeOperations.getNodeAncestor(toNode, CONCEPTS.Component$gR, false, false) == AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(SNodeOperations.cast(fromNode, CONCEPTS.AbstractComponentInstanceBase$QW))) {
                        if ((fromPort != null) && (toPort != null)) {
                          return Objects.equals(SNodeOperations.getConcept(SLinkOperations.getTarget(toPort, LINKS.category$WD4l)), SNodeOperations.getConcept(SLinkOperations.getTarget(fromPort, LINKS.category$WD4l))) && IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(fromPort, LINKS.type$5Gl6)) == IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(toPort, LINKS.type$5Gl6));
                        } else {
                          return true;
                        }
                      }
                    }
                    return false;
                  }
                  @Override
                  public void create(final IConnectionEndpoint from, final IConnectionEndpoint to) {
                    SNode fromNode = from.getSNode();
                    SNode toNode = to.getSNode();

                    if (SNodeOperations.isInstanceOf(fromNode, CONCEPTS.Port$gs) && SNodeOperations.isInstanceOf(toNode, CONCEPTS.AbstractComponentInstanceBase$QW)) {
                      ComponentSubstructureDiagramHelper.createConnector(SNodeOperations.cast(fromNode, CONCEPTS.Port$gs), SNodeOperations.cast(toNode, CONCEPTS.AbstractComponentInstanceBase$QW), to.getPortName());
                    }

                    if (SNodeOperations.isInstanceOf(fromNode, CONCEPTS.AbstractComponentInstanceBase$QW) && SNodeOperations.isInstanceOf(toNode, CONCEPTS.Port$gs)) {
                      ComponentSubstructureDiagramHelper.createConnector(SNodeOperations.cast(toNode, CONCEPTS.Port$gs), SNodeOperations.cast(fromNode, CONCEPTS.AbstractComponentInstanceBase$QW), from.getPortName());
                    }

                    if (SNodeOperations.isInstanceOf(fromNode, CONCEPTS.AbstractComponentInstanceBase$QW) && SNodeOperations.isInstanceOf(toNode, CONCEPTS.AbstractComponentInstanceBase$QW)) {
                      SNode toInstance = SNodeOperations.cast(toNode, CONCEPTS.AbstractComponentInstanceBase$QW);
                      SNode fromInstance = SNodeOperations.cast(fromNode, CONCEPTS.AbstractComponentInstanceBase$QW);
                      SNode fromComponent = AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(fromInstance);
                      if (SNodeOperations.getParent(fromNode) == SNodeOperations.getParent(toNode)) {
                        SNode fromPort;
                        SNode toPort;
                        if (isEmptyString(from.getPortName())) {
                          toPort = AbstractComponentInstanceBase__BehaviorDescriptor.findPortByID_idsiw10GLvYX.invoke(toInstance, to.getPortName());
                          fromPort = createPort_7coxxm_a0b0c0d0h0a0c0a(SNodeOperations.copyNode(SLinkOperations.getTarget(toPort, LINKS.type$5Gl6)), SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(PortCategory__BehaviorDescriptor.oppositeCategory_idmIQkxfpv6J.invoke(SLinkOperations.getTarget(toPort, LINKS.category$WD4l)))));
                          NodeFactoryManager.setupNode(CONCEPTS.Port$gs, fromPort, null, Component__BehaviorDescriptor.ensureCompInterface_idx8tpSAdmRF.invoke(fromComponent), SNodeOperations.getModel(fromComponent));
                          ListSequence.fromList(Component__BehaviorDescriptor.interfaceContent_idx8tpSAdLM$.invoke(fromComponent)).addElement(fromPort);
                        } else {
                          fromPort = AbstractComponentInstanceBase__BehaviorDescriptor.findPortByID_idsiw10GLvYX.invoke(fromInstance, from.getPortName());
                          if (isEmptyString(to.getPortName())) {
                            SNode toComponent = AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(toInstance);
                            toPort = createPort_7coxxm_a0b0b0a2a3a7a0a2a0(SNodeOperations.copyNode(SLinkOperations.getTarget(fromPort, LINKS.type$5Gl6)), SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(PortCategory__BehaviorDescriptor.oppositeCategory_idmIQkxfpv6J.invoke(SLinkOperations.getTarget(fromPort, LINKS.category$WD4l)))));
                            NodeFactoryManager.setupNode(CONCEPTS.Port$gs, toPort, null, Component__BehaviorDescriptor.ensureCompInterface_idx8tpSAdmRF.invoke(toComponent), SNodeOperations.getModel(toComponent));
                            ListSequence.fromList(Component__BehaviorDescriptor.interfaceContent_idx8tpSAdLM$.invoke(toComponent)).addElement(toPort);
                          } else {
                            toPort = AbstractComponentInstanceBase__BehaviorDescriptor.findPortByID_idsiw10GLvYX.invoke(toInstance, to.getPortName());
                          }
                        }

                        SNode ss = SNodeOperations.getNodeAncestor(toNode, CONCEPTS.ComponentSubstructure$oB, false, false);
                        if ((boolean) PortCategory__BehaviorDescriptor.actsAsSourceOfConnector_idmIQkxfpv6p.invoke(SLinkOperations.getTarget(fromPort, LINKS.category$WD4l))) {
                          SNode assemblyConnector = createAssemblyConnector_7coxxm_a0a0f0d0h0a0c0a(IPortType__BehaviorDescriptor.createConnectorType_id4KDeVD8s9TJ.invoke(SLinkOperations.getTarget(fromPort, LINKS.type$5Gl6)), fromInstance, fromPort, toInstance, toPort);
                          NodeFactoryManager.setupNode(CONCEPTS.AssemblyConnector$qU, assemblyConnector, null, ss, SNodeOperations.getModel(ss));
                          ListSequence.fromList(SLinkOperations.getChildren(ss, LINKS.contents$7e9r)).addElement(assemblyConnector);
                        } else {
                          SNode assemblyConnector = createAssemblyConnector_7coxxm_a0a0a5a3a7a0a2a0(IPortType__BehaviorDescriptor.createConnectorType_id4KDeVD8s9TJ.invoke(SLinkOperations.getTarget(fromPort, LINKS.type$5Gl6)), toInstance, toPort, fromInstance, fromPort);
                          NodeFactoryManager.setupNode(CONCEPTS.AssemblyConnector$qU, assemblyConnector, null, ss, SNodeOperations.getModel(ss));
                          ListSequence.fromList(SLinkOperations.getChildren(ss, LINKS.contents$7e9r)).addElement(assemblyConnector);
                        }
                      } else {
                        SNode fromPort = AbstractComponentInstanceBase__BehaviorDescriptor.findPortByID_idsiw10GLvYX.invoke(fromInstance, from.getPortName());
                        SNode toPort = AbstractComponentInstanceBase__BehaviorDescriptor.findPortByID_idsiw10GLvYX.invoke(toInstance, to.getPortName());
                        if (SNodeOperations.getNodeAncestor(toNode, CONCEPTS.Component$gR, false, false) == fromComponent) {
                          ComponentSubstructureDiagramHelper.createConnector(fromPort, toInstance, to.getPortName());
                        } else {
                          ComponentSubstructureDiagramHelper.createConnector(toPort, fromInstance, from.getPortName());
                        }
                      }
                    }
                  }

                }));
                return connectionTypes;
              }





















              @Override
              public boolean runAutoLayoutOnInit() {
                boolean autoLayoutFlag = false;
                return autoLayoutFlag;
              }

              @Override
              public boolean runAutoLayoutOnChange() {
                boolean autoLayoutFlag = false;
                return autoLayoutFlag;
              }

              @Override
              public boolean fitToSizeOnInit() {
                boolean fitToSize = false;
                return fitToSize;
              }

              @Override
              public boolean disableNodeEditing() {
                boolean disableEditing = false;
                return disableEditing;
              }

              @Override
              public boolean syncWithModelOnlyOnOpening() {
                boolean flag = false;
                return flag;
              }

              @Override
              public boolean allowElementsToBeBelowRequiredSize() {
                boolean flag = false;
                return flag;
              }

              @Override
              public boolean showGrid() {
                boolean flag = false;
                return flag;
              }

              @Override
              public int getGridSize() {
                int size = 10;
                return size;
              }


              @Override
              public int getGridStyle() {
                try {
                  return mxGraphComponent.class.getDeclaredField("GRID_STYLE_DOT").getInt(null);
                } catch (Exception ex) {
                  return 0;
                }
              }

              @Override
              public Color getGridColor() {
                Color color = null;
                return color;
              }

              @Override
              public boolean useGridSnapping() {
                boolean flag = false;
                return flag;
              }


              @Override
              public double getArrowKeyMoveAmount() {
                double amount = MyGraphComponent.DEFAULT_ARROW_KEY_MOVE_AMOUNT;
                return amount;
              }

              @Override
              public double getArrowKeyMoveAmountSlow() {
                double amount = MyGraphComponent.DEFAULT_ARROW_KEY_MOVE_AMOUNT_SLOW;
                return amount;
              }

              @Override
              public double getPanAmount() {
                double amount = MyGraphComponent.DEFAULT_PAN_AMOUNT;
                return amount;
              }

              @Override
              public double getPanAmountSlow() {
                double amount = MyGraphComponent.DEFAULT_PAN_AMOUNT_SLOW;
                return amount;
              }

              @Override
              public double getMinimumScale() {
                double scale = MyGraphComponent.DEFAULT_MINIMUM_SCALE;
                return scale;
              }
            };

            model.setDiagramAccessor(accessor);

            IPaletteEntryProvider paletteEntryProvider = new CompositePaletteEntryProvider(new AbstractPaletteEntryProvider() {
              @Override
              public Iterable<IPaletteEntry> getEntries() {
                Iterable<SNode> components = SNodeOperations.ofConcept(IVisibleElementProvider__BehaviorDescriptor.visibleContentsOfTypeAsSequence_id3g6LnlWuSo8.invoke(SNodeOperations.getNodeAncestor(node, CONCEPTS.IVisibleElementProvider$$O, false, false), CONCEPTS.Component$gR), CONCEPTS.Component$gR);
                return Sequence.fromIterable(components).select((final SNode it) -> {
                  return new AbstractPaletteEntry() {
                    public Icon getIcon() {
                      return (Icon) Component__BehaviorDescriptor.getComponentIconSmall_id7jwD7MQjeSk.invoke(it);
                    }
                    @NotNull
                    public String getText() {
                      return SPropertyOperations.getString(it, PROPS.name$MnvL);
                    }
                    @NotNull
                    public SAbstractConcept getOutputConcept() {
                      return CONCEPTS.ComponentInstance$7c;
                    }
                    @NotNull
                    public SNode execute() {
                      SNode ci = createComponentInstance_7coxxm_a0a0d0a0a0a0a1a0c0a(it);
                      NodeFactoryManager.setupNode(CONCEPTS.ComponentInstance$7c, ci, null, Component__BehaviorDescriptor.compSubstructure_idx8tpSA1Tv5.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(node)), SNodeOperations.getModel(node));
                      ListSequence.fromList(SLinkOperations.getChildren(Component__BehaviorDescriptor.compSubstructure_idx8tpSA1Tv5.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(node)), LINKS.contents$7e9r)).addElement(ci);
                      return ci;
                    }
                    public String getFolderName() {
                      return SPropertyOperations.getString(SNodeOperations.getNodeAncestor(it, CONCEPTS.Chunk$sT, false, false), PROPS.name$MnvL);
                    }
                    public boolean isValidReplacement(IPaletteEntry replacement) {
                      return Objects.equals(replacement.getText(), this.getText()) && Objects.equals(replacement.getOutputConcept(), this.getOutputConcept());
                    }
                  };
                });
              }
            }, new AbstractPaletteEntryProvider() {
              @Override
              public Iterable<IPaletteEntry> getEntries() {
                IPaletteEntry newSubcompEntry = new AbstractPaletteEntry() {
                  @Nullable
                  public Icon getIcon() {
                    return (Icon) IComponentsChunkContent__BehaviorDescriptor.getIcon_id2JYumEA$tiF.invoke(SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e484601L, "org.iets3.components.core.structure.Component")));
                  }
                  @NotNull
                  public String getText() {
                    return "New Subcomponent";
                  }
                  @NotNull
                  public SAbstractConcept getOutputConcept() {
                    return CONCEPTS.ComponentInstance$7c;
                  }
                  @NotNull
                  public SNode execute() {
                    SNode existingComponent = AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(node);
                    SAbstractConcept componentConcept = ValidReplacementHelper.findValidReplacementConcept(existingComponent, CONCEPTS.Component$gR, new SubstituteInfoFactory(getEditorContext(), node));
                    SNode newComponent = SNodeOperations.cast(NodeFactoryManager.createNode(componentConcept, null, SNodeOperations.getParent(existingComponent), SNodeOperations.getModel(existingComponent)), CONCEPTS.Component$gR);
                    if (isEmptyString(SPropertyOperations.getString(newComponent, PROPS.name$MnvL))) {
                      SPropertyOperations.assign(newComponent, PROPS.name$MnvL, "NewComponent");
                    }

                    SNodeOperations.insertNextSiblingChild(existingComponent, newComponent);
                    SNode ci = createComponentInstance_7coxxm_a0g0d0a0a0a1c0a(newComponent);
                    if ((Component__BehaviorDescriptor.compSubstructure_idx8tpSA1Tv5.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(node)) == null)) {
                      SNodeFactoryOperations.addNewChild(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(node), LINKS.contents$i4tX, CONCEPTS.ComponentSubstructure$oB);
                    }
                    NodeFactoryManager.setupNode(CONCEPTS.ComponentInstance$7c, ci, null, Component__BehaviorDescriptor.compSubstructure_idx8tpSA1Tv5.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(node)), SNodeOperations.getModel(node));
                    ListSequence.fromList(SLinkOperations.getChildren(Component__BehaviorDescriptor.compSubstructure_idx8tpSA1Tv5.invoke(AbstractComponentInstanceBase__BehaviorDescriptor.component_id77HYM7H$sfU.invoke(node)), LINKS.contents$7e9r)).addElement(ci);
                    return ci;
                  }
                  @Nullable
                  public String getFolderName() {
                    return null;
                  }
                  public boolean isValidReplacement(IPaletteEntry replacement) {
                    return Objects.equals(replacement.getText(), this.getText()) && Objects.equals(replacement.getOutputConcept(), this.getOutputConcept());
                  }
                };
                return Sequence.<IPaletteEntry>singleton(newSubcompEntry);
              }
            });
            model.setPaletteEntryProvider(paletteEntryProvider);

            if (DiagramCreationContext.isSubdiagram()) {
              editorCell.value = new SubDiagramECell(editorContext, node, model);
            } else {
              editorCell.value = new RootDiagramECell(editorContext, node, model);
              RootDiagramECell rootCell = (RootDiagramECell) editorCell.value;
              if (rootCell.showInViewer()) {
                JButton openedInViewer = new JButton("open diagram in editor");
                openedInViewer.setOpaque(false);
                openedInViewer.addActionListener(new ActionListener() {
                  @Override
                  public void actionPerformed(ActionEvent e) {
                    Project mpsProject = ProjectHelper.getProject(editorContext.getRepository());
                    if (mpsProject == null) {
                      return;
                    }
                    com.intellij.openapi.project.Project ideaProject = ProjectHelper.toIdeaProject(mpsProject);
                    if (ideaProject == null) {
                      return;
                    }

                    DiagramActionsUtil.updateViewer(ideaProject, rootCell, editorContext.getEditorComponent());
                  }
                });
                alternativeCell.value = new EditorCell_Component(editorContext, node, openedInViewer);
                return;
              }
              rootCell.runAutoLayouterOnInit(node, accessor.runAutoLayoutOnInit());
              rootCell.fitToSizeOnInit(node, accessor.fitToSizeOnInit());
              if (accessor.disableNodeEditing()) {
                rootCell.getGraph().getGraphComponent().getCellEditor().setDisabled(true);
              }
            }
            editorCell.value.setCellId("Diagram_7coxxm_c0a");

            if (editorCell.value.getContextGraph() != null) {
              Object defaultParent = editorCell.value.getContextGraph().getDefaultParent();
              if (defaultParent instanceof RootDCell) {
                RootDCell rootDCell = ((RootDCell) defaultParent);
                rootDCell.resetButtonConfig();
              }
            }
          });
        });
      });
    });


    if (alternativeCell.value != null) {
      return alternativeCell.value;
    }
    return editorCell.value;
  }
  private EditorCell createDiagram_1() {
    return createDiagram_0(getEditorContext(), myNode);
  }
  private EditorCell createComponent_2() {
    EditorCell editorCell = getCellFactory().createEditorComponentCell(myNode, "org.iets3.components.core.editor.ComponentInstanceBase_Diagram_Footer");
    return editorCell;
  }
  /*package*/ static class Inline_Builder_7coxxm_a0a0 extends AbstractEditorBuilder {
    @NotNull
    private SNode myNode;

    /*package*/ Inline_Builder_7coxxm_a0a0(@NotNull EditorContext context, @NotNull SNode node) {
      super(context);
      myNode = node;
    }

    /*package*/ EditorCell createCell() {
      return createQueryList_1();
    }

    @NotNull
    @Override
    public SNode getNode() {
      return myNode;
    }

    private EditorCell createQueryList_0(final EditorContext editorContext, final SNode node) {

      return QueryListContext.computeWithContext(new QueryListContext(node), () -> {
        QueryListHandler handler = new QueryListHandler_7coxxm_a0a0a(editorContext, node);
        EditorCell_QueryList editorCell = handler.createCells(new CellLayout_Horizontal());
        editorCell.setTargeConcept(CONCEPTS.BaseConcept$gP);
        editorCell.setOwner(SNodeOperations.getConcept(node));
        editorCell.setCellId("QueryList_7coxxm_a0a0a");
        Style style = new StyleImpl();
        style.set(StyleAttributes.READ_ONLY, true);
        editorCell.getStyle().putAll(style);
        return editorCell;
      });

    }
    private EditorCell createQueryList_1() {
      return createQueryList_0(getEditorContext(), myNode);
    }
    private static class QueryListHandler_7coxxm_a0a0a extends QueryListHandler {
      private SNode myNode;
      public QueryListHandler_7coxxm_a0a0a(EditorContext context, SNode ownerNode) {
        super(context, ownerNode, true);
        myNode = ownerNode;
      }
      @NotNull
      @Override
      public SNode getNode() {
        return myNode;
      }
      public String getElementRole() {
        return null;
      }
      public SConceptFeature getElementSRole() {
        return null;
      }
      public EditorCell createNodeCell(SNode elementNode) {
        EditorCell elementCell = super.createNodeCell(elementNode);
        this.installElementCellActions(getNode(), elementNode, elementCell, getEditorContext());
        return elementCell;
      }
      @Override
      public EditorCell createEmptyCell() {
        EditorCell emptyCell = null;
        emptyCell = super.createEmptyCell();
        this.installElementCellActions(getNode(), null, emptyCell, getEditorContext());
        return postProcessEmptyCell(emptyCell);
      }
      public void installElementCellActions(SNode listOwner, SNode elementNode, EditorCell elementCell, EditorContext editorContext) {
        if (elementCell.getUserObject(AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET) == null) {
          elementCell.putUserObject(AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET, AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET);
          if (elementNode != null) {

            elementCell.setAction(CellActionType.DELETE, new CellAction_DeleteNode(elementNode));
            elementCell.setAction(CellActionType.BACKSPACE, new CellAction_DeleteNode(elementNode));


          }
          if (elementCell.getSubstituteInfo() == null) {
            elementCell.setSubstituteInfo(getSubstituteInfo(elementNode));
          }
        }
      }
      private Object executeQuery(final SNode node, final EditorContext editorContext) {
        return (SNode) IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(((SNode) ContextVariables.getCurrent().getValue("portObject")), LINKS.type$5Gl6));
      }
      @Override
      public Iterable<SNode> getNodesForList(final SNode node) {
        Object queryResult = executeQuery(node, getEditorContext());
        if (queryResult instanceof Iterable) {
          return (Iterable<SNode>) queryResult;
        } else {
          return Sequence.<SNode>singleton((SNode) queryResult);
        }
      }
      @Override
      public SubstituteInfo getSubstituteInfo(final SNode node, final SNode childNode, final com.mbeddr.mpsutil.editor.querylist.runtime.SubstituteInfoFactory factory, final EditorContext editorContext) {
        return factory.forChild(childNode);
      }
      @Override
      public void insertNewNode(final SNode node, final SNode anchorNode, final boolean insertBefore, final EditorContext editorContext) {
      }
      @Override
      public void deleteNode(final SNode node, final SNode nodeToDelete, final EditorContext editorContext) {
      }
      @Override
      protected EditorCell createNodeCellNotNull(final EditorContext context, @NotNull final SNode node) {
        EditorCell cell;
        getCellFactory().pushCellContext();
        try {
          getCellFactory().setNodeLocation(new SNodeLocation.FromNode(node));
          cell = createCellDuplicatesSafe(() -> context.getEditorComponent().getUpdater().getCurrentUpdateSession().updateReferencedNodeCell(() -> context.getEditorComponent().getUpdater().getCurrentUpdateSession().updateChildNodeCell(node), node, new DummyReferenceLink("querylist3048694072722059747")));
        } finally {
          getCellFactory().popCellContext();
        }
        return cell;
      }

      private jetbrains.mps.openapi.editor.cells.EditorCell_Collection wrapWithCollection(EditorCell cell) {
        jetbrains.mps.openapi.editor.cells.EditorCell_Collection collection = EditorCell_Collection.createIndent2(getEditorContext(), getNode());
        collection.addEditorCell(cell);
        return collection;
      }

    }
  }
  /*package*/ static class Inline_Builder_7coxxm_a0b0 extends AbstractEditorBuilder {
    @NotNull
    private SNode myNode;

    /*package*/ Inline_Builder_7coxxm_a0b0(@NotNull EditorContext context, @NotNull SNode node) {
      super(context);
      myNode = node;
    }

    /*package*/ EditorCell createCell() {
      return createQueryList_3();
    }

    @NotNull
    @Override
    public SNode getNode() {
      return myNode;
    }

    private EditorCell createQueryList_2(final EditorContext editorContext, final SNode node) {

      return QueryListContext.computeWithContext(new QueryListContext(node), () -> {
        QueryListHandler handler = new QueryListHandler_7coxxm_a0a1a(editorContext, node);
        EditorCell_QueryList editorCell = handler.createCells(new CellLayout_Horizontal());
        editorCell.setTargeConcept(CONCEPTS.BaseConcept$gP);
        editorCell.setOwner(SNodeOperations.getConcept(node));
        editorCell.setCellId("QueryList_7coxxm_a0a1a");
        Style style = new StyleImpl();
        style.set(StyleAttributes.READ_ONLY, true);
        editorCell.getStyle().putAll(style);
        return editorCell;
      });

    }
    private EditorCell createQueryList_3() {
      return createQueryList_2(getEditorContext(), myNode);
    }
    private static class QueryListHandler_7coxxm_a0a1a extends QueryListHandler {
      private SNode myNode;
      public QueryListHandler_7coxxm_a0a1a(EditorContext context, SNode ownerNode) {
        super(context, ownerNode, true);
        myNode = ownerNode;
      }
      @NotNull
      @Override
      public SNode getNode() {
        return myNode;
      }
      public String getElementRole() {
        return null;
      }
      public SConceptFeature getElementSRole() {
        return null;
      }
      public EditorCell createNodeCell(SNode elementNode) {
        EditorCell elementCell = super.createNodeCell(elementNode);
        this.installElementCellActions(getNode(), elementNode, elementCell, getEditorContext());
        return elementCell;
      }
      @Override
      public EditorCell createEmptyCell() {
        EditorCell emptyCell = null;
        emptyCell = super.createEmptyCell();
        this.installElementCellActions(getNode(), null, emptyCell, getEditorContext());
        return postProcessEmptyCell(emptyCell);
      }
      public void installElementCellActions(SNode listOwner, SNode elementNode, EditorCell elementCell, EditorContext editorContext) {
        if (elementCell.getUserObject(AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET) == null) {
          elementCell.putUserObject(AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET, AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET);
          if (elementNode != null) {

            elementCell.setAction(CellActionType.DELETE, new CellAction_DeleteNode(elementNode));
            elementCell.setAction(CellActionType.BACKSPACE, new CellAction_DeleteNode(elementNode));


          }
          if (elementCell.getSubstituteInfo() == null) {
            elementCell.setSubstituteInfo(getSubstituteInfo(elementNode));
          }
        }
      }
      private Object executeQuery(final SNode node, final EditorContext editorContext) {
        return (SNode) IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(((SNode) ContextVariables.getCurrent().getValue("portObject")), LINKS.type$5Gl6));
      }
      @Override
      public Iterable<SNode> getNodesForList(final SNode node) {
        Object queryResult = executeQuery(node, getEditorContext());
        if (queryResult instanceof Iterable) {
          return (Iterable<SNode>) queryResult;
        } else {
          return Sequence.<SNode>singleton((SNode) queryResult);
        }
      }
      @Override
      public SubstituteInfo getSubstituteInfo(final SNode node, final SNode childNode, final com.mbeddr.mpsutil.editor.querylist.runtime.SubstituteInfoFactory factory, final EditorContext editorContext) {
        return factory.forChild(childNode);
      }
      @Override
      public void insertNewNode(final SNode node, final SNode anchorNode, final boolean insertBefore, final EditorContext editorContext) {
      }
      @Override
      public void deleteNode(final SNode node, final SNode nodeToDelete, final EditorContext editorContext) {
      }
      @Override
      protected EditorCell createNodeCellNotNull(final EditorContext context, @NotNull final SNode node) {
        EditorCell cell;
        getCellFactory().pushCellContext();
        try {
          getCellFactory().setNodeLocation(new SNodeLocation.FromNode(node));
          cell = createCellDuplicatesSafe(() -> context.getEditorComponent().getUpdater().getCurrentUpdateSession().updateReferencedNodeCell(() -> context.getEditorComponent().getUpdater().getCurrentUpdateSession().updateChildNodeCell(node), node, new DummyReferenceLink("querylist7971844778465697892")));
        } finally {
          getCellFactory().popCellContext();
        }
        return cell;
      }

      private jetbrains.mps.openapi.editor.cells.EditorCell_Collection wrapWithCollection(EditorCell cell) {
        jetbrains.mps.openapi.editor.cells.EditorCell_Collection collection = EditorCell_Collection.createIndent2(getEditorContext(), getNode());
        collection.addEditorCell(cell);
        return collection;
      }

    }
  }
  /*package*/ static class Inline_Builder_7coxxm_a0c0 extends AbstractEditorBuilder {
    @NotNull
    private SNode myNode;

    /*package*/ Inline_Builder_7coxxm_a0c0(@NotNull EditorContext context, @NotNull SNode node) {
      super(context);
      myNode = node;
    }

    /*package*/ EditorCell createCell() {
      return createQueryList_5();
    }

    @NotNull
    @Override
    public SNode getNode() {
      return myNode;
    }

    private EditorCell createQueryList_4(final EditorContext editorContext, final SNode node) {

      return QueryListContext.computeWithContext(new QueryListContext(node), () -> {
        QueryListHandler handler = new QueryListHandler_7coxxm_a0a2a(editorContext, node);
        EditorCell_QueryList editorCell = handler.createCells(new CellLayout_Horizontal());
        editorCell.setTargeConcept(CONCEPTS.BaseConcept$gP);
        editorCell.setOwner(SNodeOperations.getConcept(node));
        editorCell.setCellId("QueryList_7coxxm_a0a2a");
        Style style = new StyleImpl();
        style.set(StyleAttributes.READ_ONLY, true);
        editorCell.getStyle().putAll(style);
        return editorCell;
      });

    }
    private EditorCell createQueryList_5() {
      return createQueryList_4(getEditorContext(), myNode);
    }
    private static class QueryListHandler_7coxxm_a0a2a extends QueryListHandler {
      private SNode myNode;
      public QueryListHandler_7coxxm_a0a2a(EditorContext context, SNode ownerNode) {
        super(context, ownerNode, true);
        myNode = ownerNode;
      }
      @NotNull
      @Override
      public SNode getNode() {
        return myNode;
      }
      public String getElementRole() {
        return null;
      }
      public SConceptFeature getElementSRole() {
        return null;
      }
      public EditorCell createNodeCell(SNode elementNode) {
        EditorCell elementCell = super.createNodeCell(elementNode);
        this.installElementCellActions(getNode(), elementNode, elementCell, getEditorContext());
        return elementCell;
      }
      @Override
      public EditorCell createEmptyCell() {
        EditorCell emptyCell = null;
        emptyCell = super.createEmptyCell();
        this.installElementCellActions(getNode(), null, emptyCell, getEditorContext());
        return postProcessEmptyCell(emptyCell);
      }
      public void installElementCellActions(SNode listOwner, SNode elementNode, EditorCell elementCell, EditorContext editorContext) {
        if (elementCell.getUserObject(AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET) == null) {
          elementCell.putUserObject(AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET, AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET);
          if (elementNode != null) {

            elementCell.setAction(CellActionType.DELETE, new CellAction_DeleteNode(elementNode));
            elementCell.setAction(CellActionType.BACKSPACE, new CellAction_DeleteNode(elementNode));


          }
          if (elementCell.getSubstituteInfo() == null) {
            elementCell.setSubstituteInfo(getSubstituteInfo(elementNode));
          }
        }
      }
      private Object executeQuery(final SNode node, final EditorContext editorContext) {
        return (SNode) IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(((SNode) ContextVariables.getCurrent().getValue("portObject")), LINKS.type$5Gl6));
      }
      @Override
      public Iterable<SNode> getNodesForList(final SNode node) {
        Object queryResult = executeQuery(node, getEditorContext());
        if (queryResult instanceof Iterable) {
          return (Iterable<SNode>) queryResult;
        } else {
          return Sequence.<SNode>singleton((SNode) queryResult);
        }
      }
      @Override
      public SubstituteInfo getSubstituteInfo(final SNode node, final SNode childNode, final com.mbeddr.mpsutil.editor.querylist.runtime.SubstituteInfoFactory factory, final EditorContext editorContext) {
        return factory.forChild(childNode);
      }
      @Override
      public void insertNewNode(final SNode node, final SNode anchorNode, final boolean insertBefore, final EditorContext editorContext) {
      }
      @Override
      public void deleteNode(final SNode node, final SNode nodeToDelete, final EditorContext editorContext) {
      }
      @Override
      protected EditorCell createNodeCellNotNull(final EditorContext context, @NotNull final SNode node) {
        EditorCell cell;
        getCellFactory().pushCellContext();
        try {
          getCellFactory().setNodeLocation(new SNodeLocation.FromNode(node));
          cell = createCellDuplicatesSafe(() -> context.getEditorComponent().getUpdater().getCurrentUpdateSession().updateReferencedNodeCell(() -> context.getEditorComponent().getUpdater().getCurrentUpdateSession().updateChildNodeCell(node), node, new DummyReferenceLink("querylist3048694072722714940")));
        } finally {
          getCellFactory().popCellContext();
        }
        return cell;
      }

      private jetbrains.mps.openapi.editor.cells.EditorCell_Collection wrapWithCollection(EditorCell cell) {
        jetbrains.mps.openapi.editor.cells.EditorCell_Collection collection = EditorCell_Collection.createIndent2(getEditorContext(), getNode());
        collection.addEditorCell(cell);
        return collection;
      }

    }
  }
  /*package*/ static class Inline_Builder_7coxxm_a0d0 extends AbstractEditorBuilder {
    @NotNull
    private SNode myNode;

    /*package*/ Inline_Builder_7coxxm_a0d0(@NotNull EditorContext context, @NotNull SNode node) {
      super(context);
      myNode = node;
    }

    /*package*/ EditorCell createCell() {
      return createQueryList_7();
    }

    @NotNull
    @Override
    public SNode getNode() {
      return myNode;
    }

    private EditorCell createQueryList_6(final EditorContext editorContext, final SNode node) {

      return QueryListContext.computeWithContext(new QueryListContext(node), () -> {
        QueryListHandler handler = new QueryListHandler_7coxxm_a0a3a(editorContext, node);
        EditorCell_QueryList editorCell = handler.createCells(new CellLayout_Horizontal());
        editorCell.setTargeConcept(CONCEPTS.BaseConcept$gP);
        editorCell.setOwner(SNodeOperations.getConcept(node));
        editorCell.setCellId("QueryList_7coxxm_a0a3a");
        Style style = new StyleImpl();
        style.set(StyleAttributes.READ_ONLY, true);
        editorCell.getStyle().putAll(style);
        return editorCell;
      });

    }
    private EditorCell createQueryList_7() {
      return createQueryList_6(getEditorContext(), myNode);
    }
    private static class QueryListHandler_7coxxm_a0a3a extends QueryListHandler {
      private SNode myNode;
      public QueryListHandler_7coxxm_a0a3a(EditorContext context, SNode ownerNode) {
        super(context, ownerNode, true);
        myNode = ownerNode;
      }
      @NotNull
      @Override
      public SNode getNode() {
        return myNode;
      }
      public String getElementRole() {
        return null;
      }
      public SConceptFeature getElementSRole() {
        return null;
      }
      public EditorCell createNodeCell(SNode elementNode) {
        EditorCell elementCell = super.createNodeCell(elementNode);
        this.installElementCellActions(getNode(), elementNode, elementCell, getEditorContext());
        return elementCell;
      }
      @Override
      public EditorCell createEmptyCell() {
        EditorCell emptyCell = null;
        emptyCell = super.createEmptyCell();
        this.installElementCellActions(getNode(), null, emptyCell, getEditorContext());
        return postProcessEmptyCell(emptyCell);
      }
      public void installElementCellActions(SNode listOwner, SNode elementNode, EditorCell elementCell, EditorContext editorContext) {
        if (elementCell.getUserObject(AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET) == null) {
          elementCell.putUserObject(AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET, AbstractCellListHandler.ELEMENT_CELL_ACTIONS_SET);
          if (elementNode != null) {

            elementCell.setAction(CellActionType.DELETE, new CellAction_DeleteNode(elementNode));
            elementCell.setAction(CellActionType.BACKSPACE, new CellAction_DeleteNode(elementNode));


          }
          if (elementCell.getSubstituteInfo() == null) {
            elementCell.setSubstituteInfo(getSubstituteInfo(elementNode));
          }
        }
      }
      private Object executeQuery(final SNode node, final EditorContext editorContext) {
        return (SNode) IPortType__BehaviorDescriptor.getReferencedNode_idsiw10GjEcX.invoke(SLinkOperations.getTarget(((SNode) ContextVariables.getCurrent().getValue("portObject")), LINKS.type$5Gl6));
      }
      @Override
      public Iterable<SNode> getNodesForList(final SNode node) {
        Object queryResult = executeQuery(node, getEditorContext());
        if (queryResult instanceof Iterable) {
          return (Iterable<SNode>) queryResult;
        } else {
          return Sequence.<SNode>singleton((SNode) queryResult);
        }
      }
      @Override
      public SubstituteInfo getSubstituteInfo(final SNode node, final SNode childNode, final com.mbeddr.mpsutil.editor.querylist.runtime.SubstituteInfoFactory factory, final EditorContext editorContext) {
        return factory.forChild(childNode);
      }
      @Override
      public void insertNewNode(final SNode node, final SNode anchorNode, final boolean insertBefore, final EditorContext editorContext) {
      }
      @Override
      public void deleteNode(final SNode node, final SNode nodeToDelete, final EditorContext editorContext) {
      }
      @Override
      protected EditorCell createNodeCellNotNull(final EditorContext context, @NotNull final SNode node) {
        EditorCell cell;
        getCellFactory().pushCellContext();
        try {
          getCellFactory().setNodeLocation(new SNodeLocation.FromNode(node));
          cell = createCellDuplicatesSafe(() -> context.getEditorComponent().getUpdater().getCurrentUpdateSession().updateReferencedNodeCell(() -> context.getEditorComponent().getUpdater().getCurrentUpdateSession().updateChildNodeCell(node), node, new DummyReferenceLink("querylist3048694072722715770")));
        } finally {
          getCellFactory().popCellContext();
        }
        return cell;
      }

      private jetbrains.mps.openapi.editor.cells.EditorCell_Collection wrapWithCollection(EditorCell cell) {
        jetbrains.mps.openapi.editor.cells.EditorCell_Collection collection = EditorCell_Collection.createIndent2(getEditorContext(), getNode());
        collection.addEditorCell(cell);
        return collection;
      }

    }
  }
  private static SNode createPort_7coxxm_a0b0c0d0h0a0c0a(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.Port$gs);
    n0.forChild(LINKS.type$5Gl6).initNode(p0, CONCEPTS.IPortType$DL, true);
    n0.forChild(LINKS.category$WD4l).initNode(p1, CONCEPTS.PortCategory$Wm, true);
    return n0.getResult();
  }
  private static SNode createPort_7coxxm_a0b0b0a2a3a7a0a2a0(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.Port$gs);
    n0.forChild(LINKS.type$5Gl6).initNode(p0, CONCEPTS.IPortType$DL, true);
    n0.forChild(LINKS.category$WD4l).initNode(p1, CONCEPTS.PortCategory$Wm, true);
    return n0.getResult();
  }
  private static SNode createAssemblyConnector_7coxxm_a0a0f0d0h0a0c0a(SNode p0, SNode p1, SNode p2, SNode p3, SNode p4) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.AssemblyConnector$qU);
    n0.forChild(LINKS.connectorType$8zQx).initNode(p0, CONCEPTS.IConnectorType$F7, true);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.sourceInstance$LjmV).init(CONCEPTS.InstanceRef$Gm);
      n1.setReferenceTarget(LINKS.ref$H$FL, p1);
    }
    n0.setReferenceTarget(LINKS.sourcePort$ZLvQ, p2);
    {
      SNodeBuilder n2 = n0.forChild(LINKS.targetInstance$RipR).init(CONCEPTS.InstanceRef$Gm);
      n2.setReferenceTarget(LINKS.ref$H$FL, p3);
    }
    n0.setReferenceTarget(LINKS.targetPort$ZZ$M, p4);
    return n0.getResult();
  }
  private static SNode createAssemblyConnector_7coxxm_a0a0a5a3a7a0a2a0(SNode p0, SNode p1, SNode p2, SNode p3, SNode p4) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.AssemblyConnector$qU);
    n0.forChild(LINKS.connectorType$8zQx).initNode(p0, CONCEPTS.IConnectorType$F7, true);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.sourceInstance$LjmV).init(CONCEPTS.InstanceRef$Gm);
      n1.setReferenceTarget(LINKS.ref$H$FL, p1);
    }
    n0.setReferenceTarget(LINKS.sourcePort$ZLvQ, p2);
    {
      SNodeBuilder n2 = n0.forChild(LINKS.targetInstance$RipR).init(CONCEPTS.InstanceRef$Gm);
      n2.setReferenceTarget(LINKS.ref$H$FL, p3);
    }
    n0.setReferenceTarget(LINKS.targetPort$ZZ$M, p4);
    return n0.getResult();
  }
  private static SNode createComponentInstance_7coxxm_a0a0d0a0a0a0a1a0c0a(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ComponentInstance$7c);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.component$xlLY).init(CONCEPTS.ComponentRef$BR);
      n1.setReferenceTarget(LINKS.ref$KPLr, p0);
    }
    return n0.getResult();
  }
  private static SNode createComponentInstance_7coxxm_a0g0d0a0a0a1c0a(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ComponentInstance$7c);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.component$xlLY).init(CONCEPTS.ComponentRef$BR);
      n1.setReferenceTarget(LINKS.ref$KPLr, p0);
    }
    return n0.getResult();
  }
  private static <T> T as_icku6c_a0a0a5a11(Object o, Class<T> type) {
    return (type.isInstance(o) ? (T) o : null);
  }
  private static boolean isEmptyString(String str) {
    return str == null || str.isEmpty();
  }

  private static final class PROPS {
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink type$5Gl6 = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e51937cL, 0x6c4f9fd23e566372L, "type");
    /*package*/ static final SContainmentLink category$WD4l = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e51937cL, 0x5aed9484f65f1e5L, "category");
    /*package*/ static final SContainmentLink kind$8cnO = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e484601L, 0x6c4f9fd23e4c96f7L, "kind");
    /*package*/ static final SContainmentLink contents$7e9r = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x71280102b4ce9cdL, 0x71280102b4ce9ceL, "contents");
    /*package*/ static final SContainmentLink sourceInstance$LjmV = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x7fdf70a1447d7f1aL, 0x7fdf70a1447e06a1L, "sourceInstance");
    /*package*/ static final SReferenceLink ref$H$FL = MetaAdapterFactory.getReferenceLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x7fdf70a1447d7f29L, 0x7fdf70a1447d7f36L, "ref");
    /*package*/ static final SContainmentLink targetInstance$RipR = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x7fdf70a1447d7f1aL, 0x7fdf70a1447f1d65L, "targetInstance");
    /*package*/ static final SContainmentLink contents$i4tX = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e484601L, 0x6c4f9fd23e48465cL, "contents");
    /*package*/ static final SContainmentLink connectorType$8zQx = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x3a8867c74e876c3fL, 0x3a8867c74e88330cL, "connectorType");
    /*package*/ static final SReferenceLink sourcePort$ZLvQ = MetaAdapterFactory.getReferenceLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x7fdf70a1447d7f1aL, 0x32f64a31a05d502L, "sourcePort");
    /*package*/ static final SReferenceLink targetPort$ZZ$M = MetaAdapterFactory.getReferenceLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x7fdf70a1447d7f1aL, 0x32f64a31a05d514L, "targetPort");
    /*package*/ static final SContainmentLink component$xlLY = MetaAdapterFactory.getContainmentLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x2fa41bd61d1549deL, 0x2fa41bd61d154b21L, "component");
    /*package*/ static final SReferenceLink ref$KPLr = MetaAdapterFactory.getReferenceLink(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e4b67eeL, 0x6c4f9fd23e4b67efL, "ref");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept ComponentSubstructure$oB = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x71280102b4ce9cdL, "org.iets3.components.core.structure.ComponentSubstructure");
    /*package*/ static final SConcept AssemblyConnector$qU = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x7fdf70a1447d7f1aL, "org.iets3.components.core.structure.AssemblyConnector");
    /*package*/ static final SInterfaceConcept IEmpty$6_ = MetaAdapterFactory.getInterfaceConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0xe900768cf47dcc3L, "com.mbeddr.core.base.structure.IEmpty");
    /*package*/ static final SConcept Port$gs = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e51937cL, "org.iets3.components.core.structure.Port");
    /*package*/ static final SConcept AbstractComponentInstanceBase$QW = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x71edfb21ed616471L, "org.iets3.components.core.structure.AbstractComponentInstanceBase");
    /*package*/ static final SConcept Component$gR = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e484601L, "org.iets3.components.core.structure.Component");
    /*package*/ static final SInterfaceConcept IVisibleElementProvider$$O = MetaAdapterFactory.getInterfaceConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0x6315bcc6eff580a3L, "com.mbeddr.core.base.structure.IVisibleElementProvider");
    /*package*/ static final SConcept ComponentInstance$7c = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e558729L, "org.iets3.components.core.structure.ComponentInstance");
    /*package*/ static final SConcept Chunk$sT = MetaAdapterFactory.getConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0x6315bcc6effb4ea6L, "com.mbeddr.core.base.structure.Chunk");
    /*package*/ static final SConcept BaseConcept$gP = MetaAdapterFactory.getConcept(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x10802efe25aL, "jetbrains.mps.lang.core.structure.BaseConcept");
    /*package*/ static final SInterfaceConcept IPortType$DL = MetaAdapterFactory.getInterfaceConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e566371L, "org.iets3.components.core.structure.IPortType");
    /*package*/ static final SConcept PortCategory$Wm = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x71280102d0186c2L, "org.iets3.components.core.structure.PortCategory");
    /*package*/ static final SInterfaceConcept IConnectorType$F7 = MetaAdapterFactory.getInterfaceConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x4c293bba48709df1L, "org.iets3.components.core.structure.IConnectorType");
    /*package*/ static final SConcept InstanceRef$Gm = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x7fdf70a1447d7f29L, "org.iets3.components.core.structure.InstanceRef");
    /*package*/ static final SConcept ComponentRef$BR = MetaAdapterFactory.getConcept(0xf0fd486f857743e9L, 0xb6713d118449c6e7L, 0x6c4f9fd23e4b67eeL, "org.iets3.components.core.structure.ComponentRef");
  }
}
