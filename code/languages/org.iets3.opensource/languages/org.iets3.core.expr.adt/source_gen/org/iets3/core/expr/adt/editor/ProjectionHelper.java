package org.iets3.core.expr.adt.editor;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;

public class ProjectionHelper {

  public static boolean projectAsTree(SNode term) {
    return ListSequence.fromList(SNodeOperations.getNodeAncestors(term, CONCEPTS.AlgebraicTerm$x9, true)).any((it) -> it.getUserObject("___tree") != null);
  }


  public static void toggleTree(SNode term) {
    if (projectAsTree(term)) {
      term.putUserObject("___tree", null);
    } else {
      term.putUserObject("___tree", true);
    }
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept AlgebraicTerm$x9 = MetaAdapterFactory.getConcept(0x5fe6cb132fbd4e21L, 0x9842785bdd6fc5b1L, 0x52a5783d22cb8ce4L, "org.iets3.core.expr.adt.structure.AlgebraicTerm");
  }
}
