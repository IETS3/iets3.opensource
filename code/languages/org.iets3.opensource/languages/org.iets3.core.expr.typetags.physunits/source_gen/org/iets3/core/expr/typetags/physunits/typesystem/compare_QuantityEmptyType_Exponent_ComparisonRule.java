package org.iets3.core.expr.typetags.physunits.typesystem;

/*Generated by MPS */

import jetbrains.mps.lang.typesystem.runtime.ComparisonRule_Runtime;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.typesystem.runtime.IsApplicable2Status;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.iets3.core.expr.typetags.physunits.behavior.IGroupDivision__BehaviorDescriptor;
import jetbrains.mps.smodel.SNodeMatcher;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.iets3.core.expr.typetags.physunits.behavior.IGroupPower__BehaviorDescriptor;
import java.util.Objects;
import org.iets3.core.expr.base.runtime.runtime.Fraction;
import jetbrains.mps.lang.typesystem.runtime.IsApplicableStatus;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class compare_QuantityEmptyType_Exponent_ComparisonRule extends ComparisonRule_Runtime {
  public compare_QuantityEmptyType_Exponent_ComparisonRule() {
  }
  public boolean areComparable(SNode node1, SNode node2, IsApplicable2Status status) {
    if (SNodeOperations.isInstanceOf(IGroupDivision__BehaviorDescriptor.getNumerator_id1JynhuWrSSG.invoke(node2), CONCEPTS.IGroupNeutral$mQ)) {
      {
        final SNode powerDenominator = IGroupDivision__BehaviorDescriptor.getDenominator_id1JynhuWrTer.invoke(node2);
        if (SNodeOperations.isInstanceOf(powerDenominator, CONCEPTS.IGroupPower$Z2)) {
          if (new SNodeMatcher().match(SLinkOperations.getTarget(node1, LINKS.base$cy01), IGroupPower__BehaviorDescriptor.getBase_id1JynhuWs9Jp.invoke(powerDenominator)) && Objects.equals(IGroupPower__BehaviorDescriptor.getExp_id1JynhuWslGU.invoke(node1).add(IGroupPower__BehaviorDescriptor.getExp_id1JynhuWslGU.invoke(powerDenominator)), Fraction.ZERO)) {
            return true;
          }
        }
      }
    }
    return false;
  }
  public boolean isWeak() {
    return true;
  }
  public IsApplicableStatus isApplicableFirst(SNode node) {
    return new IsApplicableStatus(node.getConcept().isSubConceptOf(getApplicableConcept1()), null);
  }
  public IsApplicableStatus isApplicableSecond(SNode node) {
    return new IsApplicableStatus(node.getConcept().isSubConceptOf(getApplicableConcept2()), null);
  }

  public SAbstractConcept getApplicableConcept1() {
    return CONCEPTS.QuantityExponentType$w8;
  }
  public SAbstractConcept getApplicableConcept2() {
    return CONCEPTS.QuantityDivisionType$KW;
  }

  private static final class CONCEPTS {
    /*package*/ static final SInterfaceConcept IGroupPower$Z2 = MetaAdapterFactory.getInterfaceConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x414a129fbfe5a6d2L, "org.iets3.core.expr.typetags.physunits.structure.IGroupPower");
    /*package*/ static final SInterfaceConcept IGroupNeutral$mQ = MetaAdapterFactory.getInterfaceConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x414a129fbffb8733L, "org.iets3.core.expr.typetags.physunits.structure.IGroupNeutral");
    /*package*/ static final SConcept QuantityExponentType$w8 = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x414a129fbf6f1edeL, "org.iets3.core.expr.typetags.physunits.structure.QuantityExponentType");
    /*package*/ static final SConcept QuantityDivisionType$KW = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x414a129fbf6f0fcaL, "org.iets3.core.expr.typetags.physunits.structure.QuantityDivisionType");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink base$cy01 = MetaAdapterFactory.getContainmentLink(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x414a129fbf6f1edeL, 0x1be25d17bc5c49dbL, "base");
  }
}
