package org.iets3.core.expr.typetags.physunits.plugin;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.iets3.core.expr.base.behavior.Type__BehaviorDescriptor;
import org.iets3.core.expr.typetags.behavior.TagHandlingCapability;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class PhysUnitTypeHelper {
  private PhysUnitTypeHelper() {
  }
  public static boolean hasSingleUnitSpecificationTag(SNode node) {
    if (SNodeOperations.isInstanceOf(node, CONCEPTS.TaggedType$O4) && Type__BehaviorDescriptor.getCapabilityRequirement_id7McqtXGyz8c.invoke(SNodeOperations.as(node, CONCEPTS.Type$WK)) instanceof TagHandlingCapability) {
      SNode taggedType = SNodeOperations.cast(node, CONCEPTS.TaggedType$O4);
      boolean hasSingleUnitSpecificationTag = ListSequence.fromList(SLinkOperations.getChildren(taggedType, LINKS.tags$Lx_i)).count() == 1 && SNodeOperations.isInstanceOf(ListSequence.fromList(SLinkOperations.getChildren(taggedType, LINKS.tags$Lx_i)).first(), CONCEPTS.UnitSpecification$6j);
      return hasSingleUnitSpecificationTag;
    }
    return false;
  }


  private static final class CONCEPTS {
    /*package*/ static final SConcept TaggedType$O4 = MetaAdapterFactory.getConcept(0x5186c6ce428c4f09L, 0xa9df73d9e86c27d3L, 0x186a8ed9947750b6L, "org.iets3.core.expr.typetags.structure.TaggedType");
    /*package*/ static final SConcept Type$WK = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x670d5e92f854a614L, "org.iets3.core.expr.base.structure.Type");
    /*package*/ static final SConcept UnitSpecification$6j = MetaAdapterFactory.getConcept(0x7ee265bd59864709L, 0x86ed2c6daa33cd8cL, 0x73b48a125b0d411dL, "org.iets3.core.expr.typetags.physunits.structure.UnitSpecification");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink tags$Lx_i = MetaAdapterFactory.getContainmentLink(0x5186c6ce428c4f09L, 0xa9df73d9e86c27d3L, 0x71bf4701bdf46b3eL, 0x186a8ed9947750b7L, "tags");
  }
}
