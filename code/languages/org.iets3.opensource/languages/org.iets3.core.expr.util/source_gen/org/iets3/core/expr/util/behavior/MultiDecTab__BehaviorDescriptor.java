package org.iets3.core.expr.util.behavior;

/*Generated by MPS */

import jetbrains.mps.core.aspects.behaviour.BaseBHDescriptor;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.core.aspects.behaviour.api.SMethod;
import jetbrains.mps.core.aspects.behaviour.SMethodBuilder;
import jetbrains.mps.core.aspects.behaviour.SJavaCompoundTypeImpl;
import jetbrains.mps.core.aspects.behaviour.AccessPrivileges;
import org.jetbrains.mps.openapi.model.SNode;
import org.iets3.core.expr.base.plugin.EffectDescriptor;
import java.util.List;
import java.util.Arrays;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.iets3.analysis.base.plugin.STF;
import org.iets3.core.expr.base.behavior.IMayHaveEffect__BehaviorDescriptor;
import jetbrains.mps.internal.collections.runtime.Sequence;
import java.util.Objects;
import jetbrains.mps.core.aspects.behaviour.api.SConstructor;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.core.aspects.behaviour.api.BHMethodNotFoundException;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;

public final class MultiDecTab__BehaviorDescriptor extends BaseBHDescriptor {
  private static final SAbstractConcept CONCEPT = MetaAdapterFactory.getConcept(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x23df2a74df65f5cL, "org.iets3.core.expr.util.structure.MultiDecTab");

  public static final SMethod<String> renderReadable_id4Y0vh0cfqjE = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("renderReadable").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5728716233893586154L).languageId(0xb66a309a6e1a7290L, 0xcfaa4966b7d54b69L).build2();
  public static final SMethod<Iterable<SNode>> queryColDefs_id8XWEteuHOl = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("queryColDefs").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(161551962045340949L).languageId(0x984333adfae8edaaL, 0x8bb1251eeae547abL).build2();
  public static final SMethod<Iterable<SNode>> inputColDefs_id7FuUjk_dUMU = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("inputColDefs").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8853770331923918010L).languageId(0x984333adfae8edaaL, 0x8bb1251eeae547abL).build2();
  public static final SMethod<Iterable<SNode>> getUniquelyNamedElements_id4qSf1u1TRfj = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("getUniquelyNamedElements").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5095889050031059923L).languageId(0xaa41d1b2bffa7eb1L, 0xd4280a54f6df4383L).build2();
  public static final SMethod<SNode> createSolverTask_id4pkidg67Lgb = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("createSolverTask").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5067755556171617291L).languageId(0x8fed954c202d18beL, 0xdb8bd0353f5141d8L).build2();
  public static final SMethod<String> allowsEffectForNode_idORfz$DS6Ap = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("allowsEffectForNode").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(952298261448780185L).languageId(0xb66a309a6e1a7290L, 0xcfaa4966b7d54b69L).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));
  public static final SMethod<EffectDescriptor> effectDescriptor_id6GySMNjjWfO = new SMethodBuilder<EffectDescriptor>(new SJavaCompoundTypeImpl(EffectDescriptor.class)).name("effectDescriptor").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(7719982492929737716L).languageId(0xb66a309a6e1a7290L, 0xcfaa4966b7d54b69L).build2();
  public static final SMethod<Iterable<SNode>> allContentsInCol_id38udS81rpZg = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("allContentsInCol").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3611384982706954192L).languageId(0x984333adfae8edaaL, 0x8bb1251eeae547abL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));
  public static final SMethod<Iterable<SNode>> allExpressionsInCol_id38udS81rDhO = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("allExpressionsInCol").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3611384982707016820L).languageId(0x984333adfae8edaaL, 0x8bb1251eeae547abL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));
  public static final SMethod<List<SNode>> getMembers_id5r47dOfJ8UL = new SMethodBuilder<List<SNode>>(new SJavaCompoundTypeImpl((Class<List<SNode>>) ((Class) Object.class))).name("getMembers").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(6252153918474456753L).languageId(0xb66a309a6e1a7290L, 0xcfaa4966b7d54b69L).build2();
  public static final SMethod<SNode> findContent_id7dKu$V$1JsR = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("findContent").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8318282991005005623L).languageId(0x984333adfae8edaaL, 0x8bb1251eeae547abL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""), SMethodBuilder.createJavaParameter(Integer.TYPE, ""));
  public static final SMethod<SNode> findContentExpression_id7dKu$V$1Jtl = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("findContentExpression").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8318282991005005653L).languageId(0x984333adfae8edaaL, 0x8bb1251eeae547abL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""), SMethodBuilder.createJavaParameter(Integer.TYPE, ""));

  private static final List<SMethod<?>> BH_METHODS = Arrays.<SMethod<?>>asList(renderReadable_id4Y0vh0cfqjE, queryColDefs_id8XWEteuHOl, inputColDefs_id7FuUjk_dUMU, getUniquelyNamedElements_id4qSf1u1TRfj, createSolverTask_id4pkidg67Lgb, allowsEffectForNode_idORfz$DS6Ap, effectDescriptor_id6GySMNjjWfO, allContentsInCol_id38udS81rpZg, allExpressionsInCol_id38udS81rDhO, getMembers_id5r47dOfJ8UL, findContent_id7dKu$V$1JsR, findContentExpression_id7dKu$V$1Jtl);

  private static void ___init___(@NotNull SNode __thisNode__) {
    SNode cd1 = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x23df2a74df65f60L, "org.iets3.core.expr.util.structure.QueryColDef"));
    SNode cd2 = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x23df2a74df65f60L, "org.iets3.core.expr.util.structure.QueryColDef"));
    SNode rcd = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x6d1e5fea0ef8f948L, "org.iets3.core.expr.util.structure.AbstractResultColDef"));
    ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.colDefs$80en)).addElement(cd1);
    ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.colDefs$80en)).addElement(cd2);
    ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.colDefs$80en)).addElement(rcd);
  }

  /*package*/ static String renderReadable_id4Y0vh0cfqjE(@NotNull SNode __thisNode__) {
    return "multidectab[" + ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.rows$sdUx)).count() + "x" + ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.colDefs$80en)).count() + "]";
  }
  /*package*/ static Iterable<SNode> queryColDefs_id8XWEteuHOl(@NotNull SNode __thisNode__) {
    return SNodeOperations.ofConcept(SLinkOperations.getChildren(__thisNode__, LINKS.colDefs$80en), CONCEPTS.QueryColDef$Es);
  }
  /*package*/ static Iterable<SNode> inputColDefs_id7FuUjk_dUMU(@NotNull SNode __thisNode__) {
    return ((Iterable<SNode>) MultiDecTab__BehaviorDescriptor.queryColDefs_id8XWEteuHOl.invoke(__thisNode__));
  }
  /*package*/ static Iterable<SNode> getUniquelyNamedElements_id4qSf1u1TRfj(@NotNull SNode __thisNode__) {
    return SNodeOperations.ofConcept(IMultiDecTab__BehaviorDescriptor.resultColDefs_id7FuUjk_57S0.invoke(__thisNode__), CONCEPTS.ResultColDef$QY);
  }
  /*package*/ static SNode createSolverTask_id4pkidg67Lgb(@NotNull SNode __thisNode__) {
    return STF.createSolverTask(__thisNode__, "consistency and completeness");
  }
  /*package*/ static String allowsEffectForNode_idORfz$DS6Ap(@NotNull SNode __thisNode__, SNode n) {
    if (SNodeOperations.isInstanceOf(n, CONCEPTS.IMayHaveEffect$Gp)) {
      EffectDescriptor ed = IMayHaveEffect__BehaviorDescriptor.effectDescriptor_id6GySMNjjWfO.invoke(SNodeOperations.cast(n, CONCEPTS.IMayHaveEffect$Gp));
      if (ed.hasKind("local")) {
        return null;
      }
      if (ed.isPure()) {
        return null;
      }
      return "no effects allowed in multi-decision tables";
    }
    return null;
  }
  /*package*/ static EffectDescriptor effectDescriptor_id6GySMNjjWfO(@NotNull SNode __thisNode__) {
    if (ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.colDefs$80en)).any((it) -> SNodeOperations.isInstanceOf(it, CONCEPTS.AssigningResultColDef$_w))) {
      return EffectDescriptor.modifies().addKind("local");
    }
    return EffectDescriptor.pure();
  }
  /*package*/ static Iterable<SNode> allContentsInCol_id38udS81rpZg(@NotNull SNode __thisNode__, final SNode d) {
    return Sequence.fromIterable(SLinkOperations.collectMany(SLinkOperations.getChildren(__thisNode__, LINKS.rows$sdUx), LINKS.contents$qmm1)).where((it) -> SLinkOperations.getTarget(it, LINKS.col$28hQ) == d);
  }
  /*package*/ static Iterable<SNode> allExpressionsInCol_id38udS81rDhO(@NotNull SNode __thisNode__, SNode d) {
    return Sequence.fromIterable(MultiDecTab__BehaviorDescriptor.allContentsInCol_id38udS81rpZg.invoke(__thisNode__, d)).translate((it) -> SLinkOperations.getChildren(it, LINKS.exprs$KQyr));
  }
  /*package*/ static List<SNode> getMembers_id5r47dOfJ8UL(@NotNull SNode __thisNode__) {
    return Sequence.fromIterable(SNodeOperations.ofConcept(IMultiDecTab__BehaviorDescriptor.resultColDefs_id7FuUjk_57S0.invoke(__thisNode__), CONCEPTS.ResultColDef$QY)).toList();
  }
  /*package*/ static SNode findContent_id7dKu$V$1JsR(@NotNull SNode __thisNode__, final SNode col, int row) {
    return ListSequence.fromList(SLinkOperations.getChildren(ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.rows$sdUx)).getElement(row), LINKS.contents$qmm1)).findFirst((it) -> Objects.equals(SLinkOperations.getTarget(it, LINKS.col$28hQ), col));
  }
  /*package*/ static SNode findContentExpression_id7dKu$V$1Jtl(@NotNull SNode __thisNode__, SNode col, int row) {
    return ListSequence.fromList(SLinkOperations.getChildren(MultiDecTab__BehaviorDescriptor.findContent_id7dKu$V$1JsR.invoke(__thisNode__, col, ((int) row)), LINKS.exprs$KQyr)).first();
  }

  /*package*/ MultiDecTab__BehaviorDescriptor() {
  }

  @Override
  protected void initNode(@NotNull SNode node, @NotNull SConstructor constructor, @Nullable Object[] parameters) {
    ___init___(node);
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SNode node, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      case 0:
        return (T) ((String) renderReadable_id4Y0vh0cfqjE(node));
      case 1:
        return (T) ((Iterable<SNode>) queryColDefs_id8XWEteuHOl(node));
      case 2:
        return (T) ((Iterable<SNode>) inputColDefs_id7FuUjk_dUMU(node));
      case 3:
        return (T) ((Iterable<SNode>) getUniquelyNamedElements_id4qSf1u1TRfj(node));
      case 4:
        return (T) ((SNode) createSolverTask_id4pkidg67Lgb(node));
      case 5:
        return (T) ((String) allowsEffectForNode_idORfz$DS6Ap(node, (SNode) parameters[0]));
      case 6:
        return (T) ((EffectDescriptor) effectDescriptor_id6GySMNjjWfO(node));
      case 7:
        return (T) ((Iterable<SNode>) allContentsInCol_id38udS81rpZg(node, (SNode) parameters[0]));
      case 8:
        return (T) ((Iterable<SNode>) allExpressionsInCol_id38udS81rDhO(node, (SNode) parameters[0]));
      case 9:
        return (T) ((List<SNode>) getMembers_id5r47dOfJ8UL(node));
      case 10:
        return (T) ((SNode) findContent_id7dKu$V$1JsR(node, (SNode) parameters[0], ((int) (Integer) parameters[1])));
      case 11:
        return (T) ((SNode) findContentExpression_id7dKu$V$1Jtl(node, (SNode) parameters[0], ((int) (Integer) parameters[1])));
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SAbstractConcept concept, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @NotNull
  @Override
  public List<SMethod<?>> getDeclaredMethods() {
    return BH_METHODS;
  }

  @NotNull
  @Override
  public SAbstractConcept getConcept() {
    return CONCEPT;
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink colDefs$80en = MetaAdapterFactory.getContainmentLink(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x7adee935251479e0L, 0x7adee93525147a20L, "colDefs");
    /*package*/ static final SContainmentLink rows$sdUx = MetaAdapterFactory.getContainmentLink(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x7adee935251479e0L, 0x7adee93525147c24L, "rows");
    /*package*/ static final SContainmentLink contents$qmm1 = MetaAdapterFactory.getContainmentLink(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x23df2a74df8bcffL, 0x23df2a74df944daL, "contents");
    /*package*/ static final SReferenceLink col$28hQ = MetaAdapterFactory.getReferenceLink(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x23df2a74df94468L, 0x23df2a74df945baL, "col");
    /*package*/ static final SContainmentLink exprs$KQyr = MetaAdapterFactory.getContainmentLink(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x23df2a74df94468L, 0x23df2a74df944d8L, "exprs");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept QueryColDef$Es = MetaAdapterFactory.getConcept(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x23df2a74df65f60L, "org.iets3.core.expr.util.structure.QueryColDef");
    /*package*/ static final SConcept ResultColDef$QY = MetaAdapterFactory.getConcept(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x23df2a74df65f95L, "org.iets3.core.expr.util.structure.ResultColDef");
    /*package*/ static final SInterfaceConcept IMayHaveEffect$Gp = MetaAdapterFactory.getInterfaceConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x6c21639b50c5f96eL, "org.iets3.core.expr.base.structure.IMayHaveEffect");
    /*package*/ static final SConcept AssigningResultColDef$_w = MetaAdapterFactory.getConcept(0x8bb1251eeae547abL, 0x984333adfae8edaaL, 0x6d1e5fea0ef8f94aL, "org.iets3.core.expr.util.structure.AssigningResultColDef");
  }
}
