package org.iets3.components.functional.typesystem;

/*Generated by MPS */

import jetbrains.mps.lang.typesystem.runtime.AbstractInferenceRule_Runtime;
import jetbrains.mps.lang.typesystem.runtime.InferenceRule_Runtime;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.typesystem.inference.TypeCheckingContext;
import jetbrains.mps.lang.typesystem.runtime.IsApplicableStatus;
import org.iets3.components.functional.behavior.DataItem__BehaviorDescriptor;
import jetbrains.mps.typesystem.inference.EquationInfo;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;

public class typeof_DataItem_InferenceRule extends AbstractInferenceRule_Runtime implements InferenceRule_Runtime {
  public typeof_DataItem_InferenceRule() {
  }
  public void applyRule(final SNode di, final TypeCheckingContext typeCheckingContext, IsApplicableStatus status) {
    if ((boolean) DataItem__BehaviorDescriptor.isBundle_id2JYumEA$yyi.invoke(di)) {
      {
        SNode _nodeToCheck_1029348928467 = di;
        EquationInfo _info_12389875345 = new EquationInfo(_nodeToCheck_1029348928467, null, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "4195833495651580955", 0, null);
        typeCheckingContext.createEquation((SNode) typeCheckingContext.typeOf(_nodeToCheck_1029348928467, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "4195833495651580817", true), (SNode) createDataItemType_467esg_a1a0c0a0a0b(di), _info_12389875345);
      }
    } else {
      SNode parent = DataItem__BehaviorDescriptor.parentItem_id2_pHDKxjC_b.invoke(di);
      if (parent != null && SLinkOperations.getTarget(di, LINKS.type$JddJ) == null) {
        {
          SNode _nodeToCheck_1029348928467 = di;
          EquationInfo _info_12389875345 = new EquationInfo(_nodeToCheck_1029348928467, null, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2979613410172251935", 0, null);
          typeCheckingContext.createEquation((SNode) typeCheckingContext.typeOf(_nodeToCheck_1029348928467, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2979613410172251793", true), (SNode) typeCheckingContext.typeOf(parent, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2979613410172251951", true), _info_12389875345);
        }
      } else if (parent == null && SLinkOperations.getTarget(di, LINKS.type$JddJ) != null) {
        {
          SNode _nodeToCheck_1029348928467 = di;
          EquationInfo _info_12389875345 = new EquationInfo(_nodeToCheck_1029348928467, null, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "3170104686684922602", 0, null);
          typeCheckingContext.createEquation((SNode) typeCheckingContext.typeOf(_nodeToCheck_1029348928467, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "3170104686684922462", true), (SNode) typeCheckingContext.typeOf(SLinkOperations.getTarget(di, LINKS.type$JddJ), "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "3170104686684922618", true), _info_12389875345);
        }
      } else if (parent != null && SLinkOperations.getTarget(di, LINKS.type$JddJ) != null) {
        {
          SNode _nodeToCheck_1029348928467 = di;
          EquationInfo _info_12389875345 = new EquationInfo(_nodeToCheck_1029348928467, null, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2979613410172259816", 0, null);
          typeCheckingContext.createEquation((SNode) typeCheckingContext.typeOf(_nodeToCheck_1029348928467, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2979613410172259823", true), (SNode) typeCheckingContext.typeOf(SLinkOperations.getTarget(di, LINKS.type$JddJ), "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2979613410172259818", true), _info_12389875345);
        }
        {
          SNode _nodeToCheck_1029348928467 = di;
          EquationInfo _info_12389875345 = new EquationInfo(_nodeToCheck_1029348928467, null, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2979613410172260021", 0, null);
          typeCheckingContext.createLessThanInequality((SNode) typeCheckingContext.typeOf(_nodeToCheck_1029348928467, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2979613410172260027", true), (SNode) typeCheckingContext.typeOf(parent, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2979613410172260024", true), false, true, _info_12389875345);
        }
      }
    }

    if ((SLinkOperations.getTarget(di, LINKS.constraint$NjZf) != null)) {
      {
        SNode _nodeToCheck_1029348928467 = SLinkOperations.getTarget(di, LINKS.constraint$NjZf);
        EquationInfo _info_12389875345 = new EquationInfo(_nodeToCheck_1029348928467, null, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2363068140732331943", 0, null);
        typeCheckingContext.createEquation((SNode) typeCheckingContext.typeOf(_nodeToCheck_1029348928467, "r:985fefa7-5d4c-42b7-93bc-4c518f91e5f2(org.iets3.components.functional.typesystem)", "2363068140732329803", true), (SNode) SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6b277d9ad52d416fL, 0xa2091919bd737f50L, 0x670d5e92f854a617L, "org.iets3.core.expr.simpleTypes.structure.BooleanType")), _info_12389875345);
      }
    }
  }
  public SAbstractConcept getApplicableConcept() {
    return CONCEPTS.DataItem$8n;
  }
  public IsApplicableStatus isApplicableAndPattern(SNode argument) {
    return new IsApplicableStatus(argument.getConcept().isSubConceptOf(getApplicableConcept()), null);
  }
  public boolean overrides() {
    return false;
  }
  private static SNode createDataItemType_467esg_a1a0c0a0a0b(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.DataItemType$Gg);
    n0.setReferenceTarget(LINKS.item$4$yw, p0);
    return n0.getResult();
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink type$JddJ = MetaAdapterFactory.getContainmentLink(0x257976063fb647b8L, 0xbc3cb4384df7da44L, 0x6c4f9fd23e4bfa58L, 0x553d98111719e15dL, "type");
    /*package*/ static final SContainmentLink constraint$NjZf = MetaAdapterFactory.getContainmentLink(0x257976063fb647b8L, 0xbc3cb4384df7da44L, 0x6c4f9fd23e4bfa58L, 0x553d98111719e1f7L, "constraint");
    /*package*/ static final SReferenceLink item$4$yw = MetaAdapterFactory.getReferenceLink(0x257976063fb647b8L, 0xbc3cb4384df7da44L, 0x14d95c0d5795736aL, 0x14d95c0d5795736bL, "item");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept DataItem$8n = MetaAdapterFactory.getConcept(0x257976063fb647b8L, 0xbc3cb4384df7da44L, 0x6c4f9fd23e4bfa58L, "org.iets3.components.functional.structure.DataItem");
    /*package*/ static final SConcept DataItemType$Gg = MetaAdapterFactory.getConcept(0x257976063fb647b8L, 0xbc3cb4384df7da44L, 0x14d95c0d5795736aL, "org.iets3.components.functional.structure.DataItemType");
  }
}
