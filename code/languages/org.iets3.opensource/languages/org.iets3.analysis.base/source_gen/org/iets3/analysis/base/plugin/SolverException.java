package org.iets3.analysis.base.plugin;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.core.behavior.BaseConcept__BehaviorDescriptor;

public class SolverException extends RuntimeException {

  private boolean internal;
  private SNode node;

  public SolverException(boolean internal, String message, SNode node) {
    super(message);
    this.node = node;
    this.internal = internal;
  }

  public SolverException(boolean internal, String message) {
    this(internal, message, null);
  }

  public SolverException(String msg, SNode node) {
    this(false, msg, node);
  }

  public SolverException(String msg) {
    this(false, msg);
  }

  public SolverException() {
    this(null);
  }

  public boolean isInternal() {
    return this.internal;
  }

  public SNode getNode() {
    return this.node;
  }

  @Override
  public void printStackTrace() {
    super.printStackTrace();
    if (node != null) {
      ListSequence.fromList(SNodeOperations.getNodeAncestors(node, null, true)).visitAll((it) -> System.err.println("- " + BaseConcept__BehaviorDescriptor.getPresentation_idhEwIMiw.invoke(it)));
    }
  }

}
