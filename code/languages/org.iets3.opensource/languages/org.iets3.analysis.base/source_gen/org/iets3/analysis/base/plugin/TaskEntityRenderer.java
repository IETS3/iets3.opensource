package org.iets3.analysis.base.plugin;

/*Generated by MPS */

import javax.swing.JLabel;
import javax.swing.ListCellRenderer;
import java.time.format.DateTimeFormatter;
import java.awt.Component;
import javax.swing.JList;
import org.apache.commons.lang3.StringUtils;

public class TaskEntityRenderer extends JLabel implements ListCellRenderer<TaskEntity> {

  private int padTextUpToLenght;
  private DateTimeFormatter formatter = DateTimeFormatter.ofPattern("dd.MM.yyyy HH:mm:ss");

  public TaskEntityRenderer(int padTextUpToLenght) {
    this.padTextUpToLenght = padTextUpToLenght;
  }
  @Override
  public Component getListCellRendererComponent(JList<? extends TaskEntity> list, TaskEntity entity, int i, boolean b, boolean b1) {
    String format = entity.getTimeStamp().format(formatter);
    String name = StringUtils.rightPad(entity.getName(), padTextUpToLenght);
    this.setText(name);
    this.setIcon(entity.getStatus().icon());
    this.setToolTipText(entity.getStatus() + " " + format);
    return this;
  }
}
