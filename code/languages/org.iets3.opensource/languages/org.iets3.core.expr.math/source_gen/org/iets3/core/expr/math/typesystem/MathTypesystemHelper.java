package org.iets3.core.expr.math.typesystem;

/*Generated by MPS */

import jetbrains.mps.lang.typesystem.dependencies.CheckingMethod;
import jetbrains.mps.typesystem.inference.TypeCheckingContext;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.IterableUtils;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.errors.messageTargets.MessageTarget;
import jetbrains.mps.errors.messageTargets.NodeMessageTarget;
import jetbrains.mps.errors.IErrorReporter;

public class MathTypesystemHelper {
  private MathTypesystemHelper() {
  }

  @CheckingMethod
  public static void ensureTypeIsNotNull(final TypeCheckingContext typeCheckingContext, SNode type, SNode nodeWithType, SNode... innerTypes) {
    if ((type == null)) {
      String innerTypesString = IterableUtils.join(Sequence.fromIterable(Sequence.fromArray(innerTypes)).select((it) -> ((it != null) ? SNodeOperations.getConcept(it).getName() : "<no type>")), ", ");
      {
        final MessageTarget errorTarget = new NodeMessageTarget();
        IErrorReporter _reporter_2309309498 = typeCheckingContext.reportTypeError(nodeWithType, String.format("Cannot infer type for ‹%s›: The inner type ‹%s› is not supported.", SNodeOperations.getConcept(nodeWithType).getName(), innerTypesString), "r:8b224ec5-7a3e-45b9-8341-eb73ff942246(org.iets3.core.expr.math.typesystem)", "7396263120860770948", null, errorTarget);
      }
    }
  }
}
