package org.iets3.variability.base.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.module.SRepository;
import jetbrains.mps.smodel.ModelAccessHelper;

public interface MpsActions {
  default void readAction(Runnable runnable) {
    runnable.run();
  }

  default void writeAction(Runnable runnable) {
    runnable.run();
  }

  default void commandAction(Runnable runnable) {
    runnable.run();
  }

  class Dummy implements MpsActions {
  }

  class Impl implements MpsActions {
    private SRepository repo;

    public Impl(SRepository repo) {
      this.repo = repo;
    }

    @Override
    public void writeAction(Runnable runnable) {
      new ModelAccessHelper(this.repo).runWriteAction(runnable);
    }
    @Override
    public void readAction(Runnable runnable) {
      new ModelAccessHelper(this.repo).runReadAction(runnable);
    }
    @Override
    public void commandAction(final Runnable runnable) {
      new ModelAccessHelper(this.repo).executeCommand(() -> {
        runnable.run();
        return null;
      });
    }
  }

}
