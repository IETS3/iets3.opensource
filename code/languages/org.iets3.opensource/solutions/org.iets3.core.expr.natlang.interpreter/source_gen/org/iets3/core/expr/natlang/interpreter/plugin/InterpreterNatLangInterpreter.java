package org.iets3.core.expr.natlang.interpreter.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.interpreter.rt.InterpreterBase;
import java.util.List;
import com.mbeddr.mpsutil.interpreter.rt.IEvaluator;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import com.mbeddr.mpsutil.interpreter.rt.ConceptEvaluatorBase;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.mpsutil.interpreter.rt.IContext;
import com.mbeddr.mpsutil.interpreter.rt.ICoverageAnalyzer;
import com.mbeddr.mpsutil.interpreter.rt.ComputationTrace;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import com.mbeddr.mpsutil.interpreter.rt.StopAndReturnException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterEscapeException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterRuntimeException;
import com.mbeddr.mpsutil.interpreter.rt.EvaluatorInfo;
import java.util.ArrayList;
import org.iets3.core.expr.base.behavior.IDotTarget__BehaviorDescriptor;
import com.mbeddr.mpsutil.interpreter.rt.ITypeMapper;
import com.mbeddr.mpsutil.interpreter.rt.IRelationship;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;

public class InterpreterNatLangInterpreter extends InterpreterBase {
  public InterpreterNatLangInterpreter() {
    init();
  }

  @Override
  public String getCategory() {
    return "arithmetic";
  }

  protected void populateEvaluators(List<? extends IEvaluator> evaluators) {
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.NatLangArgument$pD, "r:e2f9b22b-68d4-4805-9781-70b0c87f68f1(org.iets3.core.expr.natlang.interpreter.plugin)/6738534954532826273", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.value$Usbo), context, coverage, trace, false), Object.class));
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("NatLangArgument()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("NatLangArgument", "http://127.0.0.1:63320/node?ref=d06f6793-d0ff-40de-8096-6da3e72b1112%2Fi%3A10000001%28org.iets3.core.expr.natlang.interpreter%40transient40%2Forg.iets3.core.expr.natlang.interpreter.plugin%400%29%2F6738534954532826273");
      }

      @Override
      public String toString() {
        return "NatLangArgument";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.NatLangFunctionCall$wE, "r:e2f9b22b-68d4-4805-9781-70b0c87f68f1(org.iets3.core.expr.natlang.interpreter.plugin)/1693890388432947027", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          List<Object> allArgs = ListSequence.fromList(new ArrayList<Object>());
          ListSequence.fromList(allArgs).addElement(context.getRootInterpreter().evaluate(IDotTarget__BehaviorDescriptor.contextExpression_id6zmBjqUivyF.invoke(node), context, coverage, trace, false));
          for (SNode a : ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.args$U5u9))) {
            ListSequence.fromList(allArgs).addElement(context.getRootInterpreter().evaluate(a, context, coverage, trace, false));
          }
          return callOperation(node, SLinkOperations.getTarget(node, LINKS.extFun$6wA$), allArgs, SLinkOperations.getChildren(SLinkOperations.getTarget(node, LINKS.extFun$6wA$), LINKS.args$XOIh), context, coverage, trace);
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("NatLangFunctionCall()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("NatLangFunctionCall", "http://127.0.0.1:63320/node?ref=d06f6793-d0ff-40de-8096-6da3e72b1112%2Fi%3A10000001%28org.iets3.core.expr.natlang.interpreter%40transient40%2Forg.iets3.core.expr.natlang.interpreter.plugin%400%29%2F1693890388432947027");
      }

      @Override
      public String toString() {
        return "NatLangFunctionCall";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
  }


  protected void populateTypeMappers(List<? extends ITypeMapper> typeMappers) {
  }



  protected void populateRelationships(List<? extends IRelationship> relationships) {
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink value$Usbo = MetaAdapterFactory.getContainmentLink(0x64e7917630a14836L, 0x821cbf62ff6c6091L, 0x1781e8556aff1984L, 0x1781e8556aff1994L, "value");
    /*package*/ static final SContainmentLink args$U5u9 = MetaAdapterFactory.getContainmentLink(0x64e7917630a14836L, 0x821cbf62ff6c6091L, 0x1781e8556af254ecL, 0x27b717d14a903157L, "args");
    /*package*/ static final SReferenceLink extFun$6wA$ = MetaAdapterFactory.getReferenceLink(0x64e7917630a14836L, 0x821cbf62ff6c6091L, 0x1781e8556af254ecL, 0x27b717d14a8f82e8L, "extFun");
    /*package*/ static final SContainmentLink args$XOIh = MetaAdapterFactory.getContainmentLink(0x9464fa065ab9409bL, 0x927464ab29588457L, 0x427ce523083b8a2fL, 0x427ce523083b8a3fL, "args");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept NatLangArgument$pD = MetaAdapterFactory.getConcept(0x64e7917630a14836L, 0x821cbf62ff6c6091L, 0x1781e8556aff1984L, "org.iets3.core.expr.natlang.structure.NatLangArgument");
    /*package*/ static final SConcept NatLangFunctionCall$wE = MetaAdapterFactory.getConcept(0x64e7917630a14836L, 0x821cbf62ff6c6091L, 0x1781e8556af254ecL, "org.iets3.core.expr.natlang.structure.NatLangFunctionCall");
  }
}
