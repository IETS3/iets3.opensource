package org.iets3.variability.base.ide.plugin;

/*Generated by MPS */

import java.util.Deque;
import jetbrains.mps.internal.collections.runtime.DequeSequence;
import java.util.LinkedList;

public abstract class HTMLBuilder {

  private StringBuffer sb = new StringBuffer();
  private Deque<String> envs = DequeSequence.fromDeque(new LinkedList<String>());

  public String getString() {
    return sb.toString();
  }

  protected void start(String tag) {
    gen("<" + tag + ">");
    DequeSequence.fromDequeNew(envs).pushElement(tag);
  }

  protected void line(String line) {
    gen(line);
  }

  protected void end() {
    String tag = DequeSequence.fromDequeNew(envs).popElement();
    gen("</" + tag + ">");
  }

  private void gen(String line) {
    int indent = DequeSequence.fromDequeNew(envs).count();
    if (indent > 0) {
      sb.append("   ".repeat(indent));
    }
    sb.append(line);
    sb.append("\n");
  }

  protected String tag(String tag, String content) {
    return "<" + tag + ">" + content + "</" + tag + ">";
  }

  protected String link(String label, String url, String target) {
    return "<a href=\"" + url + "\" target=\"" + target + "\">" + label + "</a>";
  }

  protected String link(String label, String url) {
    return "<a href=\"" + url + "\">" + label + "</a>";
  }
}
