package org.iets3.core.expr.metafunction.interpreter.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.interpreter.rt.InterpreterBase;
import java.util.List;
import com.mbeddr.mpsutil.interpreter.rt.IEvaluator;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import com.mbeddr.mpsutil.interpreter.rt.ConceptEvaluatorBase;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.mpsutil.interpreter.rt.IContext;
import com.mbeddr.mpsutil.interpreter.rt.ICoverageAnalyzer;
import com.mbeddr.mpsutil.interpreter.rt.ComputationTrace;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import com.mbeddr.mpsutil.interpreter.rt.StopAndReturnException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterEscapeException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterRuntimeException;
import com.mbeddr.mpsutil.interpreter.rt.EvaluatorInfo;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import com.mbeddr.mpsutil.interpreter.rt.ITypeMapper;
import com.mbeddr.mpsutil.interpreter.rt.IRelationship;
import com.mbeddr.mpsutil.interpreter.rt.InterpretBeforeRelationshipImpl;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;

public class InterpreterMetaFunctionInterpreter extends InterpreterBase {
  public InterpreterMetaFunctionInterpreter() {
    init();
  }

  @Override
  public String getCategory() {
    return "arithmetic";
  }

  protected void populateEvaluators(List<? extends IEvaluator> evaluators) {
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.MetaFunction$9W, "r:bd9fb079-27cf-425c-8944-a655ffd4b313(org.iets3.core.expr.metafunction.interpreter.plugin)/5994308065078499708", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.expr$CW3E), context, coverage, trace, false), Object.class));
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("MetaFunction()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("MetaFunction", "http://127.0.0.1:63320/node?ref=5e07f096-e81f-4bfc-82f5-886b067495cc%2Fi%3A10000001%28org.iets3.core.expr.metafunction.interpreter%40transient36%2Forg.iets3.core.expr.metafunction.interpreter.plugin%400%29%2F5994308065078499708");
      }

      @Override
      public String toString() {
        return "MetaFunction";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.MetaFunArgRef$LL, "r:bd9fb079-27cf-425c-8944-a655ffd4b313(org.iets3.core.expr.metafunction.interpreter.plugin)/5994308065078500080", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          return MapSequence.fromMap(context.getEnvironment()).get(SLinkOperations.getTarget(node, LINKS.arg$XHAH));
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("MetaFunArgRef()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("MetaFunArgRef", "http://127.0.0.1:63320/node?ref=5e07f096-e81f-4bfc-82f5-886b067495cc%2Fi%3A10000001%28org.iets3.core.expr.metafunction.interpreter%40transient36%2Forg.iets3.core.expr.metafunction.interpreter.plugin%400%29%2F5994308065078500080");
      }

      @Override
      public String toString() {
        return "MetaFunArgRef";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
  }


  protected void populateTypeMappers(List<? extends ITypeMapper> typeMappers) {
  }



  protected void populateRelationships(List<? extends IRelationship> relationships) {
    ListSequence.fromList(((List<IRelationship>) relationships)).addElement(new InterpretBeforeRelationshipImpl("org.iets3.core.expr.metafunction.interpreter.plugin.InterpreterMetaFunctionInterpreter", "org.iets3.core.expr.base.interpreter.plugin.InterpreterExprBaseInterpreter"));
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink expr$CW3E = MetaAdapterFactory.getContainmentLink(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x3b256bb6ae8048d8L, 0x3b256bb6ae8048d9L, "expr");
    /*package*/ static final SReferenceLink arg$XHAH = MetaAdapterFactory.getReferenceLink(0x711a16d799e84e1dL, 0xb20c99c0b7309cd8L, 0x53300f6d0cb1bb6dL, 0x53300f6d0cb1bb6eL, "arg");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept MetaFunction$9W = MetaAdapterFactory.getConcept(0x711a16d799e84e1dL, 0xb20c99c0b7309cd8L, 0x53300f6d0c251610L, "org.iets3.core.expr.metafunction.structure.MetaFunction");
    /*package*/ static final SConcept MetaFunArgRef$LL = MetaAdapterFactory.getConcept(0x711a16d799e84e1dL, 0xb20c99c0b7309cd8L, 0x53300f6d0cb1bb6dL, "org.iets3.core.expr.metafunction.structure.MetaFunArgRef");
  }
}
