package org.iets3.core.expr.genjava.messages.rt.rt;

/*Generated by MPS */

import java.io.Serializable;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;
import java.util.Set;
import java.util.Map;
import java.util.Collections;
import java.util.Objects;

public class Message implements Serializable {
  @NotNull
  public final MessageKind kind;
  @NotNull
  public final String text;
  @Nullable
  public final ProgramLocation programLocation;

  public final Set<String> affectedMemberNames;

  public final Map<String, String> userData;

  public Message(MessageKind kind, String text) {
    this(kind, text, null);
  }

  public Message(@NotNull final MessageKind kind, @NotNull final String text, @Nullable final String nodeReference, @Nullable final String nodeUrl) {
    this(kind, text, (nodeReference == null || nodeUrl == null ? null : new ProgramLocation(nodeReference, nodeUrl)), Collections.<String>emptySet(), Collections.<String,String>emptyMap());
  }

  public Message(MessageKind kind, String text, ProgramLocation programLocation) {
    this(kind, text, programLocation, Collections.<String>emptySet(), Collections.<String,String>emptyMap());
  }

  public Message(MessageKind kind, String text, ProgramLocation programLocation, Set<String> affectedMemberNames, Map<String, String> userData) {
    this.kind = kind;
    this.text = text;
    this.programLocation = programLocation;
    this.affectedMemberNames = affectedMemberNames;
    this.userData = userData;
  }

  public static Message fromText(String text) {
    return new Message(BuiltinMessageKinds.none(), text, null);
  }

  public String textWithKind() {
    return kind.formatMessage(text);
  }

  public Message withLocation(ProgramLocation programLocation) {
    return new Message(kind, text, programLocation, affectedMemberNames, userData);
  }

  public Message withAffectedMemberNames(Set<String> affectedMemberNames) {
    return new Message(kind, text, programLocation, affectedMemberNames, userData);
  }

  public Message withUserData(Map<String, String> userData) {
    return new Message(kind, text, programLocation, affectedMemberNames, userData);
  }
  @Override
  public boolean equals(Object o) {
    if (this == o) {
      return true;
    }
    if (o == null || this.getClass() != o.getClass()) {
      return false;
    }

    Message that = ((Message) o);
    if (!(Objects.equals(kind, that.kind))) {
      return false;
    }
    if (!(Objects.equals(text, that.text))) {
      return false;
    }
    if (!(Objects.equals(programLocation, that.programLocation))) {
      return false;
    }
    if (!(Objects.equals(affectedMemberNames, that.affectedMemberNames))) {
      return false;
    }
    if (!(Objects.equals(userData, that.userData))) {
      return false;
    }

    return true;
  }

  @Override
  public int hashCode() {
    return Objects.hash(kind, text, programLocation, affectedMemberNames, userData);
  }

  @Override
  public String toString() {
    return "Message{" + "kind=" + kind + ", text=" + text + "}";
  }
}
