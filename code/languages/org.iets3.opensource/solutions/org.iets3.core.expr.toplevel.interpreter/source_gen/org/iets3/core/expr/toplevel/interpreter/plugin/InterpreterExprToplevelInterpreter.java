package org.iets3.core.expr.toplevel.interpreter.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.interpreter.rt.InterpreterBase;
import java.util.List;
import com.mbeddr.mpsutil.interpreter.rt.IEvaluator;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import com.mbeddr.mpsutil.interpreter.rt.ConceptEvaluatorBase;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.mpsutil.interpreter.rt.IContext;
import com.mbeddr.mpsutil.interpreter.rt.ICoverageAnalyzer;
import com.mbeddr.mpsutil.interpreter.rt.ComputationTrace;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.pcollections.PCollection;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import org.iets3.core.expr.base.behavior.IDotTarget__BehaviorDescriptor;
import java.util.Collection;
import org.pcollections.PVector;
import org.pcollections.Empty;
import java.util.Iterator;
import org.iets3.core.expr.toplevel.plugin.InlineRecordConstants;
import org.iets3.core.expr.toplevel.plugin.RecordValue;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import com.mbeddr.mpsutil.interpreter.rt.StopAndReturnException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterEscapeException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterRuntimeException;
import com.mbeddr.mpsutil.interpreter.rt.EvaluatorInfo;
import org.iets3.core.expr.lambda.plugin.ExecutableValue;
import java.util.Map;
import java.util.HashMap;
import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;
import com.mbeddr.mpsutil.interpreter.rt.DummyComputationTrace;
import java.util.ArrayList;
import org.iets3.core.expr.toplevel.plugin.GroupValue;
import org.iets3.core.expr.toplevel.plugin.EnumLiteral;
import java.math.BigInteger;
import org.iets3.core.expr.toplevel.behavior.IRecordType__BehaviorDescriptor;
import jetbrains.mps.internal.collections.runtime.Sequence;
import org.iets3.core.expr.base.plugin.TypeConstraintHelper;
import org.iets3.core.expr.base.behavior.ITypeable__BehaviorDescriptor;
import org.iets3.core.expr.base.behavior.Expression__BehaviorDescriptor;
import org.iets3.core.expr.base.plugin.ConstraintFailedException;
import org.iets3.core.expr.toplevel.behavior.IRecordDeclaration__BehaviorDescriptor;
import org.iets3.core.expr.base.plugin.MarkerNodes;
import org.iets3.core.expr.base.behavior.IETS3ExprContext;
import jetbrains.mps.typechecking.TypecheckingFacade;
import org.iets3.core.expr.base.plugin.RRC;
import com.mbeddr.mpsutil.interpreter.rt.ITypeMapper;
import com.mbeddr.mpsutil.interpreter.rt.IRelationship;
import com.mbeddr.mpsutil.interpreter.rt.InterpretBeforeRelationshipImpl;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import org.jetbrains.mps.openapi.language.SProperty;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;

public class InterpreterExprToplevelInterpreter extends InterpreterBase {
  public InterpreterExprToplevelInterpreter() {
    init();
  }

  @Override
  public String getCategory() {
    return "arithmetic";
  }

  protected void populateEvaluators(List<? extends IEvaluator> evaluators) {
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.ProjectOp$p, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/8747317549969551151", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          coverage.registerBranches(CONCEPTS.ProjectOp$p, new String[]{"projectList_empty", "projectList_one", "projectList_many"});
          PCollection subjectList = (PCollection) MapSequence.fromMap(context.getEnvironment()).get(IDotTarget__BehaviorDescriptor.contextExpression_id6zmBjqUivyF.invoke(node));
          {
            Collection ___t = subjectList;
            int ___s = ___t.size();
            if (___s == 0) {
              coverage.visitedConceptBranch(CONCEPTS.ProjectOp$p, "projectList_empty");
            } else if (___s == 1) {
              coverage.visitedConceptBranch(CONCEPTS.ProjectOp$p, "projectList_one");
            } else if (___s > 1) {
              coverage.visitedConceptBranch(CONCEPTS.ProjectOp$p, "projectList_many");
            }
          }
          PVector res = Empty.vector();
          Iterator<Object> kit = subjectList.iterator();
          while (kit.hasNext()) {
            Object next = kit.next();
            MapSequence.fromMap(context.getEnvironment()).put(InlineRecordConstants.IT_NODE, next);
            RecordValue rv = new RecordValue(null);
            for (SNode m : ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.members$I$qE))) {
              coverage.visitedConcept(CONCEPTS.ProjectMember$2l);
              rv.add(SPropertyOperations.getString(m, PROPS.name$MnvL), context.getRootInterpreter().evaluate(SLinkOperations.getTarget(m, LINKS.expr$CW3E), context, coverage, trace, false));
            }
            res = res.plus(rv);
          }
          return res;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("project()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("ProjectOp", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F8747317549969551151");
      }

      @Override
      public String toString() {
        return "ProjectOp";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.ProjectIt$Ax, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/8747317549969742348", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          return MapSequence.fromMap(context.getEnvironment()).get(InlineRecordConstants.IT_NODE);
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("it()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("ProjectIt", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F8747317549969742348");
      }

      @Override
      public String toString() {
        return "ProjectIt";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.InlineRecordMemberAccess$B2, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/8747317549969673101", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          Object o = MapSequence.fromMap(context.getEnvironment()).get(IDotTarget__BehaviorDescriptor.contextExpression_id6zmBjqUivyF.invoke(node));
          if (o instanceof RecordValue) {
            return ((RecordValue) o).getValueByName(SPropertyOperations.getString(node, PROPS.name$MnvL));
          }
          return null;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("InlineRecordMemberAccess()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("InlineRecordMemberAccess", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F8747317549969673101");
      }

      @Override
      public String toString() {
        return "InlineRecordMemberAccess";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.GroupByOp$AQ, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/8293738266730161431", true) {
      public Object evaluateEvaluator(final SNode node, IContext context, ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          PCollection subjectList = (PCollection) MapSequence.fromMap(context.getEnvironment()).get(IDotTarget__BehaviorDescriptor.contextExpression_id6zmBjqUivyF.invoke(node));
          ExecutableValue executableValue = ((ExecutableValue) ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.expr$CW3E), context, coverage, trace, false), Object.class)));

          Map<Object, List<Object>> sorted = MapSequence.fromMap(new HashMap<Object, List<Object>>());
          Iterator<Object> kit = subjectList.iterator();
          while (kit.hasNext()) {
            Object next = kit.next();
            Object r = executableValue.executeEvaluatedOneArg(next, context, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
              if (trace != null) {
                return trace;
              } else {
                return new DummyComputationTrace(node);
              }
            }).invoke(), false);
            List<Object> l = MapSequence.fromMap(sorted).get(r);
            if (l == null) {
              l = ListSequence.fromList(new ArrayList<Object>());
              MapSequence.fromMap(sorted).put(r, l);
            }
            ListSequence.fromList(l).addElement(next);
          }

          PVector groups = Empty.vector();
          for (Object k : MapSequence.fromMap(sorted).keySet()) {
            List<Object> l = MapSequence.fromMap(sorted).get(k);
            groups = groups.plus(new GroupValue(k, l));
          }
          return groups;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("groupBy()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("GroupByOp", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F8293738266730161431");
      }

      @Override
      public String toString() {
        return "GroupByOp";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.GroupKeyTarget$WX, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/8293738266730168194", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          Object group = MapSequence.fromMap(context.getEnvironment()).get(IDotTarget__BehaviorDescriptor.contextExpression_id6zmBjqUivyF.invoke(node));
          if (group instanceof GroupValue) {
            return ((GroupValue) group).key;
          }
          return null;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("key()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("GroupKeyTarget", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F8293738266730168194");
      }

      @Override
      public String toString() {
        return "GroupKeyTarget";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.GroupMembersTarget$sT, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/8293738266730174965", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          Object group = MapSequence.fromMap(context.getEnvironment()).get(IDotTarget__BehaviorDescriptor.contextExpression_id6zmBjqUivyF.invoke(node));
          if (group instanceof GroupValue) {
            return ((GroupValue) group).members;
          }

          return null;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("members()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("GroupMembersTarget", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F8293738266730174965");
      }

      @Override
      public String toString() {
        return "GroupMembersTarget";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.EnumValueAccessor$QW, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/4577412849441846698", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          Object val = MapSequence.fromMap(context.getEnvironment()).get(IDotTarget__BehaviorDescriptor.contextExpression_id6zmBjqUivyF.invoke(node));
          if (val instanceof EnumLiteral) {
            return ((EnumLiteral) (val)).getValue();
          }
          return null;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("value()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("EnumValueAccessor", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F4577412849441846698");
      }

      @Override
      public String toString() {
        return "EnumValueAccessor";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.EnumIndexOp$jD, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/217046401490031720", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          Object val = MapSequence.fromMap(context.getEnvironment()).get(IDotTarget__BehaviorDescriptor.contextExpression_id6zmBjqUivyF.invoke(node));
          if (val instanceof EnumLiteral) {
            return new BigInteger(((EnumLiteral) val).getIndex() + "");
          }
          return null;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("index()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("EnumIndexOp", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F217046401490031720");
      }

      @Override
      public String toString() {
        return "EnumIndexOp";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.RecordTypeAdapter$nb, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/5070313213712274594", true) {
      public Object evaluateEvaluator(final SNode node, IContext context, ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          RecordValue rl = new RecordValue(IRecordType__BehaviorDescriptor.record_id3KgQFIke4EG.invoke(SLinkOperations.getTarget(node, LINKS.type$MFr_)));
          SNode bex = SNodeOperations.cast(SNodeOperations.getParent(node), CONCEPTS.BuilderExpression$Ly);
          SNode record = IRecordType__BehaviorDescriptor.record_id3KgQFIke4EG.invoke(SNodeOperations.cast(SLinkOperations.getTarget(node, LINKS.type$MFr_), CONCEPTS.IRecordType$ka));
          coverage.coverValue(record, null);
          for (SNode setter : Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(bex, LINKS.elements$iY16), CONCEPTS.FieldSetter$nv))) {
            coverage.visitedConcept(CONCEPTS.FieldSetter$nv);
            SNode member = SNodeOperations.cast(SLinkOperations.getTarget(setter, LINKS.field$jb__), CONCEPTS.IRecordMember$$B);
            SNode value = SLinkOperations.getTarget(setter, LINKS.value$jc3B);
            Object evaluatedValue = context.getRootInterpreter().evaluate(value, context, coverage, trace, false);
            coverage.coverValue(member, evaluatedValue);
            TypeConstraintHelper.isValidFatal(ITypeable__BehaviorDescriptor.type_id4WLweXm3SW5.invoke(member), Expression__BehaviorDescriptor.renderReadable_id4Y0vh0cfqjE.invoke(value), evaluatedValue, context, ConstraintFailedException.PLAIN, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
              if (trace != null) {
                return trace;
              } else {
                return new DummyComputationTrace(node);
              }
            }).invoke());
            rl.add(SPropertyOperations.getString(member, PROPS.name$MnvL), evaluatedValue);
          }
          coverage.coverValue(IRecordType__BehaviorDescriptor.record_id3KgQFIke4EG.invoke(SNodeOperations.cast(SLinkOperations.getTarget(node, LINKS.type$MFr_), CONCEPTS.IRecordType$ka)), rl);
          TypeConstraintHelper.isValidFatal(SNodeOperations.cast(SLinkOperations.getTarget(node, LINKS.type$MFr_), CONCEPTS.Type$WK), SPropertyOperations.getString(IRecordType__BehaviorDescriptor.record_id3KgQFIke4EG.invoke(SLinkOperations.getTarget(node, LINKS.type$MFr_)), PROPS.name$MnvL), rl, context, ConstraintFailedException.PLAIN, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
            if (trace != null) {
              return trace;
            } else {
              return new DummyComputationTrace(node);
            }
          }).invoke());
          return rl;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("RecordTypeAdapter()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("RecordTypeAdapter", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F5070313213712274594");
      }

      @Override
      public String toString() {
        return "RecordTypeAdapter";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.BuilderExpression$Ly, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/5070313213712246280", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.adapted$goB5), context, coverage, trace, false), Object.class));
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("build()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("BuilderExpression", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F5070313213712246280");
      }

      @Override
      public String toString() {
        return "BuilderExpression";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.RecordLiteral$jy, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/8811147530086020702", true) {
      public Object evaluateEvaluator(final SNode node, IContext context, ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          coverage.registerBranches(CONCEPTS.RecordLiteral$jy, new String[]{"values_empty", "values_one", "values_many"});
          {
            Collection ___t = SLinkOperations.getChildren(node, LINKS.memberValues$9z2D);
            int ___s = ___t.size();
            if (___s == 0) {
              coverage.visitedConceptBranch(CONCEPTS.RecordLiteral$jy, "values_empty");
            } else if (___s == 1) {
              coverage.visitedConceptBranch(CONCEPTS.RecordLiteral$jy, "values_one");
            } else if (___s > 1) {
              coverage.visitedConceptBranch(CONCEPTS.RecordLiteral$jy, "values_many");
            }
          }
          RecordValue rl = new RecordValue(IRecordType__BehaviorDescriptor.record_id3KgQFIke4EG.invoke(SNodeOperations.cast(SLinkOperations.getTarget(node, LINKS.type$EhVN), CONCEPTS.IRecordType$ka)));
          SNode record = IRecordType__BehaviorDescriptor.record_id3KgQFIke4EG.invoke(SNodeOperations.cast(SLinkOperations.getTarget(node, LINKS.type$EhVN), CONCEPTS.IRecordType$ka));
          List<SNode> memberList = Sequence.fromIterable(IRecordDeclaration__BehaviorDescriptor.effectiveMembers_id1qrYg08iahZ.invoke(record)).toList();
          for (int i = 0; i < ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.memberValues$9z2D)).count(); i++) {
            SNode member = ListSequence.fromList(memberList).getElement(i);
            String memberName = SPropertyOperations.getString(member, PROPS.name$MnvL);
            SNode value = ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.memberValues$9z2D)).getElement(i);
            Object evaluatedValue = context.getRootInterpreter().evaluate(value, context, coverage, trace, false);
            TypeConstraintHelper.isValidFatal(ITypeable__BehaviorDescriptor.type_id4WLweXm3SW5.invoke(member), Expression__BehaviorDescriptor.renderReadable_id4Y0vh0cfqjE.invoke(value), evaluatedValue, context, ConstraintFailedException.PLAIN, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
              if (trace != null) {
                return trace;
              } else {
                return new DummyComputationTrace(node);
              }
            }).invoke());
            rl.add(memberName, evaluatedValue);
          }
          TypeConstraintHelper.isValidFatal(SLinkOperations.getTarget(node, LINKS.type$EhVN), Expression__BehaviorDescriptor.renderReadable_id4Y0vh0cfqjE.invoke(node), rl, context, ConstraintFailedException.PLAIN, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
            if (trace != null) {
              return trace;
            } else {
              return new DummyComputationTrace(node);
            }
          }).invoke());
          coverage.coverValue(IRecordType__BehaviorDescriptor.record_id3KgQFIke4EG.invoke(SNodeOperations.cast(SLinkOperations.getTarget(node, LINKS.type$EhVN), CONCEPTS.IRecordType$ka)), rl);
          return rl;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("#()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("RecordLiteral", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F8811147530086020702");
      }

      @Override
      public String toString() {
        return "RecordLiteral";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.EnumLiteralRef$$8, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/7061117989424229091", true) {
      public Object evaluateEvaluator(final SNode node, IContext context, ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          coverage.coverValue(SLinkOperations.getTarget(node, LINKS.literal$llO8), null);
          return EnumLiteral.getInstance(SLinkOperations.getTarget(node, LINKS.literal$llO8), context, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
            if (trace != null) {
              return trace;
            } else {
              return new DummyComputationTrace(node);
            }
          }).invoke());
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("EnumLiteralRef()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("EnumLiteralRef", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F7061117989424229091");
      }

      @Override
      public String toString() {
        return "EnumLiteralRef";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.TypedefContractValExpr$9V, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/3315773615453726997", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          return MapSequence.fromMap(context.getEnvironment()).get(MarkerNodes.TYPECONSTRAINT);
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("it()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("TypedefContractValExpr", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F3315773615453726997");
      }

      @Override
      public String toString() {
        return "TypedefContractValExpr";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.Constant$5s, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/1249392911698008164", true) {
      public Object evaluateEvaluator(final SNode node, IContext context, ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          IETS3ExprContext ctx = ((IETS3ExprContext) context);

          IETS3ExprContext.CacheEntry ce = null;
          if (ctx.isCachingEnabled()) {
            ce = new IETS3ExprContext.CacheEntry(node, null);
            Object cached = ctx.getCachedValue(ce);
            if (cached != null) {
              TypeConstraintHelper.isValidFatal(SLinkOperations.getTarget(node, LINKS.type$1eya), SPropertyOperations.getString(node, PROPS.name$MnvL), cached, context, ConstraintFailedException.PLAIN, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
                if (trace != null) {
                  return trace;
                } else {
                  return new DummyComputationTrace(node);
                }
              }).invoke());
              if (((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
                if (trace != null) {
                  return trace;
                } else {
                  return new DummyComputationTrace(node);
                }
              }).invoke() != null) {
                ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
                  if (trace != null) {
                    return trace;
                  } else {
                    return new DummyComputationTrace(node);
                  }
                }).invoke().markAsCached();
              }
              return cached;
            }
          }

          Object value = ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.expr$CW3E), context, coverage, trace, false), Object.class));
          TypeConstraintHelper.isValidFatal(SLinkOperations.getTarget(node, LINKS.type$1eya), Expression__BehaviorDescriptor.renderReadable_id4Y0vh0cfqjE.invoke(SLinkOperations.getTarget(node, LINKS.expr$CW3E)), value, context, ConstraintFailedException.PLAIN, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
            if (trace != null) {
              return trace;
            } else {
              return new DummyComputationTrace(node);
            }
          }).invoke());

          if (ctx.isCachingEnabled()) {
            if (ctx.isCachingEnabled()) {
              ctx.addToCache(ce, value, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
                if (trace != null) {
                  return trace;
                } else {
                  return new DummyComputationTrace(node);
                }
              }).invoke());
            }
          }
          return value;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("val()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("Constant", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F1249392911698008164");
      }

      @Override
      public String toString() {
        return "Constant";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.RecordMemberRefInConstraint$9n, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/1024425597325414937", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          Object value = MapSequence.fromMap(context.getEnvironment()).get(MarkerNodes.TYPECONSTRAINT);
          if (value instanceof RecordValue) {
            RecordValue rec = ((RecordValue) value);
            return rec.getValueForPath(SLinkOperations.getTarget(node, LINKS.member$C$x_));
          }
          return null;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("RecordMemberRefInConstraint()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("RecordMemberRefInConstraint", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F1024425597325414937");
      }

      @Override
      public String toString() {
        return "RecordMemberRefInConstraint";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.OldMemberRef$lO, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/820361861854400973", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          SNode nvs = SNodeOperations.getNodeAncestor(node, CONCEPTS.NewValueSetter$sz, true, false);
          SNode withTarget = SNodeOperations.getParent(nvs);
          SNode dot = SNodeOperations.cast(SNodeOperations.getParent(withTarget), CONCEPTS.DotExpression$jp);
          Object ctx = MapSequence.fromMap(context.getEnvironment()).get(SLinkOperations.getTarget(dot, LINKS.expr$CW3E));
          RecordValue rv = ((RecordValue) ctx);
          return rv.getValueForPath(SLinkOperations.getTarget(node, LINKS.member$jDO1));
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("OldMemberRef()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("OldMemberRef", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F820361861854400973");
      }

      @Override
      public String toString() {
        return "OldMemberRef";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.OldValueExpr$Gk, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/820361861853758694", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          SNode nvs = SNodeOperations.getNodeAncestor(node, CONCEPTS.NewValueSetter$sz, true, false);
          SNode m = SLinkOperations.getTarget(nvs, LINKS.member$6757);
          SNode withTarget = SNodeOperations.getParent(nvs);
          SNode dot = SNodeOperations.cast(SNodeOperations.getParent(withTarget), CONCEPTS.DotExpression$jp);
          Object ctx = MapSequence.fromMap(context.getEnvironment()).get(SLinkOperations.getTarget(dot, LINKS.expr$CW3E));
          RecordValue rv = ((RecordValue) ctx);
          return rv.getValueForPath(m);
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("old()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("OldValueExpr", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F820361861853758694");
      }

      @Override
      public String toString() {
        return "OldValueExpr";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.RecordChangeTarget$KX, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/1249392911702358872", true) {
      public Object evaluateEvaluator(final SNode node, IContext context, ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          coverage.registerBranches(CONCEPTS.RecordChangeTarget$KX, new String[]{"setters_empty", "setters_one", "setters_many"});
          Object ctx = MapSequence.fromMap(context.getEnvironment()).get(SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(node), CONCEPTS.DotExpression$jp), LINKS.expr$CW3E));
          {
            Collection ___t = SLinkOperations.getChildren(node, LINKS.setters$ujtT);
            int ___s = ___t.size();
            if (___s == 0) {
              coverage.visitedConceptBranch(CONCEPTS.RecordChangeTarget$KX, "setters_empty");
            } else if (___s == 1) {
              coverage.visitedConceptBranch(CONCEPTS.RecordChangeTarget$KX, "setters_one");
            } else if (___s > 1) {
              coverage.visitedConceptBranch(CONCEPTS.RecordChangeTarget$KX, "setters_many");
            }
          }
          if (ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.setters$ujtT)).isEmpty()) {
            return ctx;
          }
          RecordValue rv = ((RecordValue) ctx);
          RecordValue newVal = rv.copy();
          for (SNode setter : ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.setters$ujtT))) {
            newVal.update(SPropertyOperations.getString(SLinkOperations.getTarget(setter, LINKS.member$6757), PROPS.name$MnvL), context.getRootInterpreter().evaluate(SLinkOperations.getTarget(setter, LINKS.newValue$67z9), context, coverage, trace, false));
          }
          TypeConstraintHelper.isValidFatal(SNodeOperations.cast(TypecheckingFacade.getFromContext().getTypeOf(node), CONCEPTS.Type$WK), IDotTarget__BehaviorDescriptor.renderReadable_id6kR0qIbI2yi.invoke(node), node, context, ConstraintFailedException.PLAIN, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
            if (trace != null) {
              return trace;
            } else {
              return new DummyComputationTrace(node);
            }
          }).invoke());
          return newVal;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("with()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("RecordChangeTarget", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F1249392911702358872");
      }

      @Override
      public String toString() {
        return "RecordChangeTarget";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.ConstantRef$5J, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/543569365054020526", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          if (RRC.resolveConfig() != null) {
            SNode override = RRC.resolveConfig().resolve(SLinkOperations.getTarget(node, LINKS.constant$YVF7), context);
            if (override != null && SNodeOperations.isInstanceOf(override, CONCEPTS.Constant$5s)) {
              return context.getRootInterpreter().evaluate(override, context, coverage, trace, false);
            }
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.constant$YVF7), context, coverage, trace, false), Object.class));
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("ConstantRef()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("ConstantRef", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F543569365054020526");
      }

      @Override
      public String toString() {
        return "ConstantRef";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.ExtensionFunctionCall$AX, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/2861782275888317606", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          coverage.registerBranches(CONCEPTS.ExtensionFunctionCall$AX, new String[]{"args_empty", "args_one", "args_many"});
          {
            Collection ___t = SLinkOperations.getChildren(node, LINKS.args$hM$s);
            int ___s = ___t.size();
            if (___s == 0) {
              coverage.visitedConceptBranch(CONCEPTS.ExtensionFunctionCall$AX, "args_empty");
            } else if (___s == 1) {
              coverage.visitedConceptBranch(CONCEPTS.ExtensionFunctionCall$AX, "args_one");
            } else if (___s > 1) {
              coverage.visitedConceptBranch(CONCEPTS.ExtensionFunctionCall$AX, "args_many");
            }
          }
          List<Object> allArgs = ListSequence.fromList(new ArrayList<Object>());
          ListSequence.fromList(allArgs).addElement(context.getRootInterpreter().evaluate(IDotTarget__BehaviorDescriptor.contextExpression_id6zmBjqUivyF.invoke(node), context, coverage, trace, false));
          for (SNode a : ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.args$hM$s))) {
            ListSequence.fromList(allArgs).addElement(context.getRootInterpreter().evaluate(a, context, coverage, trace, false));
          }
          return callOperation(node, SLinkOperations.getTarget(node, LINKS.extFun$udGR), allArgs, SLinkOperations.getChildren(SLinkOperations.getTarget(node, LINKS.extFun$udGR), LINKS.args$XOIh), context, coverage, trace);
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("ExtensionFunctionCall()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("ExtensionFunctionCall", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F2861782275888317606");
      }

      @Override
      public String toString() {
        return "ExtensionFunctionCall";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.EnumIsInTarget$Vc, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/8006404979732395794", true) {
      public Object evaluateEvaluator(final SNode node, IContext context, final ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          Object ctx = MapSequence.fromMap(context.getEnvironment()).get(SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(node), CONCEPTS.DotExpression$jp), LINKS.expr$CW3E));
          boolean ret = false;
          for (SNode l : ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.selectors$9mRD))) {
            if (ctx == EnumLiteral.getInstance(SLinkOperations.getTarget(l, LINKS.literal$XL8B), context, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
              if (trace != null) {
                return trace;
              } else {
                return new DummyComputationTrace(node);
              }
            }).invoke())) {
              ret = true;
              break;
            }
          }
          if (ret) {
            ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.selectors$9mRD)).visitAll((it) -> coverage.coverValue(it, null));
          }
          return ret;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("isIn()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("EnumIsInTarget", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F8006404979732395794");
      }

      @Override
      public String toString() {
        return "EnumIsInTarget";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.AllLitList$RT, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/2945473592443680566", true) {
      public Object evaluateEvaluator(final SNode node, IContext context, ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          PVector res = Empty.vector();
          for (SNode l : ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(SLinkOperations.getTarget(node, LINKS.enumType$fTEX), LINKS.enum$2YBB), LINKS.literals$K_NE))) {
            res = res.plus(EnumLiteral.getInstance(l, context, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
              if (trace != null) {
                return trace;
              } else {
                return new DummyComputationTrace(node);
              }
            }).invoke()));
          }
          return res;
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("literals()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("AllLitList", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F2945473592443680566");
      }

      @Override
      public String toString() {
        return "AllLitList";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
    ListSequence.fromList(((List<IEvaluator>) evaluators)).addElement(new ConceptEvaluatorBase(CONCEPTS.EnumIsTarget$x4, "r:fdc4a3a8-bc78-4f8e-a74a-27e64dd85f6d(org.iets3.core.expr.toplevel.interpreter.plugin)/6527211908674554493", true) {
      public Object evaluateEvaluator(final SNode node, IContext context, ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          coverage.visitedConcept(SNodeOperations.getConcept(node));
          Object ctx = MapSequence.fromMap(context.getEnvironment()).get(SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(node), CONCEPTS.DotExpression$jp), LINKS.expr$CW3E));
          return ctx == EnumLiteral.getInstance(SLinkOperations.getTarget(node, LINKS.literal$lbzw), context, coverage, ((_FunctionTypes._return_P0_E0<ComputationTrace>) () -> {
            if (trace != null) {
              return trace;
            } else {
              return new DummyComputationTrace(node);
            }
          }).invoke());
        } catch (StopAndReturnException stop) {
          return stop.value();
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("is()", node, ex, trace);
        }
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("EnumIsTarget", "http://127.0.0.1:63320/node?ref=ba244314-3e49-476e-a55f-f002b271a724%2Fi%3A10000001%28org.iets3.core.expr.toplevel.interpreter%40transient67%2Forg.iets3.core.expr.toplevel.interpreter.plugin%400%29%2F6527211908674554493");
      }

      @Override
      public String toString() {
        return "EnumIsTarget";
      }

      @Override
      public boolean canLookupBeCached() {
        return true;
      }
    });
  }


  protected void populateTypeMappers(List<? extends ITypeMapper> typeMappers) {
  }



  protected void populateRelationships(List<? extends IRelationship> relationships) {
    ListSequence.fromList(((List<IRelationship>) relationships)).addElement(new InterpretBeforeRelationshipImpl("org.iets3.core.expr.toplevel.interpreter.plugin.InterpreterExprToplevelInterpreter", "org.iets3.core.expr.lambda.interpreter.plugin.InterpreterExprLambdaInterpreter"));
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept ProjectOp$p = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x73194702f12a0d24L, "org.iets3.core.expr.toplevel.structure.ProjectOp");
    /*package*/ static final SConcept ProjectMember$2l = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x73194702f12a0d28L, "org.iets3.core.expr.toplevel.structure.ProjectMember");
    /*package*/ static final SConcept ProjectIt$Ax = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x73194702f1408997L, "org.iets3.core.expr.toplevel.structure.ProjectIt");
    /*package*/ static final SConcept InlineRecordMemberAccess$B2 = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x73194702f1771dbcL, "org.iets3.core.expr.toplevel.structure.InlineRecordMemberAccess");
    /*package*/ static final SConcept GroupByOp$AQ = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x73194702f05f7592L, "org.iets3.core.expr.toplevel.structure.GroupByOp");
    /*package*/ static final SConcept GroupKeyTarget$WX = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x73194702f071c6daL, "org.iets3.core.expr.toplevel.structure.GroupKeyTarget");
    /*package*/ static final SConcept GroupMembersTarget$sT = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x73194702f07abfb8L, "org.iets3.core.expr.toplevel.structure.GroupMembersTarget");
    /*package*/ static final SConcept EnumValueAccessor$QW = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x3f863cbc0146589aL, "org.iets3.core.expr.toplevel.structure.EnumValueAccessor");
    /*package*/ static final SConcept EnumIndexOp$jD = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x3031a8d5c8744c8L, "org.iets3.core.expr.toplevel.structure.EnumIndexOp");
    /*package*/ static final SConcept BuilderExpression$Ly = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafd3L, "org.iets3.core.expr.toplevel.structure.BuilderExpression");
    /*package*/ static final SInterfaceConcept IRecordType$ka = MetaAdapterFactory.getInterfaceConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x3c10dabb94384796L, "org.iets3.core.expr.toplevel.structure.IRecordType");
    /*package*/ static final SConcept FieldSetter$nv = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafecL, "org.iets3.core.expr.toplevel.structure.FieldSetter");
    /*package*/ static final SInterfaceConcept IRecordMember$$B = MetaAdapterFactory.getInterfaceConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x85e1e1330376a27L, "org.iets3.core.expr.toplevel.structure.IRecordMember");
    /*package*/ static final SConcept Type$WK = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x670d5e92f854a614L, "org.iets3.core.expr.base.structure.Type");
    /*package*/ static final SConcept RecordTypeAdapter$nb = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132db232L, "org.iets3.core.expr.toplevel.structure.RecordTypeAdapter");
    /*package*/ static final SConcept RecordLiteral$jy = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x7a477bfec24be9a8L, "org.iets3.core.expr.toplevel.structure.RecordLiteral");
    /*package*/ static final SConcept EnumLiteralRef$$8 = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x61fe216664a736c5L, "org.iets3.core.expr.toplevel.structure.EnumLiteralRef");
    /*package*/ static final SConcept TypedefContractValExpr$9V = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x2e03fe8918a0f2abL, "org.iets3.core.expr.toplevel.structure.TypedefContractValExpr");
    /*package*/ static final SConcept Constant$5s = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x62632b96c1b50dccL, "org.iets3.core.expr.toplevel.structure.Constant");
    /*package*/ static final SConcept RecordMemberRefInConstraint$9n = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0xe377da7335bc308L, "org.iets3.core.expr.toplevel.structure.RecordMemberRefInConstraint");
    /*package*/ static final SConcept NewValueSetter$sz = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x1156bc3bceb768f6L, "org.iets3.core.expr.toplevel.structure.NewValueSetter");
    /*package*/ static final SConcept DotExpression$jp = MetaAdapterFactory.getConcept(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x7cef88020a0f4249L, "org.iets3.core.expr.base.structure.DotExpression");
    /*package*/ static final SConcept OldMemberRef$lO = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0xb6282c45313f471L, "org.iets3.core.expr.toplevel.structure.OldMemberRef");
    /*package*/ static final SConcept OldValueExpr$Gk = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0xb6282c453011bf4L, "org.iets3.core.expr.toplevel.structure.OldValueExpr");
    /*package*/ static final SConcept RecordChangeTarget$KX = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x1156bc3bceb768dbL, "org.iets3.core.expr.toplevel.structure.RecordChangeTarget");
    /*package*/ static final SConcept ConstantRef$5J = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x78b257522b24f39L, "org.iets3.core.expr.toplevel.structure.ConstantRef");
    /*package*/ static final SConcept ExtensionFunctionCall$AX = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x27b717d14a8f82d7L, "org.iets3.core.expr.toplevel.structure.ExtensionFunctionCall");
    /*package*/ static final SConcept EnumIsInTarget$Vc = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x6f1c76e8c8cb0187L, "org.iets3.core.expr.toplevel.structure.EnumIsInTarget");
    /*package*/ static final SConcept AllLitList$RT = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x28e06ca064d916e8L, "org.iets3.core.expr.toplevel.structure.AllLitList");
    /*package*/ static final SConcept EnumIsTarget$x4 = MetaAdapterFactory.getConcept(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x5a9550a5f5da059dL, "org.iets3.core.expr.toplevel.structure.EnumIsTarget");
  }

  private static final class PROPS {
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink expr$CW3E = MetaAdapterFactory.getContainmentLink(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x3b256bb6ae8048d8L, 0x3b256bb6ae8048d9L, "expr");
    /*package*/ static final SContainmentLink members$I$qE = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x73194702f12a0d24L, 0x73194702f12a0d6aL, "members");
    /*package*/ static final SContainmentLink type$MFr_ = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132db232L, 0x465d5f01132db23cL, "type");
    /*package*/ static final SReferenceLink field$jb__ = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafecL, 0x465d5f01132daff6L, "field");
    /*package*/ static final SContainmentLink value$jc3B = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafecL, 0x465d5f01132daff8L, "value");
    /*package*/ static final SContainmentLink elements$iY16 = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafd3L, 0x465d5f01132dafe9L, "elements");
    /*package*/ static final SContainmentLink adapted$goB5 = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x465d5f01132dafd3L, 0x465d5f01132dafddL, "adapted");
    /*package*/ static final SContainmentLink memberValues$9z2D = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x7a477bfec24be9a8L, 0x7a477bfec24be9abL, "memberValues");
    /*package*/ static final SContainmentLink type$EhVN = MetaAdapterFactory.getContainmentLink(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x622163b5c76a6c48L, 0x7a477bfec24be9a9L, "type");
    /*package*/ static final SReferenceLink literal$llO8 = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x61fe216664a736c5L, 0x61fe216664a73709L, "literal");
    /*package*/ static final SContainmentLink type$1eya = MetaAdapterFactory.getContainmentLink(0xcfaa4966b7d54b69L, 0xb66a309a6e1a7290L, 0x62632b96c1ab0b7cL, 0x62632b96c1ab0b7dL, "type");
    /*package*/ static final SReferenceLink member$C$x_ = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0xe377da7335bc308L, 0xe377da7335bc312L, "member");
    /*package*/ static final SReferenceLink member$jDO1 = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0xb6282c45313f471L, 0xb6282c45313f477L, "member");
    /*package*/ static final SReferenceLink member$6757 = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x1156bc3bceb768f6L, 0x1156bc3bceb768f7L, "member");
    /*package*/ static final SContainmentLink setters$ujtT = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x1156bc3bceb768dbL, 0x1156bc3bceb7b437L, "setters");
    /*package*/ static final SContainmentLink newValue$67z9 = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x1156bc3bceb768f6L, 0x1156bc3bceb768f9L, "newValue");
    /*package*/ static final SReferenceLink constant$YVF7 = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x78b257522b24f39L, 0x78b257522b24f3aL, "constant");
    /*package*/ static final SContainmentLink args$hM$s = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x27b717d14a8f82d7L, 0x27b717d14a903157L, "args");
    /*package*/ static final SReferenceLink extFun$udGR = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x27b717d14a8f82d7L, 0x27b717d14a8f82e8L, "extFun");
    /*package*/ static final SContainmentLink args$XOIh = MetaAdapterFactory.getContainmentLink(0x9464fa065ab9409bL, 0x927464ab29588457L, 0x427ce523083b8a2fL, 0x427ce523083b8a3fL, "args");
    /*package*/ static final SReferenceLink literal$XL8B = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x6f1c76e8c8cb0fcdL, 0x6f1c76e8c8cb0fceL, "literal");
    /*package*/ static final SContainmentLink selectors$9mRD = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x6f1c76e8c8cb0187L, 0x6f1c76e8c8cb018aL, "selectors");
    /*package*/ static final SContainmentLink enumType$fTEX = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x28e06ca064d916e8L, 0x28e06ca064d91ca1L, "enumType");
    /*package*/ static final SReferenceLink enum$2YBB = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x61fe216664a730bbL, 0x61fe216664a730f3L, "enum");
    /*package*/ static final SContainmentLink literals$K_NE = MetaAdapterFactory.getContainmentLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x61fe216664a72eaeL, 0x61fe216664a72ef4L, "literals");
    /*package*/ static final SReferenceLink literal$lbzw = MetaAdapterFactory.getReferenceLink(0x71934284d7d145eeL, 0xa0548c072591085fL, 0x5a9550a5f5da059dL, 0x5a9550a5f5e318deL, "literal");
  }
}
