package org.iets3.core.expr.base.runtime.runtime;

/*Generated by MPS */

import org.iets3.core.expr.base.plugin.NixHandler;
import jetbrains.mps.smodel.structure.ExtensionPoint;
import jetbrains.mps.internal.collections.runtime.Sequence;
import org.iets3.core.expr.base.plugin.DefaultNixHandler;

public class NSF {

  private static NixHandler handler = null;

  public static NixHandler resolveMapper() {
    if (handler == null) {
      ExtensionPoint<NixHandler> ep = new ExtensionPoint<NixHandler>("org.iets3.core.expr.base.nixHandler");
      Iterable<NixHandler> handlers = Sequence.fromIterable(ep.getObjects()).sort((it) -> it.getPriorityLevel(), false);
      if (Sequence.fromIterable(handlers).isEmpty()) {
        handler = new DefaultNixHandler();
      } else {
        handler = Sequence.fromIterable(handlers).first();
      }
    }
    return handler;
  }

}
